"use strict";var Rae=Object.defineProperty,Pae=Object.defineProperties,Fae=Object.getOwnPropertyDescriptors,nW=Object.getOwnPropertySymbols,Lae=Object.prototype.hasOwnProperty,Bae=Object.prototype.propertyIsEnumerable,iW=(tt,be,F)=>be in tt?Rae(tt,be,{enumerable:!0,configurable:!0,writable:!0,value:F}):tt[be]=F,rW=(tt,be)=>{for(var F in be||(be={}))Lae.call(be,F)&&iW(tt,F,be[F]);if(nW)for(var F of nW(be))Bae.call(be,F)&&iW(tt,F,be[F]);return tt},sW=(tt,be)=>Pae(tt,Fae(be));(self.webpackChunkpruebaAngular=self.webpackChunkpruebaAngular||[]).push([[179],{2011:(tt,be,F)=>{F.d(be,{Dh:()=>Ce,GT:()=>Ae,cc:()=>He,on:()=>Ne,pX:()=>me,xv:()=>Te});var l=F(5e3),ie=F(127);tt=F.hmd(tt);const U=["ngOnDestroy"],me=(te,Se,Je,rt={})=>new Proxy(te,{get:(Me,de)=>Je.runOutsideAngular(()=>{var ye;if(te[de])return(null===(ye=null==rt?void 0:rt.spy)||void 0===ye?void 0:ye.get)&&rt.spy.get(de,te[de]),te[de];if(U.indexOf(de)>-1)return()=>{};const Be=Se.toPromise().then(ze=>{const H=ze&&ze[de];return"function"==typeof H?H.bind(ze):H&&H.then?H.then(_e=>Je.run(()=>_e)):Je.run(()=>H)});return new Proxy(()=>{},{get:(ze,H)=>Be[H],apply:(ze,H,_e)=>Be.then(K=>{var ee;const J=K&&K(..._e);return(null===(ee=null==rt?void 0:rt.spy)||void 0===ee?void 0:ee.apply)&&rt.spy.apply(de,_e,J),J})})})}),Ae=(te,Se)=>{Se.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(rt=>{Object.defineProperty(te.prototype,rt,Object.getOwnPropertyDescriptor(Je.prototype||Je,rt))})})};class Ie{constructor(Se){return Se}}const Ce=new l.OlP("angularfire2.app.options"),Te=new l.OlP("angularfire2.app.name");function Ne(te,Se,Je){const Me="object"==typeof Je&&Je||{};Me.name=Me.name||"string"==typeof Je&&Je||"[DEFAULT]";const ye=ie.Z.apps.filter(Be=>Be&&Be.name===Me.name)[0]||Se.runOutsideAngular(()=>ie.Z.initializeApp(te,Me));try{JSON.stringify(te)!==JSON.stringify(ye.options)&&$("error",`${ye.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new Ie(ye)}const $=(te,...Se)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[te](...Se)};function He(te,Se,Je,rt,Me){const[,de,ye]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===te)||[];if(de)return function Oe(te,Se){try{return te.toString()===Se.toString()}catch(Je){return te===Se}}(Me,ye)||(Ue("error",`${Se} was already initialized on the ${Je} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:Me,was:ye})),de;{const Be=rt();return globalThis.\u0275AngularfireInstanceCache.push([te,Be,Me]),Be}}const Ve=!!tt.hot,Ue=(te,...Se)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[te](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2090:(tt,be,F)=>{F.d(be,{$s:()=>Ze,BH:()=>Lt,DV:()=>ua,Dv:()=>Li,G6:()=>ye,GJ:()=>ws,L:()=>Te,LL:()=>Sn,Pz:()=>Jt,Sg:()=>Ye,UG:()=>Ve,UI:()=>yt,US:()=>Ie,Wj:()=>ha,Wl:()=>Ut,Yr:()=>de,ZB:()=>q,ZR:()=>Yn,aH:()=>dt,b$:()=>Se,cI:()=>$t,dS:()=>Ui,eu:()=>ze,g5:()=>U,gK:()=>_r,gQ:()=>ii,h$:()=>Ce,hl:()=>Be,hu:()=>ie,jU:()=>Ue,lb:()=>Bi,m9:()=>Bt,ne:()=>Es,p$:()=>$,pd:()=>Di,r3:()=>Ws,ru:()=>te,tV:()=>Ne,uI:()=>Oe,ug:()=>gt,vZ:()=>qr,w1:()=>rt,w9:()=>mr,xO:()=>nl,xb:()=>qs,z$:()=>He,zI:()=>H,zd:()=>il});const ie=function(V,B){if(!V)throw U(B)},U=function(V){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+V)},me=function(V){const B=[];let z=0;for(let pe=0;pe<V.length;pe++){let ne=V.charCodeAt(pe);ne<128?B[z++]=ne:ne<2048?(B[z++]=ne>>6|192,B[z++]=63&ne|128):55296==(64512&ne)&&pe+1<V.length&&56320==(64512&V.charCodeAt(pe+1))?(ne=65536+((1023&ne)<<10)+(1023&V.charCodeAt(++pe)),B[z++]=ne>>18|240,B[z++]=ne>>12&63|128,B[z++]=ne>>6&63|128,B[z++]=63&ne|128):(B[z++]=ne>>12|224,B[z++]=ne>>6&63|128,B[z++]=63&ne|128)}return B},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,B){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ne=0;ne<V.length;ne+=3){const nt=V[ne],At=ne+1<V.length,bn=At?V[ne+1]:0,Xt=ne+2<V.length,fn=Xt?V[ne+2]:0;let An=(15&bn)<<2|fn>>6,Ao=63&fn;Xt||(Ao=64,At||(An=64)),pe.push(z[nt>>2],z[(3&nt)<<4|bn>>4],z[An],z[Ao])}return pe.join("")},encodeString(V,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(V):this.encodeByteArray(me(V),B)},decodeString(V,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(V):function(V){const B=[];let z=0,pe=0;for(;z<V.length;){const ne=V[z++];if(ne<128)B[pe++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const nt=V[z++];B[pe++]=String.fromCharCode((31&ne)<<6|63&nt)}else if(ne>239&&ne<365){const Xt=((7&ne)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;B[pe++]=String.fromCharCode(55296+(Xt>>10)),B[pe++]=String.fromCharCode(56320+(1023&Xt))}else{const nt=V[z++],At=V[z++];B[pe++]=String.fromCharCode((15&ne)<<12|(63&nt)<<6|63&At)}}return B.join("")}(this.decodeStringToByteArray(V,B))},decodeStringToByteArray(V,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ne=0;ne<V.length;){const nt=z[V.charAt(ne++)],bn=ne<V.length?z[V.charAt(ne)]:0;++ne;const fn=ne<V.length?z[V.charAt(ne)]:64;++ne;const It=ne<V.length?z[V.charAt(ne)]:64;if(++ne,null==nt||null==bn||null==fn||null==It)throw Error();pe.push(nt<<2|bn>>4),64!==fn&&(pe.push(bn<<4&240|fn>>2),64!==It&&pe.push(fn<<6&192|It))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},Ce=function(V){const B=me(V);return Ie.encodeByteArray(B,!0)},Te=function(V){return Ce(V).replace(/\./g,"")},Ne=function(V){try{return Ie.decodeString(V,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(V){return q(void 0,V)}function q(V,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!X(z)||(V[z]=q(V[z],B[z]));return V}function X(V){return"__proto__"!==V}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Ue(){return"object"==typeof self&&self.self===self}function te(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const V=He();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function de(){return!1}function ye(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function ze(){return new Promise((V,B)=>{try{let z=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(pe);ne.onsuccess=()=>{ne.result.close(),z||self.indexedDB.deleteDatabase(pe),V(!0)},ne.onupgradeneeded=()=>{z=!1},ne.onerror=()=>{var nt;B((null===(nt=ne.error)||void 0===nt?void 0:nt.message)||"")}}catch(z){B(z)}})}function H(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const fe=()=>{try{return function _e(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if("undefined"==typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(z){return}const B=V&&Ne(V[1]);return B&&JSON.parse(B)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},dt=()=>{var V;return null===(V=fe())||void 0===V?void 0:V.config},Jt=V=>{var B;return null===(B=fe())||void 0===B?void 0:B[`_${V}`]};class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,pe)=>{z?this.reject(z):this.resolve(pe),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,pe))}}}function Ye(V,B){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=B||"demo-project",ne=V.iat||0,nt=V.sub||V.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ne,exp:ne+3600,auth_time:ne,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},V);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(At)),""].join(".")}class Yn extends Error{constructor(B,z,pe){super(z),this.code=B,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}}class Sn{constructor(B,z,pe){this.service=B,this.serviceName=z,this.errors=pe}create(B,...z){const pe=z[0]||{},ne=`${this.service}/${B}`,nt=this.errors[B],At=nt?function rn(V,B){return V.replace(qi,(z,pe)=>{const ne=B[pe];return null!=ne?String(ne):`<${pe}?>`})}(nt,pe):"Error";return new Yn(ne,`${this.serviceName}: ${At} (${ne}).`,pe)}}const qi=/\{\$([^}]+)}/g;function $t(V){return JSON.parse(V)}function Ut(V){return JSON.stringify(V)}const pr=function(V){let B={},z={},pe={},ne="";try{const nt=V.split(".");B=$t(Ne(nt[0])||""),z=$t(Ne(nt[1])||""),ne=nt[2],pe=z.d||{},delete z.d}catch(nt){}return{header:B,claims:z,data:pe,signature:ne}},mr=function(V){const z=pr(V).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},ws=function(V){const B=pr(V).claims;return"object"==typeof B&&!0===B.admin};function Ws(V,B){return Object.prototype.hasOwnProperty.call(V,B)}function ua(V,B){if(Object.prototype.hasOwnProperty.call(V,B))return V[B]}function qs(V){for(const B in V)if(Object.prototype.hasOwnProperty.call(V,B))return!1;return!0}function yt(V,B,z){const pe={};for(const ne in V)Object.prototype.hasOwnProperty.call(V,ne)&&(pe[ne]=B.call(z,V[ne],ne,V));return pe}function qr(V,B){if(V===B)return!0;const z=Object.keys(V),pe=Object.keys(B);for(const ne of z){if(!pe.includes(ne))return!1;const nt=V[ne],At=B[ne];if(Gn(nt)&&Gn(At)){if(!qr(nt,At))return!1}else if(nt!==At)return!1}for(const ne of pe)if(!z.includes(ne))return!1;return!0}function Gn(V){return null!==V&&"object"==typeof V}function nl(V){const B=[];for(const[z,pe]of Object.entries(V))Array.isArray(pe)?pe.forEach(ne=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(ne))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(pe));return B.length?"&"+B.join("&"):""}function il(V){const B={};return V.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ne,nt]=pe.split("=");B[decodeURIComponent(ne)]=decodeURIComponent(nt)}}),B}function Di(V){const B=V.indexOf("?");if(!B)return"";const z=V.indexOf("#",B);return V.substring(B,z>0?z:void 0)}class ii{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,z){z||(z=0);const pe=this.W_;if("string"==typeof B)for(let It=0;It<16;It++)pe[It]=B.charCodeAt(z)<<24|B.charCodeAt(z+1)<<16|B.charCodeAt(z+2)<<8|B.charCodeAt(z+3),z+=4;else for(let It=0;It<16;It++)pe[It]=B[z]<<24|B[z+1]<<16|B[z+2]<<8|B[z+3],z+=4;for(let It=16;It<80;It++){const An=pe[It-3]^pe[It-8]^pe[It-14]^pe[It-16];pe[It]=4294967295&(An<<1|An>>>31)}let fn,ri,ne=this.chain_[0],nt=this.chain_[1],At=this.chain_[2],bn=this.chain_[3],Xt=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(fn=bn^nt&(At^bn),ri=1518500249):(fn=nt^At^bn,ri=1859775393):It<60?(fn=nt&At|bn&(nt|At),ri=2400959708):(fn=nt^At^bn,ri=3395469782);const An=(ne<<5|ne>>>27)+fn+Xt+ri+pe[It]&4294967295;Xt=bn,bn=At,At=4294967295&(nt<<30|nt>>>2),nt=ne,ne=An}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+nt&4294967295,this.chain_[2]=this.chain_[2]+At&4294967295,this.chain_[3]=this.chain_[3]+bn&4294967295,this.chain_[4]=this.chain_[4]+Xt&4294967295}update(B,z){if(null==B)return;void 0===z&&(z=B.length);const pe=z-this.blockSize;let ne=0;const nt=this.buf_;let At=this.inbuf_;for(;ne<z;){if(0===At)for(;ne<=pe;)this.compress_(B,ne),ne+=this.blockSize;if("string"==typeof B){for(;ne<z;)if(nt[At]=B.charCodeAt(ne),++At,++ne,At===this.blockSize){this.compress_(nt),At=0;break}}else for(;ne<z;)if(nt[At]=B[ne],++At,++ne,At===this.blockSize){this.compress_(nt),At=0;break}}this.inbuf_=At,this.total_+=z}digest(){const B=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&z,z/=256;this.compress_(this.buf_);let pe=0;for(let ne=0;ne<5;ne++)for(let nt=24;nt>=0;nt-=8)B[pe]=this.chain_[ne]>>nt&255,++pe;return B}}function Es(V,B){const z=new da(V,B);return z.subscribe.bind(z)}class da{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(pe=>{this.error(pe)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,pe){let ne;if(void 0===B&&void 0===z&&void 0===pe)throw new Error("Missing Observer.");ne=function at(V,B){if("object"!=typeof V||null===V)return!1;for(const z of B)if(z in V&&"function"==typeof V[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:pe},void 0===ne.next&&(ne.next=vt),void 0===ne.error&&(ne.error=vt),void 0===ne.complete&&(ne.complete=vt);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(At){}}),this.observers.push(ne),nt}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}const Li=function(V,B,z,pe){let ne;if(pe<B?ne="at least "+B:pe>z&&(ne=0===z?"none":"no more than "+z),ne)throw new Error(V+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+ne+".")};function _r(V,B){return`${V} failed: ${B} argument `}function ha(V,B,z,pe){if((!pe||z)&&"function"!=typeof z)throw new Error(_r(V,B)+"must be a valid function.")}function Bi(V,B,z,pe){if((!pe||z)&&("object"!=typeof z||null===z))throw new Error(_r(V,B)+"must be a valid context object.")}const Ui=function(V){const B=[];let z=0;for(let pe=0;pe<V.length;pe++){let ne=V.charCodeAt(pe);if(ne>=55296&&ne<=56319){const nt=ne-55296;pe++,ie(pe<V.length,"Surrogate pair missing trail surrogate."),ne=65536+(nt<<10)+(V.charCodeAt(pe)-56320)}ne<128?B[z++]=ne:ne<2048?(B[z++]=ne>>6|192,B[z++]=63&ne|128):ne<65536?(B[z++]=ne>>12|224,B[z++]=ne>>6&63|128,B[z++]=63&ne|128):(B[z++]=ne>>18|240,B[z++]=ne>>12&63|128,B[z++]=ne>>6&63|128,B[z++]=63&ne|128)}return B},gt=function(V){let B=0;for(let z=0;z<V.length;z++){const pe=V.charCodeAt(z);pe<128?B++:pe<2048?B+=2:pe>=55296&&pe<=56319?(B+=4,z++):B+=3}return B};function Ze(V,B=1e3,z=2){const pe=B*Math.pow(z,V),ne=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+ne)}function Bt(V){return V&&V._delegate?V._delegate:V}},981:(tt,be,F)=>{var l=F(5e3);let ie=null;function U(){return ie}const Ce=new l.OlP("DocumentToken");let Te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ne(){return(0,l.LFG)(q)}()},providedIn:"platform"}),n})();const $=new l.OlP("Location Initialized");let q=(()=>{class n extends Te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function He(){return new q((0,l.LFG)(Ce))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(n){const e=(0,l.LFG)(Ce).location;return new rt((0,l.LFG)(Te),e&&e.origin||"")}()},providedIn:"root"}),n})();const Je=new l.OlP("appBaseHref");let rt=(()=>{class n extends te{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Te),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends te{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Oe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Te),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),de=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ve(ze(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ue(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Oe,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(Te))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return new de((0,l.LFG)(te),(0,l.LFG)(Te))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function sl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class No{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new No(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Oo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Oo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Oo(n,e){n.context.$implicit=e.item}let un=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function Pu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Cc=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"json",type:n,pure:!1}),n})(),Si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Po="browser";function cl(n){return"server"===n}let tf=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ul((0,l.LFG)(Ce),window)}),n})();class ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Bu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=nf(this.window.history)||nf(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function nf(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class En{}class Dc extends class Uu extends class Ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ae(n){ie||(ie=n)}(new Dc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rf(){return dn=dn||document.querySelector("base"),dn?dn.getAttribute("href"):null}();return null==t?null:function dl(n){Vu=Vu||document.createElement("a"),Vu.setAttribute("href",n);const e=Vu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sl(document.cookie,e)}}let Vu,dn=null;const Yi=new l.OlP("TRANSITION_ID"),hl=[{provide:l.ip1,useFactory:function sf(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=U(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Yi,Ce,l.zs3],multi:!0}];class Ds{static init(){(0,l.VLi)(new Ds)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(f){c=c||f,s--,0==s&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Qi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ya=new l.OlP("EventManagerPlugins");let va=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ya),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ju{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=U().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ks=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fo=(()=>{class n extends Ks{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Hu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hu))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Hu(n){U().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ba=/%COMP%/g;function Gu(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Gu(n,r,t):(r=r.replace(ba,n),t.push(r))}return t}function De(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wa=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ln(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Nr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new uf(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(va),l.LFG(Fo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ln{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=bt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=bt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,De(i)):this.eventManager.addEventListener(e,t,De(i))}}class Nr extends Ln{constructor(e,t,i,r){super(e),this.component=i;const s=Gu(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Fg(n){return"_ngcontent-%COMP%".replace(ba,n)}(r+"-"+i.id),this.hostAttr=function cf(n){return"_nghost-%COMP%".replace(ba,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class uf extends Ln{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gu(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let df=(()=>{class n extends ju{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hf=["alt","control","meta","shift"],SE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ea={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qr=(()=>{class n extends ju{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(hf.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),c+=f+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(t){let i="",r=function Lg(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ea.hasOwnProperty(e)&&(e=Ea[e]))}return SE[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hf.forEach(s=>{s!=r&&Hi[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pf=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Po},{provide:l.g9A,useValue:function Lo(){Dc.makeCurrent(),Ds.init()},multi:!0},{provide:Ce,useFactory:function ff(){return(0,l.RDi)(document),document},deps:[]}]),ev=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ys(){return new l.qLn},deps:[]},{provide:ya,useClass:df,multi:!0,deps:[Ce,l.R0b,l.Lbi]},{provide:ya,useClass:Qr,multi:!0,deps:[Ce]},{provide:wa,useClass:wa,deps:[va,Fo,l.AFp]},{provide:l.FYo,useExisting:wa},{provide:Ks,useExisting:Fo},{provide:Fo,useClass:Fo,deps:[Ce]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:va,useClass:va,deps:[ya,l.R0b]},{provide:En,useClass:Qi,deps:[]}];let pl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Yi,useExisting:l.AFp},hl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ev,imports:[Si,l.hGG]}),n})();"undefined"!=typeof window&&window;var gn=F(8996),Da=F(3269);function ht(...n){const e=(0,Da.yG)(n);return(0,gn.D)(n,e)}var hn=F(7579);class oi extends hn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var on=F(8306);const{isArray:zu}=Array,{getPrototypeOf:Wg,prototype:vl,keys:bl}=Object;function $n(n){if(1===n.length){const e=n[0];if(zu(e))return{args:e,keys:null};if(function wl(n){return n&&"object"==typeof n&&Wg(n)===vl}(e)){const t=bl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Xr=F(4671),et=F(4004);const{isArray:qg}=Array;function Zu(n){return(0,et.U)(e=>function zg(n,e){return qg(e)?n(...e):n(e)}(n,e))}function _f(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Tn=F(5403),Uo=F(9672);function Vo(n,e,t){n?(0,Uo.f)(t,n,e):e()}var Ji=F(576);function Cl(n,e){const t=(0,Ji.m)(n)?n:()=>n,i=r=>r.error(t());return new on.y(e?r=>e.schedule(i,0,r):i)}const Sa=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ac=F(8189);function Tl(...n){return function Ku(){return(0,Ac.J)(1)}()((0,gn.D)(n,(0,Da.yG)(n)))}var Is=F(8421);function xc(n){return new on.y(e=>{(0,Is.Xf)(n()).subscribe(e)})}var Or=F(515),jo=F(727),Un=F(4482);function vf(){return(0,Un.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Tn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Dl extends on.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Tn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jo.w0.EMPTY)}return e}refCount(){return vf()(this)}}function Mn(n,e){return(0,Un.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,Tn.x)(i,f=>{null==r||r.unsubscribe();let _=0;const w=s++;(0,Is.Xf)(n(f,w)).subscribe(r=(0,Tn.x)(i,T=>i.next(e?e(f,T,w,_++):T),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function ai(n){return n<=0?()=>Or.E:(0,Un.e)((e,t)=>{let i=0;e.subscribe((0,Tn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ss(...n){const e=(0,Da.yG)(n);return(0,Un.e)((t,i)=>{(e?Tl(n,t,e):Tl(n,t)).subscribe(i)})}function Aa(n,e,t,i,r){return(s,c)=>{let d=t,f=e,_=0;s.subscribe((0,Tn.x)(c,w=>{const T=_++;f=d?n(f,w,T):(d=!0,w),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function kr(n,e){return(0,Un.e)(Aa(n,e,arguments.length>=2,!0))}function mn(n,e){return(0,Un.e)((t,i)=>{let r=0;t.subscribe((0,Tn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Rr(n){return(0,Un.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Tn.x)(t,void 0,void 0,c=>{s=(0,Is.Xf)(n(c,Rr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Vn=F(5577);function es(n,e){return(0,Ji.m)(e)?(0,Vn.z)(n,e,1):(0,Vn.z)(n,1)}function Zg(n){return n<=0?()=>Or.E:(0,Un.e)((e,t)=>{let i=[];e.subscribe((0,Tn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Yu(n=kn){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function kn(){return new Sa}function Kg(n){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Il(n,e){const t=arguments.length>=2;return i=>i.pipe(n?mn((r,s)=>n(r,s,i)):Xr.y,ai(1),t?Kg(e):Yu(()=>new Sa))}function Ai(n,e,t){const i=(0,Ji.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Un.e)((r,s)=>{var c;null===(c=i.subscribe)||void 0===c||c.call(i);let d=!0;r.subscribe((0,Tn.x)(s,f=>{var _;null===(_=i.next)||void 0===_||_.call(i,f),s.next(f)},()=>{var f;d=!1,null===(f=i.complete)||void 0===f||f.call(i),s.complete()},f=>{var _;d=!1,null===(_=i.error)||void 0===_||_.call(i,f),s.error(f)},()=>{var f,_;d&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(_=i.finalize)||void 0===_||_.call(i)}))}):Xr.y}class Ho{constructor(e,t){this.id=e,this.url=t}}class Yg extends Ho{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Js extends Ho{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bf extends Ho{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends Ho{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mc extends Ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nc extends Ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qg extends Ho{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class av extends Ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends Ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ju{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class RE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Na(n){return new RE(n)}const xi="ngNavigationCancelingError";function Al(n){const e=Error("NavigationCancelingError: "+n);return e[xi]=!0,e}function PE(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function As(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!ed(n[r],e[r]))return!1;return!0}function ed(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Jg(n){return Array.prototype.concat.apply([],n)}function td(n){return n.length>0?n[n.length-1]:null}function li(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Mi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,gn.D)(Promise.resolve(n)):ht(n)}const FE={exact:function em(n,e,t){if(!xs(n.segments,e.segments)||!rd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!em(n.children[i],e.children[i],t))return!1;return!0},subset:Ef},Go={exact:function Nl(n,e){return As(n,e)},subset:function wf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ed(n[t],e[t]))},ignored:()=>!0};function Ml(n,e,t){return FE[t.paths](n.root,e.root,t.matrixParams)&&Go[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ef(n,e,t){return id(n,e,e.segments,t)}function id(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!xs(r,t)||e.hasChildren()||!rd(r,t,i))}if(n.segments.length===t.length){if(!xs(n.segments,t)||!rd(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ef(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(xs(n.segments,r)&&rd(n.segments,r,i)&&n.children[Pt])&&id(n.children[Pt],e,s,i)}}function rd(n,e,t){return e.every((i,r)=>Go[t](n[r].parameters,i.parameters))}class ts{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return lv.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,li(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}}class kc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Na(this.parameters)),this._parameterMap}toString(){return Pc(this)}}function xs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class sd{}class $o{parse(e){const t=new nm(e);return new ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wo(e.root,!0)}`,i=function Cf(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Xs(t)}=${Xs(r)}`).join("&"):`${Xs(t)}=${Xs(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function od(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lv=new $o;function Ol(n){return n.segments.map(e=>Pc(e)).join("/")}function Wo(n,e){if(!n.hasChildren())return Ol(n);if(e){const t=n.children[Pt]?Wo(n.children[Pt],!1):"",i=[];return li(n.children,(r,s)=>{s!==Pt&&i.push(`${s}:${Wo(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function tm(n,e){let t=[];return li(n.children,(i,r)=>{r===Pt&&(t=t.concat(e(i,r)))}),li(n.children,(i,r)=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Pt?[Wo(n.children[Pt],!1)]:[`${r}:${Wo(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Ol(n)}/${t[0]}`:`${Ol(n)}/(${t.join("//")})`}}function Oa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xs(n){return Oa(n).replace(/%3B/gi,";")}function ka(n){return Oa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function ad(n){return Rc(n.replace(/\+/g,"%20"))}function Pc(n){return`${ka(n.path)}${function ld(n){return Object.keys(n).map(e=>`;${ka(e)}=${ka(n[e])}`).join("")}(n.parameters)}`}const Tf=/^[^\/()?;=#]+/;function cd(n){const e=n.match(Tf);return e?e[0]:""}const kl=/^[^=?&#]+/,Df=/^[^&#]+/;class nm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Pt]=new Ot(e,t)),i}parseSegment(){const e=cd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new kc(Rc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=cd(this.remaining);r&&(i=r,this.capture(i))}e[Rc(t)]=Rc(i)}parseQueryParam(e){const t=function Fc(n){const e=n.match(kl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function LE(n){const e=n.match(Df);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=ad(t),s=ad(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Pt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Pt]:new Ot([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class If{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=im(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=im(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Rl(e,this._root).map(t=>t.value)}}function im(n,e){if(n===e.value)return e;for(const t of e.children){const i=im(n,t);if(i)return i}return null}function Rl(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Rl(n,t);if(i.length)return i.unshift(e),i}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Lc extends If{constructor(e,t){super(e),this.snapshot=t,hd(this,e)}toString(){return this.snapshot.toString()}}function ud(n,e){const t=function Fl(n,e){const c=new to([],{},{},"",{},Pt,e,null,n.root,-1,{});return new dd("",new eo(c,[]))}(n,e),i=new oi([new kc("",{})]),r=new oi({}),s=new oi({}),c=new oi({}),d=new oi(""),f=new Ll(i,r,c,d,s,Pt,e,t.root);return f.snapshot=t.root,new Lc(new eo(f,[]),t)}class Ll{constructor(e,t,i,r,s,c,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(e=>Na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(e=>Na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rm(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function BE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class to{constructor(e,t,i,r,s,c,d,f,_,w,T){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=_,this._lastPathIndex=w,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dd extends If{constructor(e,t){super(t),this.url=e,hd(this,t)}toString(){return Sf(this._root)}}function hd(n,e){e.value._routerState=n,e.children.forEach(t=>hd(n,t))}function Sf(n){const e=n.children.length>0?` { ${n.children.map(Sf).join(", ")} } `:"";return`${n.value}${e}`}function fd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,As(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),As(e.params,t.params)||n.params.next(t.params),function Xu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!As(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),As(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function pd(n,e){const t=As(n.params,e.params)&&function vi(n,e){return xs(n,e)&&n.every((t,i)=>As(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||pd(n.parent,e.parent))}function Bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function cv(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bc(n,i,r);return Bc(n,i)})}(n,e,t);return new eo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>Bc(n,d)),c}}const i=function uv(n){return new Ll(new oi(n.url),new oi(n.params),new oi(n.queryParams),new oi(n.fragment),new oi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Bc(n,s));return new eo(i,r)}}function yr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function no(n){return"object"==typeof n&&null!=n&&n.outlets}function Uc(n,e,t,i,r){let s={};if(i&&li(i,(d,f)=>{s[f]=Array.isArray(d)?d.map(_=>`${_}`):`${d}`}),n===e)return new ts(t,s,r);const c=hv(n,e,t);return new ts(c,s,r)}function hv(n,e,t){const i={};return li(n.children,(r,s)=>{i[s]=r===e?t:hv(r,e,t)}),new Ot(n.segments,i)}class om{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&yr(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(no);if(r&&r!==td(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function lm(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return md(n,e,t);const i=function fv(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(no(d))break;const f=`${d}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&_&&"object"==typeof _&&void 0===_.outlets){if(!xf(f,_,c))return s;i+=2}else{if(!xf(f,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ot(n.segments.slice(0,i.pathIndex),{});return s.children[Pt]=new Ot(n.segments.slice(i.pathIndex),n.children),md(s,0,r)}return i.match&&0===r.length?new Ot(n.segments,{}):i.match&&!n.hasChildren()?cm(n,e,t):i.match?md(n,0,r):cm(n,e,t)}function md(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const i=function am(n){return no(n[0])?n[0].outlets:{[Pt]:n}}(t),r={};return li(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=lm(n.children[c],e,s))}),li(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Ot(n.segments,r)}}function cm(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(no(s)){const f=pv(s.outlets);return new Ot(i,f)}if(0===r&&yr(t[0])){i.push(new kc(n.segments[e].path,Bl(t[0]))),r++;continue}const c=no(s)?s.outlets[Pt]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&yr(d)?(i.push(new kc(c,Bl(d))),r+=2):(i.push(new kc(c,{})),r++)}return new Ot(i,{})}function pv(n){const e={};return li(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=cm(new Ot([],{}),0,t))}),e}function Bl(n){const e={};return li(n,(t,i)=>e[i]=`${t}`),e}function xf(n,e,t){return n==t.path&&As(e,t.parameters)}class ns{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),fd(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Pl(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),li(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Pl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Pl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Pl(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Ma(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xa(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(fd(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),fd(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=function um(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),f=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=f,c.outlet&&c.outlet.activateWith(r,f),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class _d{constructor(e,t){this.routes=e,this.module=t}}function is(n){return"function"==typeof n}function qo(n){return n instanceof ts}const yd=Symbol("INITIAL_VALUE");function Ul(){return Mn(n=>function El(...n){const e=(0,Da.yG)(n),t=(0,Da.jO)(n),{args:i,keys:r}=$n(n);if(0===i.length)return(0,gn.D)([],e);const s=new on.y(function Ia(n,e,t=Xr.y){return i=>{Vo(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)Vo(e,()=>{const _=(0,gn.D)(n[f],e);let w=!1;_.subscribe((0,Tn.x)(i,T=>{s[f]=T,w||(w=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>_f(r,c):Xr.y));return t?s.pipe(Zu(t)):s}(n.map(e=>e.pipe(ai(1),Ss(yd)))).pipe(kr((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==yd?r:(s===yd&&(i=!0),i||!1!==s&&c!==t.length-1&&!qo(s)?r:s),e)},yd),mn(e=>e!==yd),(0,et.U)(e=>qo(e)?e:!0===e),ai(1)))}class dm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jc,this.attachRef=null}}class jc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Of=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new gv(t,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ll?this.route:e===jc?this.childContexts:this.parent.get(e,t)}}let hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[Of],encapsulation:2}),n})();function vd(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Vl(i,mv(e,i))}}function Vl(n,e){n.children&&vd(n.children,e)}function mv(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Hc(n){const e=n.children&&n.children.map(Hc),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=hm),t}function tr(n){return n.outlet||Pt}function Nn(n,e){const t=n.filter(i=>tr(i)===e);return t.push(...n.filter(i=>tr(i)!==e)),t}const fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bd(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},fm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||PE)(t,n,e);if(!s)return Object.assign({},fm);const c={};li(s.posParams,(f,_)=>{c[_]=f.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function ro(n,e,t,i,r="corrected"){if(t.length>0&&function yv(n,e,t){return t.some(i=>wd(n,e,i)&&tr(i)!==Pt)}(n,t,i)){const c=new Ot(e,function _v(n,e,t,i){const r={};r[Pt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&tr(s)!==Pt){const c=new Ot([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[tr(s)]=c}return r}(n,e,i,new Ot(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function gm(n,e,t){return t.some(i=>wd(n,e,i))}(n,t,i)){const c=new Ot(n.segments,function pm(n,e,t,i,r,s){const c={};for(const d of i)if(wd(n,t,d)&&!r[tr(d)]){const f=new Ot([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[tr(d)]=f}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Ot(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function wd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mm(n,e,t,i){return!!(tr(n)===i||i!==Pt&&wd(e,t,n))&&("**"===n.path||bd(e,n,t).matched)}function vv(n,e,t){return 0===e.length&&!n.children[t]}class kf{constructor(e){this.segmentGroup=e||null}}class Ms{constructor(e){this.urlTree=e}}function Jn(n){return Cl(new kf(n))}function Gc(n){return Cl(new Ms(n))}class $c{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=ro(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,et.U)(s=>this.createUrlTree(Wc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rr(s=>{if(s instanceof Ms)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof kf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,et.U)(r=>this.createUrlTree(Wc(r),e.queryParams,e.fragment))).pipe(Rr(r=>{throw r instanceof kf?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Ot([],{[Pt]:e}):e;return new ts(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,et.U)(s=>new Ot([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,gn.D)(r).pipe(es(s=>{const c=i.children[s],d=Nn(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,et.U)(f=>({segment:f,outlet:s})))}),kr((s,c)=>(s[c.outlet]=c.segment,s),{}),function kE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?mn((r,s)=>n(r,s,i)):Xr.y,Zg(1),t?Kg(e):Yu(()=>new Sa))}())}expandSegment(e,t,i,r,s,c){return(0,gn.D)(i).pipe(es(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(Rr(_=>{if(_ instanceof kf)return ht(null);throw _}))),Il(d=>!!d),Rr((d,f)=>{if(d instanceof Sa||"EmptyError"===d.name)return vv(t,r,s)?ht(new Ot([],{})):Jn(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return mm(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):Jn(t):Jn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Gc(s):this.lineralizeSegments(i,s).pipe((0,Vn.z)(c=>{const d=new Ot(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:f,remainingSegments:_,positionalParamSegments:w}=bd(t,r,s);if(!d)return Jn(t);const T=this.applyRedirectCommands(f,r.redirectTo,w);return r.redirectTo.startsWith("/")?Gc(T):this.lineralizeSegments(r,T).pipe((0,Vn.z)(I=>this.expandSegment(e,t,i,I.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ht(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,et.U)(T=>(i._loadedConfig=T,new Ot(r,{})))):ht(new Ot(r,{}));const{matched:c,consumedSegments:d,remainingSegments:f}=bd(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,Vn.z)(w=>{const T=w.module,I=w.routes,{segmentGroup:M,slicedSegments:k}=ro(t,d,f,I),L=new Ot(M.segments,M.children);if(0===k.length&&L.hasChildren())return this.expandChildren(T,I,L).pipe((0,et.U)(ge=>new Ot(d,ge)));if(0===I.length&&0===k.length)return ht(new Ot(d,{}));const G=tr(i)===s;return this.expandSegment(T,L,I,k,G?Pt:s,!0).pipe((0,et.U)(ue=>new Ot(d.concat(ue.segments),ue.children)))})):Jn(t)}getChildConfig(e,t,i){return t.children?ht(new _d(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ht(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Vn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,et.U)(s=>(t._loadedConfig=s,s))):function ym(n){return Cl(Al(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ht(new _d([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ht(r.map(c=>{const d=e.get(c);let f;if(function HE(n){return n&&is(n.canLoad)}(d))f=d.canLoad(t,i);else{if(!is(d))throw new Error("Invalid CanLoad guard");f=d(t,i)}return Mi(f)})).pipe(Ul(),Ai(c=>{if(!qo(c))return;const d=Al(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,et.U)(c=>!0===c)):ht(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ht(i);if(r.numberOfChildren>1||!r.children[Pt])return Cl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Pt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ts(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return li(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return li(t.children,(d,f)=>{c[f]=this.createSegmentGroup(e,d,i,r)}),new Ot(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Wc(n){const e={};for(const i of Object.keys(n.children)){const s=Wc(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Ed(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}class Cd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Td{constructor(e,t){this.component=e,this.route=t}}function Dd(n,e,t){const i=n._root;return jl(i,e?e._root:null,t,[i.value])}function bi(n,e,t){const i=function qc(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function jl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pl(e);return n.children.forEach(c=>{(function Pf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function Ff(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xs(n.url,e.url)||!As(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pd(n,e)||!As(n.queryParams,e.queryParams);default:return!pd(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Cd(i)):(s.data=c.data,s._resolvedData=c._resolvedData),jl(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Td(d.outlet.component,c))}else c&&Ra(e,d,r),r.canActivateChecks.push(new Cd(i)),jl(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),li(s,(c,d)=>Ra(c,t.getContext(d),r)),r}function Ra(n,e,t){const i=Pl(n),r=n.value;li(i,(s,c)=>{Ra(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Td(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class wm{}function Oi(n){return new on.y(e=>e.error(n))}class Uf{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=ro(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const i=new to([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new eo(i,t),s=new dd(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=rm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],d=Nn(e,s),f=this.processSegmentGroup(d,c,s);if(null===f)return null;i.push(...f)}const r=Vf(i);return function Dv(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return vv(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!mm(e,t,i,r))return null;let s,c=[],d=[];if("**"===e.path){const M=i.length>0?td(i).parameters:{};s=new to(i,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(e),tr(e),e.component,e,Em(t),oo(t)+i.length,Sv(e))}else{const M=bd(t,e,i);if(!M.matched)return null;c=M.consumedSegments,d=M.remainingSegments,s=new to(c,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(e),tr(e),e.component,e,Em(t),oo(t)+c.length,Sv(e))}const f=function so(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:w}=ro(t,c,d,f.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===w.length&&_.hasChildren()){const M=this.processChildren(f,_);return null===M?null:[new eo(s,M)]}if(0===f.length&&0===w.length)return[new eo(s,[])];const T=tr(e)===r,I=this.processSegment(f,_,w,T?Pt:r);return null===I?null:[new eo(s,I)]}}function zc(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vf(n){const e=[],t=new Set;for(const i of n){if(!zc(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Vf(i.children);e.push(new eo(i.value,r))}return e.filter(i=>!t.has(i))}function Em(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ss(n){return n.data||{}}function Sv(n){return n.resolve||{}}function m(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S(n){return Mn(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,et.U)(()=>e)):ht(e)})}class oe extends class W{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Re=new l.OlP("ROUTES");class Ke{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,et.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new _d(Jg(c.injector.get(Re,void 0,l.XFs.Self|l.XFs.Optional)).map(Hc),c)}),Rr(s=>{throw t._loader$=void 0,s}));return t._loader$=new Dl(r,()=>new hn.x).pipe(vf()),t._loader$}loadModuleFactory(e){return Mi(e()).pipe((0,Vn.z)(t=>t instanceof l.YKP?ht(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class lt{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ci(n){throw n}function ki(n,e,t){return e.parse("/")}function Pa(n,e){return ht(null)}const jf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class n{constructor(t,i,r,s,c,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hn.x,this.errorHandler=ci,this.malformedUriErrorHandler=ki,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pa,afterPreactivation:Pa},this.urlHandlingStrategy=new lt,this.routeReuseStrategy=new oe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const T=c.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function nd(){return new ts(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ke(c,d,I=>this.triggerEvent(new er(I)),I=>this.triggerEvent(new Oc(I))),this.routerState=ud(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(mn(r=>0!==r.id),(0,et.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Mn(r=>{let s=!1,c=!1;return ht(r).pipe(Ai(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mn(d=>{const f=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Id(d.source)&&(this.browserUrlTree=d.extractedUrl),ht(d).pipe(Mn(T=>{const I=this.transitions.getValue();return i.next(new Yg(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),I!==this.transitions.getValue()?Or.E:Promise.resolve(T)}),function Rf(n,e,t,i){return Mn(r=>function Ni(n,e,t,i,r){return new $c(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,et.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ai(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function GE(n,e,t,i,r){return(0,Vn.z)(s=>function Bf(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new Uf(n,e,t,i,r,s).recognize();return null===c?Oi(new wm):ht(c)}catch(c){return Oi(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,et.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ai(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(M,T)}this.browserUrlTree=T.urlAfterRedirects}const I=new Mc(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(I)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:M,source:k,restoredState:L,extras:G}=d,se=new Yg(I,this.serializeUrl(M),k,L);i.next(se);const ue=ud(M,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},d),{targetSnapshot:ue,urlAfterRedirects:M,extras:Object.assign(Object.assign({},G),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Or.E}),S(d=>{const{targetSnapshot:f,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:M}}=d;return this.hooks.beforePreactivation(f,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!M})}),Ai(d=>{const f=new Nc(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,et.U)(d=>Object.assign(Object.assign({},d),{guards:Dd(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function Lf(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?ht(Object.assign(Object.assign({},t),{guardsResult:!0})):function vm(n,e,t,i){return(0,gn.D)(n).pipe((0,Vn.z)(r=>function Tv(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ht(s.map(d=>{const f=bi(d,e,r);let _;if(function Nf(n){return n&&is(n.canDeactivate)}(f))_=Mi(f.canDeactivate(n,e,t,i));else{if(!is(f))throw new Error("Invalid CanDeactivate guard");_=Mi(f(n,e,t,i))}return _.pipe(Il())})).pipe(Ul()):ht(!0)}(r.component,r.route,t,e,i)),Il(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Vn.z)(d=>d&&function jE(n){return"boolean"==typeof n}(d)?function wv(n,e,t,i){return(0,gn.D)(e).pipe(es(r=>Tl(function bm(n,e){return null!==n&&e&&e(new Qu(n)),ht(!0)}(r.route.parent,i),function rs(n,e){return null!==n&&e&&e(new Sl(n)),ht(!0)}(r.route,i),function Cv(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function bv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>xc(()=>ht(c.guards.map(f=>{const _=bi(f,c.node,t);let w;if(function Vc(n){return n&&is(n.canActivateChild)}(_))w=Mi(_.canActivateChild(i,n));else{if(!is(_))throw new Error("Invalid CanActivateChild guard");w=Mi(_(i,n))}return w.pipe(Il())})).pipe(Ul())));return ht(s).pipe(Ul())}(n,r.path,t),function Ev(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ht(!0);const r=i.map(s=>xc(()=>{const c=bi(s,e,t);let d;if(function Mf(n){return n&&is(n.canActivate)}(c))d=Mi(c.canActivate(e,n));else{if(!is(c))throw new Error("Invalid CanActivate guard");d=Mi(c(e,n))}return d.pipe(Il())}));return ht(r).pipe(Ul())}(n,r.route,t))),Il(r=>!0!==r,!0))}(i,s,n,e):ht(d)),(0,et.U)(d=>Object.assign(Object.assign({},t),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),Ai(d=>{if(qo(d.guardsResult)){const _=Al(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw _.url=d.guardsResult,_}const f=new Qg(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),mn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),S(d=>{if(d.guards.canActivateChecks.length)return ht(d).pipe(Ai(f=>{const _=new av(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),Mn(f=>{let _=!1;return ht(f).pipe(function Cm(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ht(t);let s=0;return(0,gn.D)(r).pipe(es(c=>function v(n,e,t,i){return function g(n,e,t,i){const r=m(n);if(0===r.length)return ht({});const s={};return(0,gn.D)(r).pipe((0,Vn.z)(c=>function E(n,e,t,i){const r=bi(n,e,i);return Mi(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe(Ai(d=>{s[c]=d}))),Zg(1),(0,Vn.z)(()=>m(s).length===r.length?ht(s):Or.E))}(n._resolve,n,e,i).pipe((0,et.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),rm(n,t).resolve),null)))}(c.route,i,n,e)),Ai(()=>s++),Zg(1),(0,Vn.z)(c=>s===r.length?ht(t):Or.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ai({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),Ai(f=>{const _=new Xi(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}))}),S(d=>{const{targetSnapshot:f,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:M}}=d;return this.hooks.afterPreactivation(f,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!M})}),(0,et.U)(d=>{const f=function sm(n,e,t){const i=Bc(n,e._root,t?t._root:void 0);return new Lc(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),Ai(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,et.U)(i=>(new ns(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),Ai({next(){s=!0},complete(){s=!0}}),function ov(n){return(0,Un.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Rr(d=>{if(c=!0,function xl(n){return n&&n[xi]}(d)){const f=qo(d.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const _=new bf(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(_),f?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Id(r.source)};this.scheduleNavigation(w,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Qn(r.id,this.serializeUrl(r.extractedUrl),d);i.next(f);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Or.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){vd(t),this.config=t.map(Hc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,_=r||this.routerState.root,w=f?this.currentUrlTree.fragment:c;let T=null;switch(d){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function dv(n,e,t,i,r){if(0===t.length)return Uc(e.root,e.root,e.root,i,r);const s=function UE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new om(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return li(s.outlets,(f,_)=>{d[_]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new om(t,e,i)}(t);if(s.toRoot())return Uc(e.root,e.root,new Ot([],{}),i,r);const c=function VE(n,e,t){if(n.isAbsolute)return new gd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new gd(s,s===e.root,0)}const i=yr(n.commands[0])?0:1;return function Af(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new gd(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),d=c.processChildren?md(c.segmentGroup,c.index,s.commands):lm(c.segmentGroup,c.index,s.commands);return Uc(e.root,c.segmentGroup,d,i,r)}(_,this.currentUrlTree,t,T,null!=w?w:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=qo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Tm(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},jf):!1===i?Object.assign({},Hf):i,qo(t))return Ml(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Ml(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Js(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var d,f;if(this.disposed)return Promise.resolve(!1);let _,w,T;c?(_=c.resolve,w=c.reject,T=c.promise):T=new Promise((k,L)=>{_=k,w=L});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(k=>Promise.reject(k))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new bf(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Id(n){return"imperative"!==n}class Hl{}class Am{preload(e,t){return ht(null)}}let $E=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new Ke(r,i,f=>t.triggerEvent(new er(f)),f=>t.triggerEvent(new Oc(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(mn(t=>t instanceof Js),es(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,gn.D)(r).pipe((0,Ac.J)(),(0,et.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ht(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Vn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_n),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Hl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Av=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Js&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ju&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Ju(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=new l.OlP("ROUTER_CONFIGURATION"),$l=new l.OlP("ROUTER_FORROOT_GUARD"),WE=[de,{provide:sd,useClass:$o},{provide:_n,useFactory:function KE(n,e,t,i,r,s,c={},d,f){const _=new _n(null,n,e,t,i,r,Jg(s));return d&&(_.urlHandlingStrategy=d),f&&(_.routeReuseStrategy=f),function Mv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(w=>{var T,I;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(I=console.groupEnd)||void 0===I||I.call(console)}),_},deps:[sd,jc,de,l.zs3,l.Sil,Re,Gl,[class ft{},new l.FiY],[class O{},new l.FiY]]},jc,{provide:Ll,useFactory:function YE(n){return n.routerState.root},deps:[_n]},$E,Am,class Sm{preload(e,t){return t().pipe(Rr(()=>ht(null)))}},{provide:Gl,useValue:{enableTracing:!1}}];function qE(){return new l.PXZ("Router",_n)}let zE=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[WE,xv(t),{provide:$l,useFactory:ZE,deps:[[_n,new l.FiY,new l.tp0]]},{provide:Gl,useValue:i||{}},{provide:te,useFactory:VS,deps:[Te,[new l.tBr(Je),new l.FiY],Gl]},{provide:Av,useFactory:xm,deps:[_n,tf,Gl]},{provide:Hl,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Am},{provide:l.PXZ,multi:!0,useFactory:qE},[xd,{provide:l.ip1,multi:!0,useFactory:Mm,deps:[xd]},{provide:Nm,useFactory:QE,deps:[xd]},{provide:l.tb,multi:!0,useExisting:Nm}]]}}static forChild(t){return{ngModule:n,providers:[xv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($l,8),l.LFG(_n,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function xm(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Av(n,e,t)}function VS(n,e,t={}){return t.useHash?new Me(n,e):new rt(n,e)}function ZE(n){return"guarded"}function xv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Re,multi:!0,useValue:n}]}let xd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new hn.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(_n),c=this.injector.get(Gl);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Gl),r=this.injector.get($E),s=this.injector.get(Av),c=this.injector.get(_n),d=this.injector.get(l.z2F);t===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Mm(n){return n.appInitializer.bind(n)}function QE(n){return n.bootstrapListener.bind(n)}const Nm=new l.OlP("Router Initializer");let Md=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-error404"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"Ups! la p\xe1gina a la que quieres acceder no est\xe1 disponible"),l.qZA())},styles:[""]}),n})();const Nd_apiUrl="https://portfolio-perrottavicente.koyeb.app/";class Nv{}class eC{}class ao{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ao;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ao?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tC{encodeKey(e){return kv(e)}encodeValue(e){return kv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nC=/%(\d[a-f0-9])/gi,b2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kv(n){return encodeURIComponent(n).replace(nC,(e,t)=>{var i;return null!==(i=b2[t])&&void 0!==i?i:e})}function iC(n){return`${n}`}class Fa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ov(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(c)||[];f.push(d),t.set(c,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Fa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(iC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(iC(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jS{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rC(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Rv(n){return"undefined"!=typeof Blob&&n instanceof Blob}function sC(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Gf{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function lo(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ao),this.context||(this.context=new jS),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Fa,this.urlWithParams=t}serializeBody(){return null===this.body?null:rC(this.body)||Rv(this.body)||sC(this.body)||function HS(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sC(this.body)?null:Rv(this.body)?this.body.type||null:rC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((I,M)=>I.set(M,e.setHeaders[M]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((I,M)=>I.set(M,e.setParams[M]),w)),new Gf(i,r,c,{params:w,headers:_,context:T,reportProgress:f,responseType:s,withCredentials:d})}}var ui=(()=>((ui=ui||{})[ui.Sent=0]="Sent",ui[ui.UploadProgress=1]="UploadProgress",ui[ui.ResponseHeader=2]="ResponseHeader",ui[ui.DownloadProgress=3]="DownloadProgress",ui[ui.Response=4]="Response",ui[ui.User=5]="User",ui))();class Om{constructor(e,t=200,i="OK"){this.headers=e.headers||new ao,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Pv extends Om{constructor(e={}){super(e),this.type=ui.ResponseHeader}clone(e={}){return new Pv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class km extends Om{constructor(e={}){super(e),this.type=ui.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new km({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oC extends Om{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function St(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Wl=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Gf)s=t;else{let f,_;f=r.headers instanceof ao?r.headers:new ao(r.headers),r.params&&(_=r.params instanceof Fa?r.params:new Fa({fromObject:r.params})),s=new Gf(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=ht(s).pipe(es(f=>this.handler.handle(f)));if(t instanceof Gf||"events"===r.observe)return c;const d=c.pipe(mn(f=>f instanceof km));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,et.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,et.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,et.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,et.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Fa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,St(r,i))}post(t,i,r={}){return this.request("POST",t,St(r,i))}put(t,i,r={}){return this.request("PUT",t,St(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Fv{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const $f=new l.OlP("HTTP_INTERCEPTORS");let Rm=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const C2=/^\)\]\}',?\n/;let WS=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new on.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((M,k)=>r.setRequestHeader(M,k.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&r.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();r.responseType="json"!==M?M:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const M=r.statusText||"OK",k=new ao(r.getAllResponseHeaders()),L=function uC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new Pv({headers:k,status:r.status,statusText:M,url:L}),c},f=()=>{let{headers:M,status:k,statusText:L,url:G}=d(),se=null;204!==k&&(se=void 0===r.response?r.responseText:r.response),0===k&&(k=se?200:0);let ue=k>=200&&k<300;if("json"===t.responseType&&"string"==typeof se){const ge=se;se=se.replace(C2,"");try{se=""!==se?JSON.parse(se):null}catch(ce){se=ge,ue&&(ue=!1,se={error:ce,text:se})}}ue?(i.next(new km({body:se,headers:M,status:k,statusText:L,url:G||void 0})),i.complete()):i.error(new oC({error:se,headers:M,status:k,statusText:L,url:G||void 0}))},_=M=>{const{url:k}=d(),L=new oC({error:M,status:r.status||0,statusText:r.statusText||"Unknown Error",url:k||void 0});i.error(L)};let w=!1;const T=M=>{w||(i.next(d()),w=!0);let k={type:ui.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(k.total=M.total),"text"===t.responseType&&!!r.responseText&&(k.partialText=r.responseText),i.next(k)},I=M=>{let k={type:ui.UploadProgress,loaded:M.loaded};M.lengthComputable&&(k.total=M.total),i.next(k)};return r.addEventListener("load",f),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),t.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",I)),r.send(s),i.next({type:ui.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",f),r.removeEventListener("timeout",_),t.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",I)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(En))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Od=new l.OlP("XSRF_COOKIE_NAME"),kd=new l.OlP("XSRF_HEADER_NAME");class Pm{}let Lv=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce),l.LFG(l.Lbi),l.LFG(Od))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wf=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pm),l.LFG(kd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),T2=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get($f,[]);this.chain=i.reduceRight((r,s)=>new Fv(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eC),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qS=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Wf,useClass:Rm}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Od,useValue:t.cookieName}:[],t.headerName?{provide:kd,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wf,{provide:$f,useExisting:Wf,multi:!0},{provide:Pm,useClass:Lv},{provide:Od,useValue:"XSRF-TOKEN"},{provide:kd,useValue:"X-XSRF-TOKEN"}]}),n})(),zS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wl,{provide:Nv,useClass:T2},WS,{provide:eC,useExisting:WS}],imports:[[qS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Bv="AuthToken",dC="AuthUsername",qf="Authorities";new ao({"Content-Type":"application/json"});let os=(()=>{class n{constructor(t){this.http=t,this.roles=[]}setToken(t){window.sessionStorage.removeItem(Bv),window.sessionStorage.setItem(Bv,t)}getToken(){return sessionStorage.getItem(Bv)}setUserName(t){window.sessionStorage.removeItem(dC),window.sessionStorage.setItem(dC,t)}getUserName(){return sessionStorage.getItem(dC)}setAuthorities(t){window.sessionStorage.removeItem(qf),window.sessionStorage.setItem(qf,JSON.stringify(t))}getAuthorities(){return this.roles=[],sessionStorage.getItem(qf)&&JSON.parse(sessionStorage.getItem(qf)).forEach(t=>{this.roles.push(t.authority)}),this.roles}logOut(){window.sessionStorage.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zc=(()=>{class n{constructor(t,i){this.http=t,this.tokenService=i,this.apiHerokuUrl=Nd_apiUrl}ngOnInit(){this.tokenService.getToken()}obtenerDatosExperiencia(){return this.http.get(`${this.apiHerokuUrl}experiencia/todas`)}addExperiencia(t){return this.http.post(`${this.apiHerokuUrl}experiencia`,t)}modificarExperiencia(t){return this.http.put(this.apiHerokuUrl+"experiencia/update",t)}borrarExperiencia(t){return this.http.delete(`${this.apiHerokuUrl}experiencia/${t}`)}getExperiencia(){return this.http.get(`${this.apiHerokuUrl}experiencia/todas`)}updateExperiencia(t){return this.http.put(`${this.apiHerokuUrl}modifica/experiencia`,t)}obtenerUnaExperiencia(){return this.http.get(this.apiHerokuUrl+"experiencia/1")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl),l.LFG(os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S2={headers:new ao({"Content-Type":"application/json"})};let Ko=(()=>{class n{constructor(t,i){this.httpClient=t,this.router=i,this.URL=Nd_apiUrl+"auth/",this.estaLogeado=!1}nuevo(t){return this.httpClient.post(this.URL+"nuevo",t)}login(t){return this.httpClient.post(this.URL+"login",t,S2)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl),l.LFG(_n))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A2=F(1144);const x2=["addListener","removeListener"],M2=["addEventListener","removeEventListener"],N2=["on","off"];function Pr(n,e,t,i){if((0,Ji.m)(t)&&(i=t,t=void 0),i)return Pr(n,e,t).pipe(Zu(i));const[r,s]=function zl(n){return(0,Ji.m)(n.addEventListener)&&(0,Ji.m)(n.removeEventListener)}(n)?M2.map(c=>d=>n[c](e,d,t)):function O2(n){return(0,Ji.m)(n.addListener)&&(0,Ji.m)(n.removeListener)}(n)?x2.map(YS(n,e)):function k2(n){return(0,Ji.m)(n.on)&&(0,Ji.m)(n.off)}(n)?N2.map(YS(n,e)):[];if(!r&&(0,A2.z)(n))return(0,Vn.z)(c=>Pr(c,e,t))((0,Is.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new on.y(c=>{const d=(...f)=>c.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function YS(n,e){return t=>i=>n[t](e,i)}class Uv extends jo.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Fm={setInterval(n,e,...t){const{delegate:i}=Fm;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Fm;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var hC=F(8737);class Lm extends Uv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Fm.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Fm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,hC.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Bm={now:()=>(Bm.delegate||Date).now(),delegate:void 0};class Kc{constructor(e,t=Kc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Kc.now=Bm.now;class fC extends Kc{constructor(e,t=Kc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const as=new fC(Lm),pC=as;var QS=F(3532);function Rd(n=0,e,t=pC){let i=-1;return null!=e&&((0,QS.K)(e)?t=e:i=e),new on.y(r=>{let s=function Vv(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:gC}=Array;function mC(n){return 1===n.length&&gC(n[0])?n[0]:n}function _C(...n){return 1===(n=mC(n)).length?(0,Is.Xf)(n[0]):new on.y(function zf(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Is.Xf)(n[i]).subscribe((0,Tn.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}var La=F(5032);function Zl(...n){const e=(0,Da.jO)(n),t=mC(n);return t.length?new on.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<t.length;c++)(0,Is.Xf)(t[c]).subscribe((0,Tn.x)(i,d=>{if(r[c].push(d),r.every(f=>f.length)){const f=r.map(_=>_.shift());i.next(e?e(...f):f),r.some((_,w)=>!_.length&&s[w])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):Or.E}new on.y(La.Z);var Ba=F(6451);function di(n){return(0,Un.e)((e,t)=>{(0,Is.Xf)(n).subscribe((0,Tn.x)(t,()=>t.complete(),La.Z)),!t.closed&&e.subscribe(t)})}function Pd(n,e=Xr.y){return n=null!=n?n:jv,(0,Un.e)((t,i)=>{let r,s=!0;t.subscribe((0,Tn.x)(i,c=>{const d=e(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function jv(n,e){return n===e}function Fd(...n){const e=(0,Da.jO)(n);return(0,Un.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,Is.Xf)(n[f]).subscribe((0,Tn.x)(i,_=>{s[f]=_,!d&&!c[f]&&(c[f]=!0,(d=c.every(Xr.y))&&(c=null))},La.Z));t.subscribe((0,Tn.x)(i,f=>{if(d){const _=[f,...s];i.next(e?e(..._):_)}}))})}function vC(n,e){return e?t=>Tl(e.pipe(ai(1),function yC(){return(0,Un.e)((n,e)=>{n.subscribe((0,Tn.x)(e,La.Z))})}()),t.pipe(vC(n))):(0,Vn.z)((t,i)=>n(t,i).pipe(ai(1),function Vm(n){return(0,et.U)(()=>n)}(t)))}function Hv(n,e=as){const t=Rd(n,e);return vC(()=>t)}var jm=F(3099);let wC=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Kl=(()=>{class n extends wC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ns=new l.OlP("NgValueAccessor"),eA={provide:Ns,useExisting:(0,l.Gpc)(()=>Ld),multi:!0},P2=new l.OlP("CompositionEventMode");let Ld=(()=>{class n extends wC{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tA(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(P2,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([eA]),l.qOj]}),n})();const nr=new l.OlP("NgValidators"),Yo=new l.OlP("NgAsyncValidators");function Gv(n){return function Ua(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function Kf(n){return null}function AC(n){return null!=n}function co(n){const e=(0,l.QGY)(n)?(0,gn.D)(n):n;return(0,l.CqO)(e),e}function Hm(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xC(n,e){return e.map(t=>t(n))}function rA(n){return n.map(e=>function iA(n){return!n.validate}(e)?e:t=>e.validate(t))}function zv(n){return null!=n?function qv(n){if(!n)return null;const e=n.filter(AC);return 0==e.length?null:function(t){return Hm(xC(t,e))}}(rA(n)):null}function Zv(n){return null!=n?function MC(n){if(!n)return null;const e=n.filter(AC);return 0==e.length?null:function(t){return function bC(...n){const e=(0,Da.jO)(n),{args:t,keys:i}=$n(n),r=new on.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let f=c,_=c;for(let w=0;w<c;w++){let T=!1;(0,Is.Xf)(t[w]).subscribe((0,Tn.x)(s,I=>{T||(T=!0,_--),d[w]=I},()=>f--,void 0,()=>{(!f||!T)&&(_||s.next(i?_f(i,d):d),s.complete())}))}});return e?r.pipe(Zu(e)):r}(xC(t,e).map(co)).pipe((0,et.U)(Hm))}}(rA(n)):null}function Gm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Bd(n){return n?Array.isArray(n)?n:[n]:[]}function Ud(n,e){return Array.isArray(n)?n.includes(e):n===e}function kC(n,e){const t=Bd(e);return Bd(n).forEach(r=>{Ud(t,r)||t.push(r)}),t}function $m(n,e){return Bd(e).filter(t=>!Ud(n,t))}class Wm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Va extends Wm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Lr extends Wm{get formDirective(){return null}get path(){return null}}class sA{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Yf=(()=>{class n extends sA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Va,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),Vd=(()=>{class n extends sA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function Hd(n,e){Jv(n,e),e.valueAccessor.writeValue(n.value),function $d(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UC(n,e)})}(n,e),function cA(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UC(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lA(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Jv(n,e){const t=function NC(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Gm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function OC(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Gm(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gd(e._rawValidators,r),Gd(e._rawAsyncValidators,r)}function UC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ym(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tp="VALID",Qm="INVALID",Qc="PENDING",Jm="DISABLED";function t0(n){return(Wd(n)?n.validators:n)||null}function GC(n){return Array.isArray(n)?zv(n):n||null}function $C(n,e){return(Wd(e)?e.asyncValidators:n)||null}function hA(n){return Array.isArray(n)?Zv(n):n||null}function Wd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Xm=n=>n instanceof e_;function fA(n){return(n=>n instanceof n0)(n)?n.value:n.getRawValue()}function Os(n,e){const t=Xm(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function pA(n,e){Xm(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class zC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=GC(this._rawValidators),this._composedAsyncValidatorFn=hA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tp}get invalid(){return this.status===Qm}get pending(){return this.status==Qc}get disabled(){return this.status===Jm}get enabled(){return this.status!==Jm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=GC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hA(e)}addValidators(e){this.setValidators(kC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($m(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($m(e,this._rawAsyncValidators))}hasValidator(e){return Ud(this._rawValidators,e)}hasAsyncValidator(e){return Ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jm,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tp||this.status===Qc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jm:tp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qc,this._hasOwnPendingAsyncValidator=!0;const t=co(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function HC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=Xm(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof ZC)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Jm:this.errors?Qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qc)?Qc:this._anyControlsHaveStatus(Qm)?Qm:tp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class n0 extends zC{constructor(e=null,t,i){super(t0(t),$C(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wd(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ym(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ym(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class e_ extends zC{constructor(e,t,i){super(t0(t),$C(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pA(this,e),Object.keys(e).forEach(i=>{Os(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=fA(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ZC extends zC{constructor(e,t,i){super(t0(t),$C(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pA(this,e),e.forEach((i,r)=>{Os(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>fA(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gA={provide:Lr,useExisting:(0,l.Gpc)(()=>Yl)},t_=(()=>Promise.resolve(null))();let Yl=(()=>{class n extends Lr{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new e_({},zv(t),Zv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){t_.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Hd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){t_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){t_.then(()=>{const i=this._findContainer(t.path),r=new e_({});(function Yc(n,e){Jv(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){t_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){t_.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Xv(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nr,10),l.Y36(Yo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([gA]),l.qOj]}),n})();const _A={provide:Va,useExisting:(0,l.Gpc)(()=>Ga)},QC=(()=>Promise.resolve(null))();let Ga=(()=>{class n extends Va{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new n0,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Km(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ld?t=s:function jC(n){return Object.getPrototypeOf(n.constructor)===Kl}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ep(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QC.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;QC.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function Jf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lr,9),l.Y36(nr,10),l.Y36(Yo,10),l.Y36(Ns,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([_A]),l.qOj,l.TTD]}),n})(),Qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const yA={provide:Ns,useExisting:(0,l.Gpc)(()=>$a),multi:!0};let $a=(()=>{class n extends Kl{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([yA]),l.qOj]}),n})(),i_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const zd=new l.OlP("NgModelWithFormControlWarning");let eu=(()=>{class n{constructor(){this._validator=Kf}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Kf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const CA={provide:nr,useExisting:(0,l.Gpc)(()=>d0),multi:!0};let d0=(()=>{class n extends eu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function s1(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Gv}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([CA]),l.qOj]}),n})(),a1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[i_]]}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a1]}),n})(),xA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zd,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a1]}),n})();var l1={left:"right",right:"left",bottom:"top",top:"bottom"};function a_(n){return n.replace(/left|right|bottom|top/g,function(e){return l1[e]})}function Xo(n){return n.split("-")[0]}var NA={start:"end",end:"start"};function c1(n){return n.replace(/start|end/g,function(e){return NA[e]})}var ls="top",Rs="bottom",uo="right",Br="left",l_="auto",tu=[ls,Rs,uo,Br],ip="start",nu="end",kA="viewport",Wa="popper",c_=tu.reduce(function(n,e){return n.concat([e+"-"+ip,e+"-"+nu])},[]),u_=[].concat(tu,[l_]).reduce(function(n,e){return n.concat([e,e+"-"+ip,e+"-"+nu])},[]),h1=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ur(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function tc(n){return n instanceof Ur(n).Element||n instanceof Element}function cs(n){return n instanceof Ur(n).HTMLElement||n instanceof HTMLElement}function rp(n){return"undefined"!=typeof ShadowRoot&&(n instanceof Ur(n).ShadowRoot||n instanceof ShadowRoot)}function qa(n){return((tc(n)?n.ownerDocument:n.document)||window.document).documentElement}var iu=Math.max,sp=Math.min,ru=Math.round;function op(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _0(){return!/^((?!chrome|android).)*safari/i.test(op())}function Jd(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&cs(n)&&(r=n.offsetWidth>0&&ru(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&ru(i.height)/n.offsetHeight||1);var d=(tc(n)?Ur(n):window).visualViewport,f=!_0()&&t,_=(i.left+(f&&d?d.offsetLeft:0))/r,w=(i.top+(f&&d?d.offsetTop:0))/s,T=i.width/r,I=i.height/s;return{width:T,height:I,top:w,right:_+T,bottom:w+I,left:_,x:_,y:w}}function g_(n){var e=Ur(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function m_(n){return Jd(qa(n)).left+g_(n).scrollLeft}function Ps(n){return Ur(n).getComputedStyle(n)}function ho(n){return n?(n.nodeName||"").toLowerCase():null}function ap(n){return"html"===ho(n)?n:n.assignedSlot||n.parentNode||(rp(n)?n.host:null)||qa(n)}function __(n){var e=Ps(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function v0(n){return["html","body","#document"].indexOf(ho(n))>=0?n.ownerDocument.body:cs(n)&&__(n)?n:v0(ap(n))}function Xd(n,e){var t;void 0===e&&(e=[]);var i=v0(n),r=i===(null==(t=n.ownerDocument)?void 0:t.body),s=Ur(i),c=r?[s].concat(s.visualViewport||[],__(i)?i:[]):i,d=e.concat(c);return r?d:d.concat(Xd(ap(c)))}function p1(n){return["table","td","th"].indexOf(ho(n))>=0}function b0(n){return cs(n)&&"fixed"!==Ps(n).position?n.offsetParent:null}function lp(n){for(var e=Ur(n),t=b0(n);t&&p1(t)&&"static"===Ps(t).position;)t=b0(t);return t&&("html"===ho(t)||"body"===ho(t)&&"static"===Ps(t).position)?e:t||function K2(n){var e=/firefox/i.test(op());if(/Trident/i.test(op())&&cs(n)&&"fixed"===Ps(n).position)return null;var r=ap(n);for(rp(r)&&(r=r.host);cs(r)&&["html","body"].indexOf(ho(r))<0;){var s=Ps(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(n)||e}function g1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&rp(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function y_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function hi(n,e,t){return e===kA?y_(function y0(n,e){var t=Ur(n),i=qa(n),r=t.visualViewport,s=i.clientWidth,c=i.clientHeight,d=0,f=0;if(r){s=r.width,c=r.height;var _=_0();(_||!_&&"fixed"===e)&&(d=r.offsetLeft,f=r.offsetTop)}return{width:s,height:c,x:d+m_(n),y:f}}(n,t)):tc(e)?function FA(n,e){var t=Jd(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):y_(function f1(n){var e,t=qa(n),i=g_(n),r=null==(e=n.ownerDocument)?void 0:e.body,s=iu(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=iu(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-i.scrollLeft+m_(n),f=-i.scrollTop;return"rtl"===Ps(r||t).direction&&(d+=iu(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:c,x:d,y:f}}(qa(n)))}function eh(n){return n.split("-")[1]}function v_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function _1(n){var f,e=n.reference,t=n.element,i=n.placement,r=i?Xo(i):null,s=i?eh(i):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2;switch(r){case ls:f={x:c,y:e.y-t.height};break;case Rs:f={x:c,y:e.y+e.height};break;case uo:f={x:e.x+e.width,y:d};break;case Br:f={x:e.x-t.width,y:d};break;default:f={x:e.x,y:e.y}}var _=r?v_(r):null;if(null!=_){var w="y"===_?"height":"width";switch(s){case ip:f[_]=f[_]-(e[w]/2-t[w]/2);break;case nu:f[_]=f[_]+(e[w]/2-t[w]/2)}}return f}function E0(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function su(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function C0(n,e){void 0===e&&(e={});var i=e.placement,r=void 0===i?n.placement:i,s=e.strategy,c=void 0===s?n.strategy:s,d=e.boundary,f=void 0===d?"clippingParents":d,_=e.rootBoundary,w=void 0===_?kA:_,T=e.elementContext,I=void 0===T?Wa:T,M=e.altBoundary,k=void 0!==M&&M,L=e.padding,G=void 0===L?0:L,se=E0("number"!=typeof G?G:su(G,tu)),ge=n.rects.popper,ce=n.elements[k?I===Wa?"reference":Wa:I],ve=function LA(n,e,t,i){var r="clippingParents"===e?function m1(n){var e=Xd(ap(n)),i=["absolute","fixed"].indexOf(Ps(n).position)>=0&&cs(n)?lp(n):n;return tc(i)?e.filter(function(r){return tc(r)&&g1(r,i)&&"body"!==ho(r)}):[]}(n):[].concat(e),s=[].concat(r,[t]),d=s.reduce(function(f,_){var w=hi(n,_,i);return f.top=iu(w.top,f.top),f.right=sp(w.right,f.right),f.bottom=sp(w.bottom,f.bottom),f.left=iu(w.left,f.left),f},hi(n,s[0],i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}(tc(ce)?ce:ce.contextElement||qa(n.elements.popper),f,w,c),Pe=Jd(n.elements.reference),it=_1({reference:Pe,element:ge,strategy:"absolute",placement:r}),Dt=y_(Object.assign({},ge,it)),sn=I===Wa?Dt:Pe,Cn={top:ve.top-sn.top+se.top,bottom:sn.bottom-ve.bottom+se.bottom,left:ve.left-sn.left+se.left,right:sn.right-ve.right+se.right},Kn=n.modifiersData.offset;if(I===Wa&&Kn){var xr=Kn[r];Object.keys(Cn).forEach(function(ti){var bc=[uo,Rs].indexOf(ti)>=0?1:-1,wc=[ls,Rs].indexOf(ti)>=0?"y":"x";Cn[ti]+=xr[wc]*bc})}return Cn}const v1={name:"flip",enabled:!0,phase:"main",fn:function UA(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=void 0===r||r,c=t.altAxis,d=void 0===c||c,f=t.fallbackPlacements,_=t.padding,w=t.boundary,T=t.rootBoundary,I=t.altBoundary,M=t.flipVariations,k=void 0===M||M,L=t.allowedAutoPlacements,G=e.options.placement,se=Xo(G),ge=f||(se!==G&&k?function y1(n){if(Xo(n)===l_)return[];var e=a_(n);return[c1(n),e,c1(e)]}(G):[a_(G)]),ce=[G].concat(ge).reduce(function(vn,tl){return vn.concat(Xo(tl)===l_?function BA(n,e){void 0===e&&(e={});var r=e.boundary,s=e.rootBoundary,c=e.padding,d=e.flipVariations,f=e.allowedAutoPlacements,_=void 0===f?u_:f,w=eh(e.placement),T=w?d?c_:c_.filter(function(k){return eh(k)===w}):tu,I=T.filter(function(k){return _.indexOf(k)>=0});0===I.length&&(I=T);var M=I.reduce(function(k,L){return k[L]=C0(n,{placement:L,boundary:r,rootBoundary:s,padding:c})[Xo(L)],k},{});return Object.keys(M).sort(function(k,L){return M[k]-M[L]})}(e,{placement:tl,boundary:w,rootBoundary:T,padding:_,flipVariations:k,allowedAutoPlacements:L}):tl)},[]),ve=e.rects.reference,Pe=e.rects.popper,it=new Map,Dt=!0,sn=ce[0],Cn=0;Cn<ce.length;Cn++){var Kn=ce[Cn],xr=Xo(Kn),ti=eh(Kn)===ip,bc=[ls,Rs].indexOf(xr)>=0,wc=bc?"width":"height",qe=C0(e,{placement:Kn,boundary:w,rootBoundary:T,altBoundary:I,padding:_}),ot=bc?ti?uo:Br:ti?Rs:ls;ve[wc]>Pe[wc]&&(ot=a_(ot));var _t=a_(ot),Ft=[];if(s&&Ft.push(qe[xr]<=0),d&&Ft.push(qe[ot]<=0,qe[_t]<=0),Ft.every(function(vn){return vn})){sn=Kn,Dt=!1;break}it.set(Kn,Ft)}if(Dt)for(var $s=function(tl){var Tg=ce.find(function(Pi){var bs=it.get(Pi);if(bs)return bs.slice(0,tl).every(function(ca){return ca})});if(Tg)return sn=Tg,"break"},Wi=k?3:1;Wi>0&&"break"!==$s(Wi);Wi--);e.placement!==sn&&(e.modifiersData[i]._skip=!0,e.placement=sn,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ou(n,e,t){return iu(n,sp(e,t))}function Fs(n){var e=Jd(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const b1={name:"preventOverflow",enabled:!0,phase:"main",fn:function VA(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=void 0===r||r,c=t.altAxis,d=void 0!==c&&c,I=t.tether,M=void 0===I||I,k=t.tetherOffset,L=void 0===k?0:k,G=C0(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),se=Xo(e.placement),ue=eh(e.placement),ge=!ue,ce=v_(se),ve=function Y2(n){return"x"===n?"y":"x"}(ce),Pe=e.modifiersData.popperOffsets,it=e.rects.reference,Dt=e.rects.popper,sn="function"==typeof L?L(Object.assign({},e.rects,{placement:e.placement})):L,Cn="number"==typeof sn?{mainAxis:sn,altAxis:sn}:Object.assign({mainAxis:0,altAxis:0},sn),Kn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,xr={x:0,y:0};if(Pe){if(s){var ti,bc="y"===ce?ls:Br,wc="y"===ce?Rs:uo,qe="y"===ce?"height":"width",ot=Pe[ce],_t=ot+G[bc],Ft=ot-G[wc],ni=M?-Dt[qe]/2:0,$s=ue===ip?it[qe]:Dt[qe],Wi=ue===ip?-Dt[qe]:-it[qe],So=e.elements.arrow,vn=M&&So?Fs(So):{width:0,height:0},tl=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Tg=tl[bc],Pi=tl[wc],bs=ou(0,it[qe],vn[qe]),ca=ge?it[qe]/2-ni-bs-Tg-Cn.mainAxis:$s-bs-Tg-Cn.mainAxis,Ou=ge?-it[qe]/2+ni+bs+Pi+Cn.mainAxis:Wi+bs+Pi+Cn.mainAxis,Dg=e.elements.arrow&&lp(e.elements.arrow),z4=null!=(ti=null==Kn?void 0:Kn[ce])?ti:0,Nae=ot+Ou-z4,Z4=ou(M?sp(_t,ot+ca-z4-(Dg?"y"===ce?Dg.clientTop||0:Dg.clientLeft||0:0)):_t,ot,M?iu(Ft,Nae):Ft);Pe[ce]=Z4,xr[ce]=Z4-ot}if(d){var K4,Ig=Pe[ve],RS="y"===ve?"height":"width",Y4=Ig+G["x"===ce?ls:Br],Q4=Ig-G["x"===ce?Rs:uo],v2=-1!==[ls,Br].indexOf(se),J4=null!=(K4=null==Kn?void 0:Kn[ve])?K4:0,X4=v2?Y4:Ig-it[RS]-Dt[RS]-J4+Cn.altAxis,eW=v2?Ig+it[RS]+Dt[RS]-J4-Cn.altAxis:Q4,tW=M&&v2?function T0(n,e,t){var i=ou(n,e,t);return i>t?t:i}(X4,Ig,eW):ou(M?X4:Y4,Ig,M?eW:Q4);Pe[ve]=tW,xr[ve]=tW-Ig}e.modifiersData[i]=xr}},requiresIfExists:["offset"]},w1={name:"arrow",enabled:!0,phase:"main",fn:function fo(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Xo(t.placement),f=v_(d),w=[Br,uo].indexOf(d)>=0?"height":"width";if(s&&c){var T=function(e,t){return E0("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:su(e,tu))}(r.padding,t),I=Fs(s),M="y"===f?ls:Br,k="y"===f?Rs:uo,L=t.rects.reference[w]+t.rects.reference[f]-c[f]-t.rects.popper[w],G=c[f]-t.rects.reference[f],se=lp(s),ue=se?"y"===f?se.clientHeight||0:se.clientWidth||0:0,Pe=ue/2-I[w]/2+(L/2-G/2),it=ou(T[M],Pe,ue-I[w]-T[k]);t.modifiersData[i]=((e={})[f]=it,e.centerOffset=it-Pe,e)}},effect:function po(n){var e=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||!g1(e.elements.popper,r)||(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function GA(n,e,t){void 0===t&&(t=!1);var i=cs(e),r=cs(e)&&function HA(n){var e=n.getBoundingClientRect(),t=ru(e.width)/n.offsetWidth||1,i=ru(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),s=qa(e),c=Jd(n,r,t),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!t)&&(("body"!==ho(e)||__(s))&&(d=function jA(n){return n!==Ur(n)&&cs(n)?function E1(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):g_(n)}(e)),cs(e)?((f=Jd(e,!0)).x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=m_(s))),{x:c.left+d.scrollLeft-f.x,y:c.top+d.scrollTop-f.y,width:c.width,height:c.height}}function $A(n){var e=new Map,t=new Set,i=[];function r(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(d){if(!t.has(d)){var f=e.get(d);f&&r(f)}}),i.push(s)}return n.forEach(function(s){e.set(s.name,s)}),n.forEach(function(s){t.has(s.name)||r(s)}),i}function cp(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var I0={placement:"bottom",modifiers:[],strategy:"absolute"};function S0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function b_(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,r=n.defaultOptions,s=void 0===r?I0:r;return function(d,f,_){void 0===_&&(_=s);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},I0,s),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},T=[],I=!1,M={state:w,setOptions:function(se){var ue="function"==typeof se?se(w.options):se;L(),w.options=Object.assign({},s,w.options,ue),w.scrollParents={reference:tc(d)?Xd(d):d.contextElement?Xd(d.contextElement):[],popper:Xd(f)};var ge=function D0(n){var e=$A(n);return h1.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}(function WA(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,w.options.modifiers)));return w.orderedModifiers=ge.filter(function(Kn){return Kn.enabled}),function k(){w.orderedModifiers.forEach(function(G){var ue=G.options,ce=G.effect;if("function"==typeof ce){var ve=ce({state:w,name:G.name,instance:M,options:void 0===ue?{}:ue});T.push(ve||function(){})}})}(),M.update()},forceUpdate:function(){if(!I){var se=w.elements,ue=se.reference,ge=se.popper;if(S0(ue,ge)){w.rects={reference:GA(ue,lp(ge),"fixed"===w.options.strategy),popper:Fs(ge)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(Kn){return w.modifiersData[Kn.name]=Object.assign({},Kn.data)});for(var ve=0;ve<w.orderedModifiers.length;ve++)if(!0!==w.reset){var Pe=w.orderedModifiers[ve],it=Pe.fn,Dt=Pe.options;"function"==typeof it&&(w=it({state:w,options:void 0===Dt?{}:Dt,name:Pe.name,instance:M})||w)}else w.reset=!1,ve=-1}}},update:cp(function(){return new Promise(function(G){M.forceUpdate(),G(w)})}),destroy:function(){L(),I=!0}};if(!S0(d,f))return M;function L(){T.forEach(function(G){return G()}),T=[]}return M.setOptions(_).then(function(G){!I&&_.onFirstUpdate&&_.onFirstUpdate(G)}),M}}var up={passive:!0};const A0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function C1(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=void 0===r||r,c=i.resize,d=void 0===c||c,f=Ur(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&_.forEach(function(w){w.addEventListener("scroll",t.update,up)}),d&&f.addEventListener("resize",t.update,up),function(){s&&_.forEach(function(w){w.removeEventListener("scroll",t.update,up)}),d&&f.removeEventListener("resize",t.update,up)}},data:{}},x0={name:"popperOffsets",enabled:!0,phase:"read",fn:function w_(n){var e=n.state;e.modifiersData[n.name]=_1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var T1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function M0(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,c=n.offsets,d=n.position,f=n.gpuAcceleration,_=n.adaptive,w=n.roundOffsets,T=n.isFixed,I=c.x,M=void 0===I?0:I,k=c.y,L=void 0===k?0:k,G="function"==typeof w?w({x:M,y:L}):{x:M,y:L};M=G.x,L=G.y;var se=c.hasOwnProperty("x"),ue=c.hasOwnProperty("y"),ge=Br,ce=ls,ve=window;if(_){var Pe=lp(t),it="clientHeight",Dt="clientWidth";Pe===Ur(t)&&"static"!==Ps(Pe=qa(t)).position&&"absolute"===d&&(it="scrollHeight",Dt="scrollWidth"),(r===ls||(r===Br||r===uo)&&s===nu)&&(ce=Rs,L-=(T&&Pe===ve&&ve.visualViewport?ve.visualViewport.height:Pe[it])-i.height,L*=f?1:-1),r!==Br&&(r!==ls&&r!==Rs||s!==nu)||(ge=uo,M-=(T&&Pe===ve&&ve.visualViewport?ve.visualViewport.width:Pe[Dt])-i.width,M*=f?1:-1)}var ti,Kn=Object.assign({position:d},_&&T1),xr=!0===w?function D1(n){var t=n.y,r=window.devicePixelRatio||1;return{x:ru(n.x*r)/r||0,y:ru(t*r)/r||0}}({x:M,y:L}):{x:M,y:L};return M=xr.x,L=xr.y,Object.assign({},Kn,f?((ti={})[ce]=ue?"0":"",ti[ge]=se?"0":"",ti.transform=(ve.devicePixelRatio||1)<=1?"translate("+M+"px, "+L+"px)":"translate3d("+M+"px, "+L+"px, 0)",ti):((e={})[ce]=ue?L+"px":"",e[ge]=se?M+"px":"",e.transform="",e))}const S1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function I1(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=void 0===i||i,s=t.adaptive,c=void 0===s||s,d=t.roundOffsets,f=void 0===d||d,w={placement:Xo(e.placement),variation:eh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,M0(Object.assign({},w,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,M0(Object.assign({},w,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var zA=[A0,x0,S1,{name:"applyStyles",enabled:!0,phase:"write",fn:function A1(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!cs(s)||!ho(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(c){var d=r[c];!1===d?s.removeAttribute(c):s.setAttribute(c,!0===d?"":d)}))})},effect:function x1(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},d=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(f,_){return f[_]="",f},{});!cs(r)||!ho(r)||(Object.assign(r.style,d),Object.keys(s).forEach(function(f){r.removeAttribute(f)}))})}},requires:["computeStyles"]}],ZA=b_({defaultModifiers:zA});const M1=["*"],sB=["dialog"];function gp(n){return"string"==typeof n}function au(n){return null!=n}function ih(n){return(n||document.body).getBoundingClientRect()}const P0={animation:!0,transitionTimerDelayMs:5},Yx=()=>{},{transitionTimerDelayMs:F0}=P0,rh=new Map,vr=(n,e,t,i)=>{let r=i.context||{};const s=rh.get(e);if(s)switch(i.runningTransition){case"continue":return Or.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),rh.delete(e)}const c=t(e,i.animation,r)||Yx;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),ht(void 0).pipe(function Zx(n){return e=>new on.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new hn.x,f=new hn.x,_=d.pipe(function JS(...n){return e=>Tl(e,ht(...n))}(!0));rh.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const w=function Q1(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const T=Pr(e,"transitionend").pipe(di(_),mn(({target:M})=>M===e));_C(Rd(w+F0).pipe(di(_)),T,f).pipe(di(_)).subscribe(()=>{rh.delete(e),n.run(()=>{c(),d.next(),d.complete()})})}),d.asObservable()};let Za=(()=>{class n{constructor(){this.animation=P0.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),lu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),eT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),iT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var wi=(()=>{return(n=wi||(wi={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",wi;var n})();const oh=(n,e)=>!!e&&e.some(t=>t.contains(n)),go=(n,e)=>!e||null!=function zx(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),_M="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uT(n){const e=Array.from(n.querySelectorAll(cT)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const R_=/\s+/,P_=/  +/gi,vM=/^start/,bM=/^end/,dT=/-(top|left)$/,hT=/-(bottom|right)$/,fT=/^left/,wM=/^right/,EM=/^start/,UB=/^end/;function F_({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(R_),r=t.findIndex(f=>"auto"===f);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(f){null==t.find(_=>-1!==_.search("^"+f))&&t.splice(r++,1,f)});const s=t.map(f=>function q0(n){return n.replace(vM,"left").replace(bM,"right").replace(dT,"-start").replace(hT,"-end")}(f));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:f}){const _=new RegExp(e+"(-[a-z]+)*","gi"),w=f.elements.popper,T=f.placement;let I=w.className;I=I.replace(_,""),I+=` ${function z0(n,e){let[t,i]=e.split("-");const r=t.replace(fT,"start").replace(wM,"end");let s=[r];if(i){let c=i;("left"===t||"right"===t)&&(c=c.replace(EM,"top").replace(UB,"bottom")),s.push(`${r}-${c}`)}return n&&(s=s.map(c=>`${n}-${c}`)),s.join(" ")}(e,T)}`,I=I.trim().replace(P_," "),w.className=I}},v1,b1,w1,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Z0(n){return n}new Date(1882,10,12),new Date(2174,10,25);let HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si,p0]]}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class fh{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}class ib{constructor(e,t,i,r,s,c){this._type=e,this._injector=t,this._viewContainerRef=i,this._renderer=r,this._ngZone=s,this._applicationRef=c,this._windowRef=null,this._contentRef=null}open(e,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,s=this._ngZone.onStable.pipe(ai(1),(0,Vn.z)(()=>vr(this._ngZone,r,({classList:c})=>c.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:s}}close(e=!1){return this._windowRef?vr(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe(Ai(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):ht(void 0)}_getContentRef(e,t){if(e){if(e instanceof l.Rgc){const i=e.createEmbeddedView(t);return this._applicationRef.attachView(i),new fh([i.rootNodes],i)}return new fh([[this._renderer.createText(`${e}`)]])}return new fh([])}}let bT=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{vr(this._zone,this._el.nativeElement,(t,i)=>{i&&ih(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return vr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class wT{close(e){}dismiss(e){}}class ET{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new hn.x,this._dismissed=new hn.x,this._hidden=new hn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(di(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(di(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Y1(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ht(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Zl(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var j_=(()=>{return(n=j_||(j_={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",j_;var n})();let qM=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new hn.x,this.hidden=new hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":gp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=Zl(vr(this._zone,t,()=>t.classList.remove("show"),i),vr(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};Zl(vr(this._zone,this._elRef.nativeElement,(s,c)=>{c&&ih(s),s.classList.add("show")},t),vr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Pr(t,"keydown").pipe(di(this._closed$),mn(r=>r.which===wi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(j_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Pr(this._dialogEl.nativeElement,"mousedown").pipe(di(this._closed$),Ai(()=>i=!1),Mn(()=>Pr(t,"mouseup").pipe(di(this._closed$),ai(1))),mn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Pr(t,"click").pipe(di(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(j_.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=uT(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&vr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ce),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(sB,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:M1,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),zM=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rb=(()=>{class n{constructor(t,i,r,s,c,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Pr(e,"focusin").pipe(di(t),(0,et.U)(s=>s.target));Pr(e,"keydown").pipe(di(t),mn(s=>s.which===wi.Tab),Fd(r)).subscribe(([s,c])=>{const[d,f]=uT(e);(c===d||c===e)&&s.shiftKey&&(f.focus(),s.preventDefault()),c===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&Pr(e,"click").pipe(di(t),Fd(r),(0,et.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r,s){const c=s.container instanceof HTMLElement?s.container:au(s.container)?this._document.querySelector(s.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new wT,_=this._getContentRef(t,s.injector||i,r,f,s);let w=!1!==s.backdrop?this._attachBackdrop(t,c):void 0,T=this._attachWindowComponent(t,c,_),I=new ET(T,_,w,s.beforeDismiss);return this._registerModalRef(I),this._registerWindowCmpt(T),I.hidden.pipe(ai(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=M=>{I.close(M)},f.dismiss=M=>{I.dismiss(M)},this._applyWindowOptions(T.instance,s),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,s),w.changeDetectorRef.detectChanges()),T.changeDetectorRef.detectChanges(),I}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let s=t.resolveComponentFactory(bT).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,i,r){let c=t.resolveComponentFactory(qM).create(this._injector,r.nodes);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{au(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{au(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s,c){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,s):gp(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,c):new fh([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new fh([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new fh([[i]])}_createFromComponent(t,i,r,s,c){const d=t.resolveComponentFactory(r),f=l.zs3.create({providers:[{provide:wT,useValue:s}],parent:i}),_=d.create(f),w=_.location.nativeElement;return c.scrollable&&w.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new fh([[w]],_.hostView,_)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(Ce),l.LFG(zM),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZM=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Za))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nU=(()=>{class n{constructor(t,i,r,s){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=s}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(rb),l.LFG(ZM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nU]}),n})(),ST=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),db=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})();class kT{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const JM={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},RT=n=>n>0?Hv(n):e=>e;let hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),fb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),VT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),jT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),G_=(()=>{class n{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Za))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rN=0,sN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.Tol("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:M1,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),n})(),$_=(()=>{class n{constructor(t,i,r,s,c,d,f,_,w){this._elementRef=t,this._renderer=i,this._ngZone=d,this._document=f,this._changeDetector=_,this.shown=new l.vpe,this.hidden=new l.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+rN++,this._windowRef=null,this._positioning=function L_(){let n=null;return{createPopper(e){if(!n){let i=(e.updatePopperOptions||Z0)(F_(e));n=ZA(e.hostElement,e.targetElement,i)}},update(){n&&n.update()},setOptions(e){if(n){let i=(e.updatePopperOptions||Z0)(F_(e));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.animation=c.animation,this.autoClose=c.autoClose,this.placement=c.placement,this.triggers=c.triggers,this.container=c.container,this.disableTooltip=c.disableTooltip,this.tooltipClass=c.tooltipClass,this.openDelay=c.openDelay,this.closeDelay=c.closeDelay,this._popupService=new ib(sN,r,s,i,this._ngZone,w)}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function ah(n,e,t,i,r,s,c,d){t&&n.runOutsideAngular((n=>_M?()=>setTimeout(()=>n(),100):n)(()=>{const _=Pr(e,"keydown").pipe(di(r),mn(I=>I.which===wi.Escape),Ai(I=>I.preventDefault())),w=Pr(e,"mousedown").pipe((0,et.U)(I=>{const M=I.target;return 2!==I.button&&!oh(M,c)&&("inside"===t?oh(M,s)&&go(M,d):"outside"===t?!oh(M,s):go(M,d)||!oh(M,s))}),di(r)),T=Pr(e,"mouseup").pipe(Fd(w),mn(([I,M])=>M),Hv(0),di(r));_C([_.pipe((0,et.U)(I=>0)),T.pipe((0,et.U)(I=>1))]).subscribe(I=>n.run(()=>i(I)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(t).subscribe(()=>{var i;this._windowRef=null,this._positioning.destroy(),null===(i=this._zoneSubscription)||void 0===i||i.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function PT(n,e,t,i,r,s,c=0,d=0){const f=function sU(n,e=JM){const t=(n||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(s=>s.split(":")).map(s=>{let c=e[s[0]]||s;return new kT(c[0],c[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(t);if(1===f.length&&f[0].isManual())return()=>{};const _=function XM(n,e,t,i){return new on.y(r=>{const s=[],c=()=>r.next(!0),d=()=>r.next(!1),f=()=>r.next(!i());return t.forEach(_=>{_.open===_.close?s.push(n.listen(e,_.open,f)):s.push(n.listen(e,_.open,c),n.listen(e,_.close,d))}),()=>{s.forEach(_=>_())}})}(n,e,f,i).pipe(function eN(n,e,t){return i=>{let r=null;const s=i.pipe((0,et.U)(f=>({open:f})),mn(f=>{const _=t();return _===f.open||r&&r.open!==_?(r&&r.open!==f.open&&(r=null),!1):(r=f,!0)}),(0,jm.B)()),c=s.pipe(mn(f=>f.open),RT(n)),d=s.pipe(mn(f=>!f.open),RT(e));return(0,Ba.T)(c,d).pipe(mn(f=>f===r&&(r=null,f.open!==t())),(0,et.U)(f=>f.open))}}(c,d,i)).subscribe(w=>w?r():s());return()=>_.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){var t;this.close(!1),null===(t=this._unregisterListenersFn)||void 0===t||t.call(this)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.zs3),l.Y36(l.s_b),l.Y36(G_),l.Y36(l.R0b),l.Y36(Ce),l.Y36(l.sBO),l.Y36(l.z2F))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[l.TTD]}),n})(),rc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function gb(){return 100}});let aN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})(),_b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const dN=[tM,lu,eT,iT,rT,HM,nb,KM,ST,_b,db,hb,fb,pb,VT,jT,rc,aN];let hN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dN,tM,lu,eT,iT,rT,HM,nb,KM,ST,_b,db,hb,fb,pb,VT,jT,rc,aN]}),n})();function WT(n,e){1&n&&(l.TgZ(0,"button",17),l._uU(1,"Logueado"),l.qZA())}function yb(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){return l.CHM(t),l.oxw().ruta()}),l._uU(1,"Login"),l.qZA()}}function vU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){return l.CHM(t),l.oxw().Salir()}),l._uU(1,"Sign Out"),l.qZA()}}let Tp=(()=>{class n{constructor(t,i,r){this.router=t,this.authService=i,this.tokenService=r,this.roles=[],this.isLogged=!1,this.isLogginFail=!1}ngOnInit(){this.tokenService.getToken()&&(this.isLogged=!0,this.isLogginFail=!1,this.roles=this.tokenService.getAuthorities())}ruta(){this.router.navigate(["login"])}Salir(){this.tokenService.logOut(),window.location.reload(),this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_n),l.Y36(Ko),l.Y36(os))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:24,vars:3,consts:[["role","banner",1,"toolbar"],["width","80","alt","Argentina Programa","src","\\assets\\images\\APLogo-20-20.png"],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/TECNO_IA","title","Twitter"],["id","twitter-logo","height","40","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://www.youtube.com/channel/UCd8NSH98i3tO4BPEaRFqidA","title","YouTube"],["id","youtube-logo","height","40","width","40","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["class","btn btn-success m-2",4,"ngIf"],["class","btn btn-light m-2",3,"click",4,"ngIf"],[1,"container-fluid","acerca","sizeacerca",2,"background-color","#6c63ff"],[1,"container","engranajes"],["src","../../../assets/images/engranaje.png","alt","banner",1,"engranaje"],["src","../../../assets/images/engranaje2.png","alt","banner",1,"engranaje","engranaje2"],[1,"btn","btn-success","m-2"],[1,"btn","btn-light","m-2",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"span"),l._uU(3,"Argentina Programa"),l.qZA(),l._UZ(4,"div",2),l.TgZ(5,"a",3),l.O4$(),l.TgZ(6,"svg",4),l._UZ(7,"rect",5)(8,"path",6),l.qZA()(),l.kcU(),l.TgZ(9,"a",7),l.O4$(),l.TgZ(10,"svg",8),l._UZ(11,"path",9)(12,"path",10),l.qZA()(),l.kcU(),l.TgZ(13,"div"),l.YNc(14,WT,2,0,"button",11),l.qZA(),l.TgZ(15,"div"),l.YNc(16,yb,2,0,"button",12),l.qZA(),l.TgZ(17,"div"),l.YNc(18,vU,2,0,"button",12),l.qZA(),l._UZ(19,"div"),l.qZA(),l._UZ(20,"div",13),l.TgZ(21,"div",14),l._UZ(22,"img",15)(23,"img",16),l.qZA()),2&t&&(l.xp6(14),l.Q6J("ngIf",i.isLogged),l.xp6(2),l.Q6J("ngIf",!i.isLogged),l.xp6(2),l.Q6J("ngIf",i.isLogged))},directives:[un],styles:[".toolbar[_ngcontent-%COMP%]{position:relative;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#474747;color:#fff;font-weight:600}.spacer[_ngcontent-%COMP%]{flex:1}a.btn-social[_ngcontent-%COMP%], .btn-social[_ngcontent-%COMP%]{border-radius:50%;color:#fff!important;display:inline-block;height:54px;line-height:54px;margin:8px 4px;text-align:center;text-decoration:none;transition:background-color .3s;-webkit-transition:background-color .3s;width:54px}.btn-social[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .btn-social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{backface-visibility:hidden;-moz-backface-visibility:hidden;transform:scale(1);transition:all .25s;-webkit-backface-visibility:hidden;-webkit-transform:scale(1);-webkit-transition:all .25s}.btn-social[_ngcontent-%COMP%]:hover, .btn-social[_ngcontent-%COMP%]:focus{color:#fff;outline:none;text-decoration:none}.btn-social[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%], .btn-social[_ngcontent-%COMP%]:focus   .fa[_ngcontent-%COMP%], .btn-social[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .btn-social[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%]{transform:scale(1.3);-webkit-transform:scale(1.3)}.btn-behance[_ngcontent-%COMP%]{background-color:#1769ff}.btn-behance[_ngcontent-%COMP%]:hover{background-color:#4a8aff}.btn-bitbucket[_ngcontent-%COMP%]{background-color:#205081}.btn-bitbucket[_ngcontent-%COMP%]:hover{background-color:#2a69aa}.acerca[_ngcontent-%COMP%]{background-image:url(fondobanner.207547ace90b5aa6.svg);height:300px;width:auto;background-repeat:no-repeat;background-position:center;background-size:contain}#sizeacerca[_ngcontent-%COMP%]{height:250px}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.engranaje[_ngcontent-%COMP%]{animation:8s rotate linear infinite;transform-origin:50% 50%}.engranaje2[_ngcontent-%COMP%]{animation-direction:reverse;margin-left:-6px}.engranajes[_ngcontent-%COMP%]{opacity:.2;filter:grayscale(100%);margin-top:-110px;margin-right:10px;max-height:150px;position:absolute;float:right}"]}),n})(),Dp=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}ngOnInit(){}home(){this.router.navigate(["portfolio"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ko),l.Y36(_n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home-button"]],decls:4,vars:0,consts:[[1,"container"],[1,"btn","btn-primary",3,"click"],[1,"glyphicon","glyphicon-pencil"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return i.home()}),l._UZ(2,"span",2),l._uU(3," Ver Portfolio"),l.qZA()())},styles:[""]}),n})();function fN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",48),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onOpenExperiencia(null,"add")}),l._UZ(1,"span",49),l._uU(2," Agregar Experiencia"),l.qZA()}}function pN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",54)(1,"button",55),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(2).onOpenExperiencia(r,"edit")}),l._UZ(2,"i",56),l._uU(3,"Editar "),l.qZA(),l.TgZ(4,"button",57),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(2).onOpenExperiencia(r,"delete")}),l._UZ(5,"i",58),l._uU(6," borrar "),l.qZA()()}}function bU(n,e){if(1&n&&(l.TgZ(0,"div",50)(1,"div",51)(2,"p")(3,"span",52),l._uU(4),l.qZA()(),l._UZ(5,"br")(6,"br"),l.TgZ(7,"p"),l._uU(8),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.YNc(12,pN,7,0,"span",53),l.qZA()()),2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(4),l.Oqu(null==t?null:t.nombre_experiencia),l.xp6(4),l.Oqu(null==t?null:t.descripcion_experiencia),l.xp6(3),l.hij(" ",null==t?null:t.duracion_experiencia," "),l.xp6(1),l.Q6J("ngIf",i.isAdmin)}}function wU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div")(2,"div",2)(3,"div",3)(4,"h4",4),l._uU(5," EXPERIENCIA "),l.YNc(6,fN,3,0,"button",5),l.qZA(),l.TgZ(7,"div",6),l.YNc(8,bU,13,4,"div",7),l.qZA()()(),l.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h5",12),l._uU(14,"Agregar Experiencia"),l.qZA(),l.TgZ(15,"button",13)(16,"span",14),l._uU(17,"\xd7"),l.qZA()()(),l.TgZ(18,"div",15)(19,"form",16,17),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.MAs(20);return l.oxw().onAddExperiencia(r)}),l.TgZ(21,"label",18),l._uU(22,"Id"),l.qZA(),l._UZ(23,"br")(24,"input",19),l.TgZ(25,"label",20),l._uU(26,"Nombre Experiencia"),l.qZA(),l._UZ(27,"br")(28,"input",21),l.TgZ(29,"label",22),l._uU(30,"Descripci\xf3n experiencia"),l.qZA(),l._UZ(31,"br")(32,"input",23),l.TgZ(33,"label",24),l._uU(34,"Duraci\xf3n experiencia"),l.qZA(),l._UZ(35,"br")(36,"input",25),l.TgZ(37,"label",26),l._uU(38,"Persona ID"),l.qZA(),l._UZ(39,"br")(40,"input",27),l.TgZ(41,"div",28)(42,"button",29),l._uU(43,"Cancelar"),l.qZA(),l.TgZ(44,"button",30),l._uU(45,"Agregar"),l.qZA()()(),l.TgZ(46,"pre"),l._uU(47),l.ALo(48,"json"),l.qZA()()()()(),l.TgZ(49,"div",31)(50,"div",9)(51,"div",10)(52,"div",11)(53,"h5",12),l._uU(54,"Editar"),l.qZA(),l.TgZ(55,"button",13)(56,"span",14),l._uU(57,"\xd7"),l.qZA()()(),l.TgZ(58,"div",15)(59,"form",null,32)(61,"label",33),l._uU(62,"ID"),l.qZA(),l._UZ(63,"br")(64,"input",34),l.TgZ(65,"label",35),l._uU(66,"Nombre experiencia"),l.qZA(),l._UZ(67,"br")(68,"input",36),l.TgZ(69,"label",37),l._uU(70,"Descripci\xf3n experiencia"),l.qZA(),l._UZ(71,"br")(72,"input",38),l.TgZ(73,"label",39),l._uU(74,"Duraci\xf3n experiencia"),l.qZA(),l._UZ(75,"br")(76,"input",40),l.TgZ(77,"label",41),l._uU(78,"Persona ID"),l.qZA(),l._UZ(79,"br")(80,"input",42),l.TgZ(81,"div",28)(82,"button",43),l._uU(83,"Cancelar"),l.qZA(),l.TgZ(84,"button",44),l.NdJ("click",function(){l.CHM(t);const r=l.MAs(60);return l.oxw().onUpdateExperiencia(r.value)}),l._uU(85,"Guardar cambios"),l.qZA()()(),l.TgZ(86,"pre"),l._uU(87),l.ALo(88,"json"),l.qZA()()()()(),l.TgZ(89,"div",45)(90,"div",9)(91,"div",10)(92,"div",11)(93,"h5",12),l._uU(94,"Eliminar Item"),l.qZA(),l.TgZ(95,"button",13)(96,"span",14),l._uU(97,"\xd7"),l.qZA()()(),l.TgZ(98,"div",15)(99,"p"),l._uU(100,"El \xedtem se eliminar\xe1 permanentemente. \xbfDesea borrarlo?"),l.qZA()(),l.TgZ(101,"div",28)(102,"div",46)(103,"button",47),l._uU(104,"No"),l.qZA(),l.TgZ(105,"button",44),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.onDeleteExperiencia(r.deleteExperiencia.id)}),l._uU(106,"S\xed"),l.qZA()()()()()()()()}if(2&n){const t=l.MAs(20),i=l.MAs(60),r=l.oxw();l.xp6(6),l.Q6J("ngIf",r.isAdmin),l.xp6(2),l.Q6J("ngForOf",r.experienciaList),l.xp6(36),l.Q6J("disabled",t.invalid),l.xp6(3),l.Oqu(l.lcZ(48,10,t.value)),l.xp6(17),l.MGl("ngModel","",null==r.editExperiencia?null:r.editExperiencia.id," "),l.xp6(4),l.MGl("ngModel","",null==r.editExperiencia?null:r.editExperiencia.nombre_experiencia," "),l.xp6(4),l.s9C("ngModel",null==r.editExperiencia?null:r.editExperiencia.descripcion_experiencia),l.xp6(4),l.s9C("ngModel",null==r.editExperiencia?null:r.editExperiencia.duracion_experiencia),l.xp6(4),l.s9C("ngModel",null==r.editExperiencia?null:r.editExperiencia.persona_id),l.xp6(7),l.Oqu(l.lcZ(88,12,i.value))}}let gN=(()=>{class n{constructor(t,i,r,s){this.authService=t,this.tokenService=i,this.experienciaService=r,this.experienciaList=[],this.isAdmin=!1}ngOnInit(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{"ROLE_ADMIN"===t&&(this.isAdmin=!0)}),this.getExperiencia()}getExperiencia(){this.experienciaService.getExperiencia().subscribe(t=>{this.experienciaList=t},t=>{alert(t.message)})}onAddExperiencia(t){var i;null===(i=document.getElementById("add-experiencia-modal"))||void 0===i||i.click(),this.experienciaService.addExperiencia(t.value).subscribe(r=>{console.log(r),this.getExperiencia(),t.reset(),alert("Experiencia ha sido agregada correctamente")},r=>{alert(r.message),t.reset()})}onUpdateExperiencia(t){this.experienciaService.updateExperiencia(t).subscribe(i=>{console.log(i),this.getExperiencia(),alert("Experiencia ha sido actualizada correctamente")},i=>{alert(i.message)})}onDeleteExperiencia(t){this.experienciaService.borrarExperiencia(t).subscribe(i=>{console.log(i),this.getExperiencia(),alert("Experiencia eliminada correctamente")},i=>{console.log(i.message)})}onOpenExperiencia(t,i){const r=document.getElementById("main-container"),s=document.createElement("button");s.type="button2",s.style.display="none",s.setAttribute("data-toggle","modal"),"add"===i&&s.setAttribute("data-target","#addExperienciaModal"),"edit"===i&&(this.editExperiencia=t,s.setAttribute("data-target","#updateExperienciaModal")),"delete"===i&&(this.deleteExperiencia=t,s.setAttribute("data-target","#deleteExperienciaModal")),null==r||r.appendChild(s),s.click()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ko),l.Y36(os),l.Y36(Zc),l.Y36(Za))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-modifica-experiencia"]],features:[l._Bn([Zc])],decls:4,vars:1,consts:[[1,"image"],[4,"ngIf"],["id","main-container",1,"contenido"],["id","experiencia"],[1,"experiencia"],["ngbTooltip","Agregar experiencia","class","btn btn-success",3,"click",4,"ngIf"],[1,"container"],["class","columnas",4,"ngFor","ngForOf"],["id","addExperienciaModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","addExperienciaModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["addForm2","ngForm"],["for","id","type","hidden",1,"oculto"],["ngModel","","type","number","id","id","name","id",1,"form-control","oculto"],["for","nombre_experiencia"],["ngModel","","type","text","id","nombre_experiencia","name","nombre_experiencia",1,"form-control"],["for","descripcion_experiencia"],["ngModel","","type","text","id","descripcion_experiencia","name","descripcion_experiencia",1,"form-control"],["for","duracion_experiencia"],["ngModel","","type","text","placeholder","5 a\xf1os","id","duracion_experiencia","name","duracion_experiencia",1,"form-control"],["for","persona_id"],["ngModel","","type","number","id","persona_id","name","persona_id",1,"form-control"],[1,"modal-footer"],["type","button","id","add-experiencia-modal","data-dismiss","modal",1,"btn","btn-primary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","updateExperienciaModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","updateExperienciaModal","aria-hidden","true",1,"modal","fade"],["editForm","ngForm"],["type","hidden","for","id",1,"pt-1"],["type","hidden","type","number","id","id","name","id",1,"form-control",3,"ngModel"],["for","nombre_experiencia",1,"pt-3"],["type","text","id","nombre_experiencia","name","nombre_experiencia",1,"form-control",3,"ngModel"],["for","descripcion_experiencia",1,"pt-3"],["type","text","id","descripcion_experiencia","name","descripcion_experiencia",1,"form-control",3,"ngModel"],["for","duracion_experiencia",1,"pt-3"],["type","text","id","duracion_experiencia","name","duracion_experiencia",1,"form-control",3,"ngModel"],["for","persona_id",1,"pt-3"],["type","number","id","persona_id","name","persona_id",1,"form-control",3,"ngModel"],["id","update-experiencia-modal","type","button","data-dismiss","modal",1,"btn","btn-light"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteExperienciaModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteExperienciaModal","aria-hidden","true",1,"modal","fade"],[1,"col-md-4","container"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["ngbTooltip","Agregar experiencia",1,"btn","btn-success",3,"click"],[1,"btn-primary"],[1,"columnas"],[1,"datosexperiencia"],[1,"titulo"],["id","eliminar-editar-experiencia",4,"ngIf"],["id","eliminar-editar-experiencia"],["ngbTooltip","Editar experiencia","type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-pen"],["type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-eraser"]],template:function(t,i){1&t&&(l._UZ(0,"app-header",0),l.TgZ(1,"div"),l._UZ(2,"app-home-button"),l.qZA(),l.YNc(3,wU,107,14,"div",1)),2&t&&(l.xp6(3),l.Q6J("ngIf",i.isAdmin))},directives:[Tp,Dp,un,$_,wn,Qo,Vd,Yl,Ld,$a,Yf,Ga],pipes:[Cc],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fondo[_ngcontent-%COMP%]{background-color:#a5c8f7}.contenido[_ngcontent-%COMP%]{font-size:20px;width:100%;height:auto;padding:40px}#experiencia[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#experiencia[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;color:#6c63ff;border-bottom:1px #6C63FF solid;text-transform:uppercase;text-align:center;width:100%;justify-content:center;justify-self:center}#experiencia[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:right}.experiencia[_ngcontent-%COMP%]{justify-items:right;padding:5px;width:90%}.container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;place-content:center;justify-content:center;grid-row-gap:1px;row-gap:1px}.columnas[_ngcontent-%COMP%]{padding:20px;width:90%}.datosexperiencia[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-items:center;align-items:center;background-color:#d9dfe6;padding:10px;border-radius:10px;transition:.4s}.datosexperiencia[_ngcontent-%COMP%]:hover{box-shadow:2px 14px 15px #6c63ff;transition:.2s}.datosexperiencia[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;height:80%;text-align:center;padding:7px 7px 0;line-height:18px;font-size:15px;justify-items:flex-end;align-items:center}.logoexperiencia[_ngcontent-%COMP%]{width:25%;border-radius:50%}.titulo[_ngcontent-%COMP%]{font-weight:700;font-size:17px}#eliminar-editar-experiencia[_ngcontent-%COMP%]{display:flex;font-size:10px;height:100%;align-self:flex-end;justify-self:flex-start}i[_ngcontent-%COMP%]{color:#6c63ff;font-size:10px}.botones_contenido[_ngcontent-%COMP%]{border:#0a66c2;background:#d9dfe6;padding:5px}.botones_editar_borrar[_ngcontent-%COMP%]{font-size:larger;border:#0a66c2;background:#d9dfe6;padding:5px;text-align:end}.botones_contenido[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:end}.boton_edicion_texto[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.close[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:none;background:#a5c8f7;color:#938aec}.boton_eliminar[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.modal-dialog[_ngcontent-%COMP%]{width:50%;padding:15px;justify-content:center;align-self:center;top:10%;left:25%}.modal-body[_ngcontent-%COMP%]{padding:10px}.modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#fffefe}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#060525;text-transform:uppercase;font-weight:700}.modal-content[_ngcontent-%COMP%]{padding:20px;background-color:#f8f5f7}.form[_ngcontent-%COMP%]{line-height:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:7px;margin-top:5px;color:#060525}.modal-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;padding:15px 10px 0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#ededf5;margin:5px;padding:2px 5px;border-color:none}.modal-footer[_ngcontent-%COMP%]   .boton-editar[_ngcontent-%COMP%]{border:none;color:#060525;margin:5px;padding:2px 5px;border-color:none}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#update-experiencia-modal[_ngcontent-%COMP%]{padding:3px 5px;color:#060525}"]}),n})(),W_=(()=>{class n{constructor(t){this.http=t,this.apiHerokuUrl=Nd_apiUrl,this.url="https://portfolio-perrottavicente.koyeb.app/"}obtenerDatosSkill(){return this.http.get(`${this.apiHerokuUrl}skill/todas`)}addSkill(t){return this.http.post(`${this.apiHerokuUrl}skill`,t)}modificarSkill(t){return this.http.put(this.apiHerokuUrl+"skill/update",t)}borrarSkill(t){return this.http.delete(`${this.apiHerokuUrl}skill/${t}`)}getSkill(){return this.http.get(`${this.apiHerokuUrl}skill/todas`)}updateSkill(t){return this.http.put(`${this.apiHerokuUrl}modifica/skill`,t)}obtenerUnaSkill(){return this.http.get(this.apiHerokuUrl+"skill/1")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",41),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onOpenSkill(null,"add")}),l._UZ(1,"span",42),l._uU(2," Agregar Skills"),l.qZA()}}function CU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",47)(1,"button",48),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(2).onOpenSkill(r,"edit")}),l._UZ(2,"i",49),l._uU(3,"Editar "),l.qZA(),l.TgZ(4,"button",50),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(2).onOpenSkill(r,"delete")}),l._UZ(5,"i",51),l._uU(6," borrar "),l.qZA()()}}function TU(n,e){if(1&n&&(l.TgZ(0,"div",43)(1,"div",44)(2,"p")(3,"span",45),l._uU(4),l.qZA(),l._UZ(5,"br")(6,"br"),l._uU(7),l._UZ(8,"br"),l.qZA(),l.YNc(9,CU,7,0,"span",46),l.qZA()()),2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(4),l.Oqu(t.nombre_skill),l.xp6(3),l.hij(" ",t.porcentaje_skill," "),l.xp6(2),l.Q6J("ngIf",i.isUserLogged)}}function DU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div")(2,"div",2)(3,"div",3)(4,"h4",4),l._uU(5," SKILLS "),l.YNc(6,EU,3,0,"button",5),l.qZA(),l.TgZ(7,"div",6),l.YNc(8,TU,10,3,"div",7),l.qZA()()(),l.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h5",12),l._uU(14,"Agregar Skill"),l.qZA(),l.TgZ(15,"button",13)(16,"span",14),l._uU(17,"\xd7"),l.qZA()()(),l.TgZ(18,"div",15)(19,"form",16,17),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.MAs(20);return l.oxw().onAddSkill(r)}),l.TgZ(21,"label",18),l._uU(22,"Id"),l.qZA(),l._UZ(23,"br")(24,"input",19),l.TgZ(25,"label",20),l._uU(26,"Nombre Skill"),l.qZA(),l._UZ(27,"br")(28,"input",21),l.TgZ(29,"label",22),l._uU(30,"Porcentaje Skill"),l.qZA(),l._UZ(31,"br")(32,"input",23),l.TgZ(33,"label",24),l._uU(34,"Persona ID"),l.qZA(),l._UZ(35,"br")(36,"input",25),l.TgZ(37,"div",26)(38,"button",27),l._uU(39,"Cancelar"),l.qZA(),l.TgZ(40,"button",28),l._uU(41,"Agregar"),l.qZA()()(),l.TgZ(42,"pre"),l._uU(43),l.ALo(44,"json"),l.qZA()()()()(),l.TgZ(45,"div",29)(46,"div",9)(47,"div",10)(48,"div",11)(49,"h5",12),l._uU(50,"Editar"),l.qZA(),l.TgZ(51,"button",13)(52,"span",14),l._uU(53,"\xd7"),l.qZA()()(),l.TgZ(54,"div",15)(55,"form",null,30)(57,"label",31),l._uU(58,"ID"),l.qZA(),l._UZ(59,"br")(60,"input",32),l.TgZ(61,"label",20),l._uU(62,"Nombre skill"),l.qZA(),l._UZ(63,"br")(64,"input",33),l.TgZ(65,"label",22),l._uU(66,"Porcentaje en n\xfamero entero"),l.qZA(),l._UZ(67,"br")(68,"input",34),l.TgZ(69,"label",24),l._uU(70,"Persona ID"),l.qZA(),l._UZ(71,"br")(72,"input",35),l.TgZ(73,"div",26)(74,"button",36),l._uU(75,"Cancelar"),l.qZA(),l.TgZ(76,"button",37),l.NdJ("click",function(){l.CHM(t);const r=l.MAs(56);return l.oxw().onUpdateSkill(r.value)}),l._uU(77,"Guardar cambios"),l.qZA()()(),l.TgZ(78,"pre"),l._uU(79),l.ALo(80,"json"),l.qZA()()()()(),l.TgZ(81,"div",38)(82,"div",9)(83,"div",10)(84,"div",11)(85,"h5",12),l._uU(86,"Eliminar Item"),l.qZA(),l.TgZ(87,"button",13)(88,"span",14),l._uU(89,"\xd7"),l.qZA()()(),l.TgZ(90,"div",15)(91,"p"),l._uU(92,"El \xedtem se eliminar\xe1 permanentemente. \xbfDesea borrarlo?"),l.qZA()(),l.TgZ(93,"div",26)(94,"div",39)(95,"button",40),l._uU(96,"No"),l.qZA(),l.TgZ(97,"button",37),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.onDeleteSkill(r.deleteSkill.id)}),l._uU(98,"S\xed"),l.qZA()()()()()()()()}if(2&n){const t=l.MAs(20),i=l.MAs(56),r=l.oxw();l.xp6(6),l.Q6J("ngIf",r.isUserLogged),l.xp6(2),l.Q6J("ngForOf",r.skillList),l.xp6(32),l.Q6J("disabled",t.invalid),l.xp6(3),l.Oqu(l.lcZ(44,9,t.value)),l.xp6(17),l.MGl("ngModel","",null==r.editSkill?null:r.editSkill.id," "),l.xp6(4),l.MGl("ngModel","",null==r.editSkill?null:r.editSkill.nombre_skill," "),l.xp6(4),l.s9C("ngModel",null==r.editSkill?null:r.editSkill.porcentaje_skill),l.xp6(4),l.s9C("ngModel",null==r.editSkill?null:r.editSkill.persona_id),l.xp6(7),l.Oqu(l.lcZ(80,11,i.value))}}let IU=(()=>{class n{constructor(t,i,r){this.authService=t,this.skillService=i,this.skillList=[]}ngOnInit(){this.isUserLogged=this.authService.estaLogeado,this.getSkill()}getSkill(){this.skillService.getSkill().subscribe(t=>{this.skillList=t},t=>{alert(t.message)})}onAddSkill(t){var i;null===(i=document.getElementById("add-skill-modal"))||void 0===i||i.click(),this.skillService.addSkill(t.value).subscribe(r=>{console.log(r),this.getSkill(),t.reset(),alert("Skill ha sido agregada correctamente")},r=>{alert(r.message),t.reset()})}onUpdateSkill(t){this.skillService.updateSkill(t).subscribe(i=>{console.log(i),this.getSkill(),alert("Skill ha sido actualizada correctamente")},i=>{alert(i.message)})}onDeleteSkill(t){this.skillService.borrarSkill(t).subscribe(i=>{console.log(i),this.getSkill(),alert("Skill eliminada correctamente")},i=>{console.log(i.message)})}onOpenSkill(t,i){const r=document.getElementById("main-container"),s=document.createElement("button");s.type="button2",s.style.display="none",s.setAttribute("data-toggle","modal"),"add"===i&&s.setAttribute("data-target","#addSkillModal"),"edit"===i&&(this.editSkill=t,s.setAttribute("data-target","#updateSkillModal")),"delete"===i&&(this.deleteSkill=t,s.setAttribute("data-target","#deleteSkillModal")),null==r||r.appendChild(s),s.click()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ko),l.Y36(W_),l.Y36(Za))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-modifica-skill"]],features:[l._Bn([W_])],decls:4,vars:1,consts:[[1,"image"],[4,"ngIf"],["id","main-container",1,"contenido"],["id","skill"],[1,"skill"],["ngbTooltip","Agregar skill","class","btn btn-success",3,"click",4,"ngIf"],[1,"container"],["class","columnas",4,"ngFor","ngForOf"],["id","addSkillModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","addExperienciaModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["addForm2","ngForm"],["for","id","type","hidden",1,"oculto"],["ngModel","","type","number","id","id","name","id",1,"form-control","oculto"],["for","nombre_skill"],["ngModel","","type","text","id","nombre_skill","name","nombre_skill",1,"form-control"],["for","porcentaje_skill"],["ngModel","","type","number","id","porcentaje_skill","name","porcentaje_skill",1,"form-control"],["for","persona_id"],["ngModel","","type","number","id","persona_id","name","persona_id",1,"form-control"],[1,"modal-footer"],["type","button","id","add-skill-modal","data-dismiss","modal",1,"btn","btn-primary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","updateSkillModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","updateSkillModal","aria-hidden","true",1,"modal","fade"],["editForm","ngForm"],["type","hidden","for","id"],["type","hidden","type","number","id","id","name","id",1,"form-control",3,"ngModel"],["type","text","id","nombre_skill","name","nombre_skill",1,"form-control",3,"ngModel"],["type","number","id","porcentaje_skill","name","porcentaje_skill",1,"form-control",3,"ngModel"],["type","number","id","persona_id","name","persona_id",1,"form-control",3,"ngModel"],["id","update-skill-modal","type","button","data-dismiss","modal",1,"btn","btn-light"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteSkillModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteSkillModal","aria-hidden","true",1,"modal","fade"],[1,"col-md-4","container"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["ngbTooltip","Agregar skill",1,"btn","btn-success",3,"click"],[1,"btn-primary"],[1,"columnas"],[1,"datosskill"],[1,"titulo"],["id","eliminar-editar-skill",4,"ngIf"],["id","eliminar-editar-skill"],["ngbTooltip","Editar skill","type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-pen"],["type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-eraser"]],template:function(t,i){1&t&&(l._UZ(0,"app-header",0),l.TgZ(1,"div"),l._UZ(2,"app-home-button"),l.qZA(),l.YNc(3,DU,99,13,"div",1)),2&t&&(l.xp6(3),l.Q6J("ngIf",i.isUserLogged))},directives:[Tp,Dp,un,$_,wn,Qo,Vd,Yl,Ld,$a,Yf,Ga],pipes:[Cc],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fondo[_ngcontent-%COMP%]{background-color:#a5c8f7}.contenido[_ngcontent-%COMP%]{font-size:20px;width:100%;height:auto;padding:40px}#skill[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#skill[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;color:#6c63ff;border-bottom:1px #6C63FF solid;text-transform:uppercase;text-align:center;width:100%;justify-content:center;justify-self:center}#skill[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:right}.skill[_ngcontent-%COMP%]{justify-items:right;padding:5px;width:90%}.container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;place-content:center;justify-content:center;grid-row-gap:1px;row-gap:1px}.columnas[_ngcontent-%COMP%]{padding:20px;width:90%}.datosskill[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-items:center;align-items:center;background-color:#d9dfe6;padding:10px;border-radius:10px;transition:.4s}.datosskill[_ngcontent-%COMP%]:hover{box-shadow:2px 14px 15px #6c63ff;transition:.2s}.datosskill[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;height:80%;text-align:center;padding:7px 7px 0;line-height:18px;font-size:15px;justify-items:flex-end;align-items:center}.logoskill[_ngcontent-%COMP%]{width:25%;border-radius:50%}.titulo[_ngcontent-%COMP%]{font-weight:700;font-size:17px}#eliminar-editar-skill[_ngcontent-%COMP%]{display:flex;font-size:10px;height:100%;align-self:flex-end;justify-self:flex-start}i[_ngcontent-%COMP%]{color:#6c63ff;font-size:10px}.botones_contenido[_ngcontent-%COMP%]{border:#0a66c2;background:#d9dfe6;padding:5px}.botones_editar_borrar[_ngcontent-%COMP%]{font-size:larger;border:#0a66c2;background:#d9dfe6;padding:5px;text-align:end}.botones_contenido[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:end}.boton_edicion_texto[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.close[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:none;background:#a5c8f7;color:#938aec}.boton_eliminar[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.modal-dialog[_ngcontent-%COMP%]{width:50%;padding:15px;justify-content:center;align-self:center;top:10%;left:25%}.modal-body[_ngcontent-%COMP%]{padding:10px}.modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#fffefe}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#060525;text-transform:uppercase;font-weight:700}.modal-content[_ngcontent-%COMP%]{padding:20px;background-color:#f8f5f7}.form[_ngcontent-%COMP%]{line-height:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:7px;margin-top:5px;color:#060525}.modal-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;padding:15px 10px 0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#ededf5;margin:5px;padding:2px 5px;border-color:none}.modal-footer[_ngcontent-%COMP%]   .boton-editar[_ngcontent-%COMP%]{border:none;color:#060525;margin:5px;padding:2px 5px;border-color:none}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#update-skill-modal[_ngcontent-%COMP%]{padding:3px 5px;color:#060525}"]}),n})(),q_=(()=>{class n{constructor(t){this.http=t,this.apiHerokuUrl=Nd_apiUrl,this.url="https://portfolio-perrottavicente.koyeb.app/"}obtenerDatosEducacion(){return this.http.get(`${this.apiHerokuUrl}educacion/all`)}addEducacion(t){return this.http.post(`${this.apiHerokuUrl}educacion`,t)}updateEducacion(t){return this.http.put(`${this.apiHerokuUrl}modifica/educacion`,t)}borrarEducacion(t){return this.http.delete(`${this.apiHerokuUrl}educacion/${t}`)}getEducacion(){return this.http.get(`${this.apiHerokuUrl}educacion/all`)}editarDatosEducacion(t){return this.http.put(this.url,t)}obtenerUnaEducacion(){return this.http.get(this.apiHerokuUrl+"educacion/1")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gh=(()=>{class n{constructor(t,i,r){this.tokenService=t,this.router=i,this.authService=r}canActivate(t,i){const r=t.data.expectedRole,s=this.tokenService.getAuthorities();return this.realRole="user",s.forEach(c=>{"ROLE_ADMIN"===c&&(this.realRole="admin")}),!(!this.tokenService.getToken()||-1===r.indexOf(this.realRole))||(this.router.navigate(["/"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os),l.LFG(_n),l.LFG(Ko))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",47),l.NdJ("click",function(){return l.CHM(t),l.oxw().onOpenModal(null,"add")}),l._UZ(1,"span",48),l._uU(2," Agregar educacion"),l.qZA()}}function AU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",49)(1,"div",50)(2,"p")(3,"span",51),l._uU(4),l.qZA(),l._UZ(5,"br")(6,"br"),l._uU(7),l._UZ(8,"br")(9,"br"),l._uU(10),l._UZ(11,"br"),l._uU(12),l.qZA(),l.TgZ(13,"span",52)(14,"button",53),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().onOpenModal(s,"edit")}),l._UZ(15,"i",54),l._uU(16,"Editar "),l.qZA(),l.TgZ(17,"button",55),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().onOpenModal(s,"delete")}),l._UZ(18,"i",56),l._uU(19," borrar "),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t.titulo),l.xp6(3),l.hij(" ",t.institucion," "),l.xp6(3),l.hij(" ",t.fecha_egreso," "),l.xp6(2),l.hij(" ",t.fecha_inicio," ")}}let xU=(()=>{class n{constructor(t,i,r,s){this.tokenService=t,this.educacionService=r,this.guard=s,this.educacionList=[],this.isAdmin=!1,this.isLogged=!1,this.userName="",this.educacion=[]}ngOnInit(){this.roles=this.tokenService.getAuthorities(),this.getRoles(),this.getEducacion()}getRoles(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{"ROLE_ADMIN"===t&&(this.isAdmin=!0)}),this.tokenService.getToken()?(this.isLogged=!0,this.userName=this.tokenService.getUserName()):(this.isLogged=!1,this.userName="")}getEducacion2(){this.educacionService.getEducacion().subscribe(t=>{this.educacionList=t})}getEducacion(){this.educacionService.obtenerDatosEducacion().subscribe(t=>{this.educacionList=t},t=>{alert(t.message)})}onAddEducacion(t){var i;null===(i=document.getElementById("add-educacion-modal"))||void 0===i||i.click(),this.educacionService.addEducacion(t.value).subscribe(r=>{console.log(r),console.log(t.value),this.getEducacion(),t.reset(),alert("Educacion ha sido agregada correctamente")},r=>{alert(r.message),t.reset()})}onUpdateEducacion(t){this.educacionService.updateEducacion(t).subscribe(i=>{console.log(i),this.getEducacion()},i=>{alert(i.message)})}onDeleteEducacion(t){this.educacionService.borrarEducacion(t).subscribe(i=>{console.log(i),this.getEducacion(),alert("Educacion ha sido eliminada correctamente")},i=>{console.log(i.message)})}onOpenModal(t,i){const r=document.getElementById("main-container"),s=document.createElement("button");s.type="button",s.style.display="none",s.setAttribute("data-toggle","modal"),"add"===i&&s.setAttribute("data-target","#addEducacionModal"),"edit"===i&&(this.editEducacion=t,s.setAttribute("data-target","#updateEducacionModal")),"delete"===i&&(this.deleteEducacion=t,s.setAttribute("data-target","#deleteEducacionModal")),null==r||r.appendChild(s),s.click()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(os),l.Y36(Za),l.Y36(q_),l.Y36(gh))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-modifica"]],features:[l._Bn([q_])],decls:119,vars:18,consts:[[1,"image"],["id","main-container",1,"contenido"],["id","educacion"],[1,"educacion"],["ngbTooltip","Agregar educaci\xf3n","class","btn btn-success",3,"click",4,"ngIf"],[1,"container"],["class","columnas",4,"ngFor","ngForOf"],["id","addEducacionModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","addExperienciaModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["addForm","ngForm"],["for","id","type","hidden",1,"oculto"],["ngModel","","type","number","id","id","name","id",1,"form-control","oculto"],["for","titulo"],["ngModel","","type","text","id","titulo","name","titulo",1,"form-control"],["for","institucion"],["ngModel","","type","text","id","institucion","name","institucion",1,"form-control"],["for","fecha_egreso"],["ngModel","","type","text","id","fecha_egreso","name","fecha_egreso","placeholder","yyyy-mm-dd",1,"form-control"],["for","fecha_inicio"],["ngModel","","type","text","id","fecha_inicio","name","fecha_inicio","placeholder","yyyy-mm-dd",1,"form-control"],["for","persona_id"],["ngModel","","type","number","name","persona_id","id","persona_id",1,"form-control"],[1,"modal-footer"],["type","button","id","add-educacion-modal","data-dismiss","modal",1,"btn","btn-primary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","updateEducacionModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","updateEducacionModal","aria-hidden","true",1,"modal","fade"],["editForm","ngForm"],["type","hidden","for","id"],["type","hidden","type","number","id","id","name","id",1,"form-control",3,"ngModel"],["type","text","id","titulo","name","titulo",1,"form-control",3,"ngModel"],["type","text","id","institucion","name","institucion",1,"form-control",3,"ngModel"],["type","text","id","fecha_egreso","name","fecha_egreso",1,"form-control",3,"ngModel"],["type","text","id","fecha_inicio","name","fecha_inicio",1,"form-control",3,"ngModel"],["type","number","id","persona_id","name","persona_id",1,"form-control",3,"ngModel"],["type","hidden","name","id",3,"ngModel"],["id","update-educacion-modal","type","button","data-dismiss","modal",1,"btn","btn-light"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteEducacionModal","data-backdrop","static","data-keyboard","false","tabindex","-1","aria-labelledby","deleteEducacionModal","aria-hidden","true",1,"modal","fade"],[1,"col-md-4","container"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["ngbTooltip","Agregar educaci\xf3n",1,"btn","btn-success",3,"click"],[1,"btn-primary"],[1,"columnas"],[1,"datoseducacion"],[1,"titulo"],["id","eliminar-editar-educacion"],["ngbTooltip","Editar educaci\xf3n","type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-pen"],["type","button",1,"botones_editar_borrar",3,"click"],[1,"fa-solid","fa-eraser"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"app-header",0),l._UZ(1,"app-home-button"),l.qZA(),l.TgZ(2,"div")(3,"div")(4,"div",1)(5,"div",2)(6,"h4",3),l._uU(7),l.YNc(8,SU,3,0,"button",4),l.qZA(),l.TgZ(9,"div",5),l.YNc(10,AU,20,4,"div",6),l.qZA()()()(),l.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"h5",11),l._uU(16,"Agregar Educacion"),l.qZA(),l.TgZ(17,"button",12)(18,"span",13),l._uU(19,"\xd7"),l.qZA()()(),l.TgZ(20,"div",14)(21,"form",15,16),l.NdJ("ngSubmit",function(){l.CHM(r);const c=l.MAs(22);return i.onAddEducacion(c)}),l.TgZ(23,"label",17),l._uU(24,"Id"),l.qZA(),l._UZ(25,"br")(26,"input",18),l.TgZ(27,"label",19),l._uU(28,"T\xedtulo"),l.qZA(),l._UZ(29,"br")(30,"input",20),l.TgZ(31,"label",21),l._uU(32,"Institucion"),l.qZA(),l._UZ(33,"br")(34,"input",22),l.TgZ(35,"label",23),l._uU(36,"Fecha egreso"),l.qZA(),l._UZ(37,"br")(38,"input",24),l.TgZ(39,"label",25),l._uU(40,"Fecha Inicio"),l.qZA(),l._UZ(41,"br")(42,"input",26),l.TgZ(43,"label",27),l._uU(44,"Id Persona"),l.qZA(),l._UZ(45,"br")(46,"input",28),l.TgZ(47,"div",29)(48,"button",30),l._uU(49,"Cancelar"),l.qZA(),l.TgZ(50,"button",31),l._uU(51,"Agregar"),l.qZA()()(),l.TgZ(52,"pre"),l._uU(53),l.ALo(54,"json"),l.qZA()()()()(),l.TgZ(55,"div",32)(56,"div",8)(57,"div",9)(58,"div",10)(59,"h5",11),l._uU(60,"Editar"),l.qZA(),l.TgZ(61,"button",12)(62,"span",13),l._uU(63,"\xd7"),l.qZA()()(),l.TgZ(64,"div",14)(65,"form",null,33)(67,"label",34),l._uU(68,"ID"),l.qZA(),l._UZ(69,"br")(70,"input",35),l.TgZ(71,"label",19),l._uU(72,"T\xedtulo"),l.qZA(),l._UZ(73,"br")(74,"input",36),l.TgZ(75,"label",21),l._uU(76,"Institucion"),l.qZA(),l._UZ(77,"br")(78,"input",37),l.TgZ(79,"label",23),l._uU(80,"Fecha egreso"),l.qZA(),l._UZ(81,"br")(82,"input",38),l.TgZ(83,"label",25),l._uU(84,"Fecha inicio"),l.qZA(),l._UZ(85,"br")(86,"input",39),l.TgZ(87,"label",27),l._uU(88,"Id Persona"),l.qZA(),l._UZ(89,"br")(90,"input",40)(91,"input",41)(92,"br"),l.TgZ(93,"div",29)(94,"button",42),l._uU(95,"Cancelar"),l.qZA(),l.TgZ(96,"button",43),l.NdJ("click",function(){l.CHM(r);const c=l.MAs(66);return i.onUpdateEducacion(c.value)}),l._uU(97,"Guardar cambios"),l.qZA()()(),l.TgZ(98,"pre"),l._uU(99),l.ALo(100,"json"),l.qZA()()()()(),l.TgZ(101,"div",44)(102,"div",8)(103,"div",9)(104,"div",10)(105,"h5",11),l._uU(106,"Eliminar Item"),l.qZA(),l.TgZ(107,"button",12)(108,"span",13),l._uU(109,"\xd7"),l.qZA()()(),l.TgZ(110,"div",14)(111,"p"),l._uU(112,"El \xedtem se eliminar\xe1 permanentemente. \xbfDesea borrarlo?"),l.qZA()(),l.TgZ(113,"div",29)(114,"div",45)(115,"button",46),l._uU(116,"No"),l.qZA(),l.TgZ(117,"button",43),l.NdJ("click",function(){return i.onDeleteEducacion(i.deleteEducacion.id)}),l._uU(118,"S\xed"),l.qZA()()()()()()()}if(2&t){const r=l.MAs(22),s=l.MAs(66);l.xp6(7),l.AsE(" Educacion est\xe1s logeado como: ",i.roles," ",i.userName," "),l.xp6(1),l.Q6J("ngIf",i.isAdmin),l.xp6(2),l.Q6J("ngForOf",i.educacionList),l.xp6(40),l.Q6J("disabled",r.invalid),l.xp6(3),l.Oqu(l.lcZ(54,14,r.value)),l.xp6(17),l.MGl("ngModel","",null==i.editEducacion?null:i.editEducacion.id," "),l.xp6(4),l.s9C("ngModel",null==i.editEducacion?null:i.editEducacion.titulo),l.xp6(4),l.s9C("ngModel",null==i.editEducacion?null:i.editEducacion.institucion),l.xp6(4),l.s9C("ngModel",null==i.editEducacion?null:i.editEducacion.fecha_egreso),l.xp6(4),l.MGl("ngModel","",null==i.editEducacion?null:i.editEducacion.fecha_inicio," "),l.xp6(4),l.s9C("ngModel",null==i.editEducacion?null:i.editEducacion.persona_id),l.xp6(1),l.MGl("ngModel","",null==i.editEducacion?null:i.editEducacion.id," "),l.xp6(8),l.Oqu(l.lcZ(100,16,s.value))}},directives:[Tp,Dp,un,$_,wn,Qo,Vd,Yl,Ld,$a,Yf,Ga],pipes:[Cc],styles:[".oculto[_ngcontent-%COMP%]{visibility:hidden}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fondo[_ngcontent-%COMP%]{background-color:#a5c8f7}.contenido[_ngcontent-%COMP%]{font-size:20px;width:100%;height:auto;padding:40px}#educacion[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#educacion[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;color:#6c63ff;border-bottom:1px #6C63FF solid;text-transform:uppercase;text-align:center;width:100%;justify-content:center;justify-self:center}#educacion[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:right}.educacion[_ngcontent-%COMP%]{justify-items:right;padding:5px;width:90%}.container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;place-content:center;justify-content:center;grid-row-gap:1px;row-gap:1px}.columnas[_ngcontent-%COMP%]{padding:20px;width:100%}.datoseducacion[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-items:center;align-items:center;background-color:#d9dfe6;padding:10px;border-radius:10px;transition:.4s}.datoseducacion[_ngcontent-%COMP%]:hover{box-shadow:2px 14px 15px #6c63ff;transition:.2s}.datoseducacion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;height:80%;text-align:center;padding:7px 7px 0;line-height:18px;font-size:15px;justify-items:flex-end;align-items:center}.logoeducacion[_ngcontent-%COMP%]{width:25%;border-radius:50%}.titulo[_ngcontent-%COMP%]{font-weight:700;font-size:17px}#eliminar-editar-educacion[_ngcontent-%COMP%]{display:flex;font-size:10px;height:100%;align-self:flex-end;justify-self:flex-start}i[_ngcontent-%COMP%]{color:#6c63ff;font-size:10px}.botones_contenido[_ngcontent-%COMP%]{border:#0a66c2;background:#d9dfe6;padding:5px}.botones_editar_borrar[_ngcontent-%COMP%]{font-size:larger;border:#0a66c2;background:#d9dfe6;padding:5px;text-align:end}.botones_contenido[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:end}.boton_edicion_texto[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.close[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:none;background:#a5c8f7;color:#938aec}.boton_eliminar[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#938aec;color:#a5c8f7;border-radius:5px;font-size:10px;border:none}.modal-dialog[_ngcontent-%COMP%]{width:50%;padding:15px;justify-content:center;align-self:center;top:10%;left:25%}.modal-body[_ngcontent-%COMP%]{padding:10px}.modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#fffefe}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#060525;text-transform:uppercase;font-weight:700}.modal-content[_ngcontent-%COMP%]{padding:20px;background-color:#f8f5f7}.form[_ngcontent-%COMP%]{line-height:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:7px;margin-top:5px;color:#060525}.modal-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;padding:15px 10px 0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;color:#ededf5;margin:5px;padding:2px 5px;border-color:none}.modal-footer[_ngcontent-%COMP%]   .boton-editar[_ngcontent-%COMP%]{border:none;color:#060525;margin:5px;padding:2px 5px;border-color:none}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#update-educacion-modal[_ngcontent-%COMP%]{padding:3px 5px;color:#060525}"]}),n})(),o=(()=>{class n{constructor(t){this.authService=t,this.name="Perrotta Vicente",this.iam=" Full Stack Developer"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ko))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-acerca"]],decls:8,vars:2,consts:[[1,"perfil"],["src","../../../assets/images/perfil.png","alt","banner",1,"img-fluid","fotoperfil"],["position","relative",1,"line","anim-typewriter","nombre"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"div")(2,"div",0)(3,"div"),l._UZ(4,"img",1),l.qZA(),l.TgZ(5,"h1",2),l._uU(6),l.qZA()()()(),l._UZ(7,"div")),2&t&&(l.xp6(6),l.AsE("",i.name," | ",i.iam,""))},styles:["#inferior[_ngcontent-%COMP%]{color:#fff;background:#000;position:absolute;left:0;right:0;bottom:0;height:50px;z-index:0}section[_ngcontent-%COMP%]{display:table}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;width:490px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:2rem}.content[_ngcontent-%COMP%]{width:auto}.banner[_ngcontent-%COMP%]{position:relative;background-size:contain}.nombre[_ngcontent-%COMP%]{bottom:-25px;left:10px;font-family:Open Sans,sans-serif;color:#272829}.fotoperfil[_ngcontent-%COMP%]{border-width:.5rem;border-style:solid;border-color:#f0f6fb;border-radius:50%;filter:grayscale(100%);margin-top:-120px;margin-left:10px;position:absolute;max-height:150px}.perfil[_ngcontent-%COMP%]{position:unset;width:15%;height:15%;background-color:transparent}.arriba[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px}.abajo[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px;border-radius:2rem;z-index:1}.line[_ngcontent-%COMP%]{position:relative;margin-top:20px;margin-bottom:15px;border-width:15px;width:16em;color:#474747;border-right:2px solid rgba(255,255,255,.75);text-align:initial;white-space:nowrap;overflow:hidden}.anim-typewriter[_ngcontent-%COMP%]{animation:typewriter 4s steps(38) 1s 1 normal both,blinkTextCursor .5s steps(38) infinite normal}@keyframes typewriter{0%{width:0}to{width:18em}}@keyframes blinkTextCursor{0%{border-right-color:#ffffffbf}to{border-right-color:transparent}}.container-fluid[_ngcontent-%COMP%]{background-color:#6c63ff;border-radius:2rem;height:70%}"]}),n})(),a=(()=>{class n{constructor(t,i,r,s){this.guard=t,this.tokenService=i,this.authService=r,this.router=s,this.roles=[],this.isAdmin=!1,this.isLogged=!1}ngOnInit(){this.getRoles()}Editar(){this.router.navigate(["modifica-experiencia"])}getRoles(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{this.isAdmin="ROLE_ADMIN"===t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gh),l.Y36(os),l.Y36(Ko),l.Y36(_n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-experiencia-button"]],decls:4,vars:0,consts:[[1,"btn","btn-secondary","bi","bi-pencil","m-2",3,"click"],[1,"glyphicon","glyphicon-pencil"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"button",0),l.NdJ("click",function(){return i.Editar()}),l._UZ(2,"span",1),l._uU(3," Editar experiencia"),l.qZA()())},styles:[""]}),n})();function u(n,e){1&n&&l._UZ(0,"app-edit-experiencia-button")}function h(n,e){if(1&n&&(l.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",12),l._UZ(4,"i",13),l.qZA()(),l.TgZ(5,"div",14)(6,"h2",5),l._uU(7),l.qZA(),l.TgZ(8,"h3",15),l._uU(9),l.qZA(),l.TgZ(10,"p",16),l._uU(11),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(7),l.Oqu(t.nombre_experiencia),l.xp6(2),l.Oqu(t.duracion_experiencia),l.xp6(2),l.hij(" ",t.descripcion_experiencia," ")}}let p=(()=>{class n{constructor(t,i){this.expService=t,this.tokenService=i,this.exp="Experiencia",this.experiencia=[],this.isAdmin=!1}ngOnInit(){this.expService.obtenerDatosExperiencia().subscribe(t=>{this.experiencia=t}),this.getRol()}cargarExperiencia(){this.expService.obtenerDatosExperiencia().subscribe(t=>{this.experiencia=t})}getRol(){const t=this.tokenService.getAuthorities();this.realRole="user",t.forEach(i=>{"ROLE_ADMIN"===i&&(this.realRole="admin",this.isAdmin=!0)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zc),l.Y36(os))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-experience"]],features:[l._Bn([Zc])],decls:11,vars:3,consts:[["id","services",1,"services-mf","pt-5","route"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center"],[1,"titulos"],[4,"ngIf"],[1,"line-mf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"service-box"],[1,"service-ico"],[1,"ico-circle"],[1,"bi","bi-bag-check"],[1,"service-content"],[1,"text-muted"],[1,"s-description","text-center"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l._uU(6),l.qZA(),l.YNc(7,u,1,0,"app-edit-experiencia-button",6),l._UZ(8,"div",7),l.qZA()()(),l.TgZ(9,"div",2),l.YNc(10,h,12,3,"div",8),l.qZA()()()),2&t&&(l.xp6(6),l.hij(" ",i.exp," "),l.xp6(1),l.Q6J("ngIf",i.isAdmin),l.xp6(3),l.Q6J("ngForOf",i.experiencia))},directives:[un,a,wn],styles:[".ico-circle[_ngcontent-%COMP%]{height:100px;width:100px;font-size:2rem;border-radius:50%;line-height:1.55;margin:0 auto;text-align:center;box-shadow:0 0 0 10px #6c63ff;display:block}.service-box[_ngcontent-%COMP%]{background-color:#fff;padding:2.5rem 1.3rem;border-radius:1rem;margin-bottom:3rem;text-align:center}.service-box[_ngcontent-%COMP%]:hover   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;color:#fff;background-color:#0078ff;box-shadow:0 0 0 10px #cde1f8}.service-box[_ngcontent-%COMP%]   .service-ico[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1e1e1e}.service-box[_ngcontent-%COMP%]   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;display:inline-flex;align-items:center;justify-content:center}.service-box[_ngcontent-%COMP%]   .ico-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:0;font-size:40px}.service-box[_ngcontent-%COMP%]   .s-title[_ngcontent-%COMP%]{font-size:1.4rem;text-transform:uppercase;text-align:center;padding:.4rem 0}.service-box[_ngcontent-%COMP%]   .s-description[_ngcontent-%COMP%]{color:#4e4e4e}"]}),n})();function y(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"El usuario es Admin"),l.qZA())}let b=(()=>{class n{constructor(t,i,r,s){this.guard=t,this.tokenService=i,this.authService=r,this.router=s,this.roles=[],this.isAdmin=!1,this.isLogged=!1,this.nombreUsuario=""}ngOnInit(){this.getRoles()}Editar(){this.router.navigate(["modifica"])}getRoles2(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{this.isAdmin="ROLE_ADMIN"===t})}getRoles(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{"ROLE_ADMIN"===t?(this.isAdmin=!0,console.log("El usuario es admin")):this.isAdmin=!1,console.log("El usuario NO ES admin"),this.router.navigate(["portfolio"])}),this.tokenService.getToken()?(this.isLogged=!0,this.nombreUsuario=this.tokenService.getUserName()):(this.isLogged=!1,this.nombreUsuario="")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gh),l.Y36(os),l.Y36(Ko),l.Y36(_n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-button"]],decls:5,vars:1,consts:[[1,"btn","btn-secondary","bi","bi-pencil","m-2",3,"click"],[1,"glyphicon","glyphicon-pencil"],[4,"ngIf"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"button",0),l.NdJ("click",function(){return i.Editar()}),l._UZ(2,"span",1),l._uU(3," Editar Educaci\xf3n"),l.qZA(),l.YNc(4,y,2,0,"p",2),l.qZA()),2&t&&(l.xp6(4),l.Q6J("ngIf",i.isAdmin))},directives:[un],styles:[""]}),n})();function C(n,e){1&n&&l._UZ(0,"app-edit-button")}function D(n,e){if(1&n&&(l.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),l._UZ(4,"i",12),l.qZA()(),l.TgZ(5,"div")(6,"h2"),l._uU(7),l.qZA(),l.TgZ(8,"h3",13),l._uU(9),l.qZA(),l.TgZ(10,"h4",13),l._uU(11),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(7),l.Oqu(t.titulo),l.xp6(2),l.Oqu(t.institucion),l.xp6(2),l.Oqu(t.fecha_egreso)}}let x=(()=>{class n{constructor(t,i,r,s){this.eService=t,this.guard=i,this.router=r,this.tokenService=s,this.educacion=[],this.isAdmin=!1}ngOnInit(){this.getRol(),this.eService.obtenerDatosEducacion().subscribe(t=>{this.educacion=t})}getRol(){const t=this.tokenService.getAuthorities();this.realRole="user",t.forEach(i=>{"ROLE_ADMIN"===i&&(this.realRole="admin",this.isAdmin=!0)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(q_),l.Y36(gh),l.Y36(_n),l.Y36(os))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-education"]],features:[l._Bn([q_])],decls:11,vars:2,consts:[["id","services",1,"services-mf","pt-5","route"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center"],[4,"ngIf"],[1,"line-mf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"service-box"],[1,"service-ico"],[1,"ico-circle"],[1,"fondo"],[1,"text-muted"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),l._uU(6," Educaci\xf3n "),l.qZA(),l.YNc(7,C,1,0,"app-edit-button",5),l._UZ(8,"div",6),l.qZA()()(),l.TgZ(9,"div",2),l.YNc(10,D,12,3,"div",7),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("ngIf",i.isAdmin),l.xp6(3),l.Q6J("ngForOf",i.educacion))},directives:[un,b,wn],styles:[".ico-circle[_ngcontent-%COMP%]{height:100px;width:100px;font-size:2rem;border-radius:50%;line-height:1.55;margin:0 auto;text-align:center;box-shadow:0 0 0 5px #29292b;display:block;background-image:url(education.afc1707aba6d36ba.png);background-repeat:no-repeat;background-position:50%;background-size:contain}.service-box[_ngcontent-%COMP%]{background-color:#fff;padding:2.5rem 1.3rem;border-radius:1rem;margin-bottom:3rem;text-align:center}.service-box[_ngcontent-%COMP%]:hover   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;color:#fff;background-color:#d0dae6;box-shadow:0 0 0 5px #cde1f8}.service-box[_ngcontent-%COMP%]   .service-ico[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1e1e1e}.service-box[_ngcontent-%COMP%]   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;display:inline-flex;align-items:center;justify-content:center}.service-box[_ngcontent-%COMP%]   .ico-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:0;font-size:40px}.service-box[_ngcontent-%COMP%]   .s-title[_ngcontent-%COMP%]{font-size:1.4rem;text-transform:uppercase;text-align:center;padding:.4rem 0}.service-box[_ngcontent-%COMP%]   .s-description[_ngcontent-%COMP%]{color:#4e4e4e}"]}),n})(),N=(()=>{class n{constructor(t,i,r){this.tokenService=t,this.authService=i,this.router=r,this.isAdmin=!1,this.isLogged=!1}ngOnInit(){}Editar(){this.router.navigate(["modifica-skill"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(os),l.Y36(Ko),l.Y36(_n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-skill-button"]],decls:4,vars:0,consts:[[1,"btn","btn-secondary","bi","bi-pencil","m-2",3,"click"],[1,"glyphicon","glyphicon-pencil"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"button",0),l.NdJ("click",function(){return i.Editar()}),l._UZ(2,"span",1),l._uU(3," Editar Skill"),l.qZA()())},styles:[""]}),n})();function P(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"linearGradient"),l._UZ(1,"stop",5)(2,"stop",6),l.qZA()),2&n){const t=l.oxw(2);l.uIk("id",t.svg.outerLinearGradient.id),l.xp6(1),l.uIk("stop-color",t.svg.outerLinearGradient.colorStop1)("stop-opacity",1),l.xp6(1),l.uIk("stop-color",t.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function j(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"radialGradient"),l._UZ(1,"stop",5)(2,"stop",6),l.qZA()),2&n){const t=l.oxw(2);l.uIk("id",t.svg.radialGradient.id),l.xp6(1),l.uIk("stop-color",t.svg.radialGradient.colorStop1)("stop-opacity",1),l.xp6(1),l.uIk("stop-color",t.svg.radialGradient.colorStop2)("stop-opacity",1)}}function Q(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle")),2&n){const t=l.oxw(3);l.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill",t.svg.backgroundCircle.fill)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function he(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle")),2&n){const t=l.oxw(3);l.Q2q("fill","url(#",t.svg.radialGradient.id,")"),l.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function Le(n,e){if(1&n&&(l.O4$(),l.ynx(0),l.YNc(1,Q,1,7,"circle",2),l.YNc(2,he,1,7,"circle",2),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.options.backgroundGradient),l.xp6(1),l.Q6J("ngIf",t.options.backgroundGradient)}}function je(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle")),2&n){const t=l.oxw(2);l.uIk("cx",t.svg.circle.cx)("cy",t.svg.circle.cy)("r",t.svg.circle.r)("fill",t.svg.circle.fill)("stroke",t.svg.circle.stroke)("stroke-width",t.svg.circle.strokeWidth)}}function Xe(n,e){if(1&n&&(l.O4$(),l._UZ(0,"path")),2&n){const t=l.oxw(3);l.uIk("d",t.svg.path.d)("stroke",t.svg.path.stroke)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function Ee(n,e){if(1&n&&(l.O4$(),l._UZ(0,"path")),2&n){const t=l.oxw(3);l.Q2q("stroke","url(#",t.svg.outerLinearGradient.id,")"),l.uIk("d",t.svg.path.d)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function pt(n,e){if(1&n&&(l.O4$(),l.ynx(0),l.YNc(1,Xe,1,5,"path",2),l.YNc(2,Ee,1,5,"path",2),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.options.outerStrokeGradient),l.xp6(1),l.Q6J("ngIf",t.options.outerStrokeGradient)}}function jt(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"tspan"),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(4);l.uIk("x",i.svg.title.x)("y",i.svg.title.y)("dy",t.dy)("font-size",i.svg.title.fontSize)("font-weight",i.svg.title.fontWeight)("fill",i.svg.title.color),l.xp6(1),l.Oqu(t.span)}}function an(n,e){if(1&n&&(l.O4$(),l.ynx(0),l.YNc(1,jt,2,7,"tspan",8),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.svg.title.tspans)}}function us(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"tspan"),l._uU(1),l.qZA()),2&n){const t=l.oxw(3);l.uIk("font-size",t.svg.units.fontSize)("font-weight",t.svg.units.fontWeight)("fill",t.svg.units.color),l.xp6(1),l.Oqu(t.svg.units.text)}}function fu(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"tspan"),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(4);l.uIk("x",i.svg.subtitle.x)("y",i.svg.subtitle.y)("dy",t.dy)("font-size",i.svg.subtitle.fontSize)("font-weight",i.svg.subtitle.fontWeight)("fill",i.svg.subtitle.color),l.xp6(1),l.Oqu(t.span)}}function vb(n,e){if(1&n&&(l.O4$(),l.ynx(0),l.YNc(1,fu,2,7,"tspan",8),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.svg.subtitle.tspans)}}function bb(n,e){if(1&n&&(l.O4$(),l.TgZ(0,"text",7),l.YNc(1,an,2,1,"ng-container",2),l.YNc(2,us,2,4,"tspan",2),l.YNc(3,vb,2,1,"ng-container",2),l.qZA()),2&n){const t=l.oxw(2);l.uIk("x",t.svg.circle.cx)("y",t.svg.circle.cy)("text-anchor",t.svg.title.textAnchor),l.xp6(1),l.Q6J("ngIf",t.options.showTitle),l.xp6(1),l.Q6J("ngIf",t.options.showUnits),l.xp6(1),l.Q6J("ngIf",t.options.showSubtitle)}}function wb(n,e){if(1&n&&(l.O4$(),l._UZ(0,"image",9)),2&n){const t=l.oxw(2);l.uIk("height",t.svg.image.height)("width",t.svg.image.width)("href",t.svg.image.src,null,"xlink")("x",t.svg.image.x)("y",t.svg.image.y)}}function Eb(n,e){if(1&n){const t=l.EpF();l.O4$(),l.TgZ(0,"svg",1),l.NdJ("click",function(r){return l.CHM(t),l.oxw().emitClickEvent(r)}),l.TgZ(1,"defs"),l.YNc(2,P,3,5,"linearGradient",2),l.YNc(3,j,3,5,"radialGradient",2),l.qZA(),l.YNc(4,Le,3,2,"ng-container",2),l.YNc(5,je,1,6,"circle",2),l.YNc(6,pt,3,2,"ng-container",2),l.YNc(7,bb,4,6,"text",3),l.YNc(8,wb,1,5,"image",4),l.qZA()}if(2&n){const t=l.oxw();l.uIk("viewBox",t.svg.viewBox)("height",t.svg.height)("width",t.svg.width)("class",t.options.class),l.xp6(2),l.Q6J("ngIf",t.options.outerStrokeGradient),l.xp6(1),l.Q6J("ngIf",t.options.backgroundGradient),l.xp6(1),l.Q6J("ngIf",t.options.showBackground),l.xp6(1),l.Q6J("ngIf",t.options.showInnerStroke),l.xp6(1),l.Q6J("ngIf",0!=+t.options.percent||t.options.showZeroOuterStroke),l.xp6(1),l.Q6J("ngIf",!t.options.showImage&&(t.options.showTitle||t.options.showUnits||t.options.showSubtitle)),l.xp6(1),l.Q6J("ngIf",t.options.showImage)}}class mh{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}}let Cb=(()=>{class n{constructor(t,i,r){this.elRef=i,this.document=r,this.onClick=new l.vpe,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new l.vpe,this._viewportChangedSubscriber=null,this.options=new mh,this.defaultOptions=new mh,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(null===this.svgElement&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(s,c,d,f)=>{let _=f*Math.PI/180;return{x:s+Math.sin(_)*d,y:c-Math.cos(_)*d}},this.draw=s=>{let c=(s=void 0===s?this.options.percent:Math.abs(s))>100?100:s,d=2*this.options.radius+2*this.options.outerStrokeWidth;this.options.showBackground&&(d+=2*this.options.backgroundStrokeWidth+this.max(0,2*this.options.backgroundPadding));let T,I,f={x:d/2,y:d/2},__x=f.x,__y=f.y-this.options.radius,w=this.polarToCartesian(f.x,f.y,this.options.radius,360*(this.options.clockwise?c:100-c)/100);100===c&&(w.x=w.x+(this.options.clockwise?-.01:.01)),[T,I]=c>50?this.options.clockwise?[1,1]:[1,0]:this.options.clockwise?[0,1]:[0,0];let M=this.options.animateTitle?s:this.options.percent,k=M>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:M.toFixed(this.options.toFixed),L=this.options.animateSubtitle?s:this.options.percent,G={x:f.x,y:f.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.titleFormat&&"Function"===this.options.titleFormat.constructor.name){let ve=this.options.titleFormat(M);ve instanceof Array?G.texts=[...ve]:G.texts.push(ve.toString())}else"auto"===this.options.title?G.texts.push(k):this.options.title instanceof Array?G.texts=[...this.options.title]:G.texts.push(this.options.title.toString());let se={x:f.x,y:f.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.subtitleFormat&&"Function"===this.options.subtitleFormat.constructor.name){let ve=this.options.subtitleFormat(L);ve instanceof Array?se.texts=[...ve]:se.texts.push(ve.toString())}else this.options.subtitle instanceof Array?se.texts=[...this.options.subtitle]:se.texts.push(this.options.subtitle.toString());let ue={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},ge=0,ce=1;if(this.options.showTitle&&(ge+=G.texts.length),this.options.showSubtitle&&(ge+=se.texts.length),this.options.showTitle)for(let ve of G.texts)G.tspans.push({span:ve,dy:this.getRelativeY(ce,ge)}),ce++;if(this.options.showSubtitle)for(let ve of se.texts)se.tspans.push({span:ve,dy:this.getRelativeY(ce,ge)}),ce++;null===this._gradientUUID&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${d} ${d}`,width:this.options.responsive?"100%":d,height:this.options.responsive?"100%":d,backgroundCircle:{cx:f.x,cy:f.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${__x} ${__y}\n        A ${this.options.radius} ${this.options.radius} 0 ${T} ${I} ${w.x} ${w.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:f.x,cy:f.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:G,units:ue,subtitle:se,image:{x:f.x-this.options.imageWidth/2,y:f.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:"transparent"===this.options.outerStrokeGradientStopColor?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:"transparent"===this.options.backgroundGradientStopColor?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(s,c)=>{let f,_,w,T=this.options.startFromZero||s<0?0:s,I=c<0?0:this.min(c,this.options.maxPercent),M=Math.abs(Math.round(I-T));return M>=100?(f=100,_=this.options.animateTitle||this.options.animateSubtitle?Math.round(M/f):1):(f=M,_=1),w=Math.round(this.options.animationDuration/f),w<10&&(w=10,f=this.options.animationDuration/w,_=!this.options.animateTitle&&!this.options.animateSubtitle&&M>100?Math.round(100/f):Math.round(M/f)),_<1&&(_=1),{times:f,step:_,interval:w}},this.animate=(s,c)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let d=this.options.startFromZero?0:s,f=c,{step:_,interval:w}=this.getAnimationParameters(d,f),T=d;this._timerSubscription=d<f?Rd(0,w).subscribe(()=>{T+=_,T<=f?!this.options.animateTitle&&!this.options.animateSubtitle&&T>=100?(this.draw(f),this._timerSubscription.unsubscribe()):this.draw(T):(this.draw(f),this._timerSubscription.unsubscribe())}):Rd(0,w).subscribe(()=>{T-=_,T>=f?!this.options.animateTitle&&!this.options.animateSubtitle&&f>=100?(this.draw(f),this._timerSubscription.unsubscribe()):this.draw(T):(this.draw(f),this._timerSubscription.unsubscribe())})},this.emitClickEvent=s=>{this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.emit(s)},this.applyOptions=()=>{for(let s of Object.keys(this.options))this.hasOwnProperty(s)&&void 0!==this[s]?this.options[s]=this[s]:this.templateOptions&&void 0!==this.templateOptions[s]&&(this.options[s]=this.templateOptions[s]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(s,c)=>(1*(s-c/2)-.18).toFixed(2)+"em",this.min=(s,c)=>s<c?s:c,this.max=(s,c)=>s>c?s:c,this.uuid=()=>{var s=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=(s+16*Math.random())%16|0;return s=Math.floor(s/16),("x"==d?f:3&f|8).toString(16)})},this.findSvgElement=function(){if(null===this.svgElement){let s=this.elRef.nativeElement.getElementsByTagName("svg");s.length>0&&(this.svgElement=s[0])}},this.checkViewport=()=>{this.findSvgElement();let s=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),s!==this.isInViewport&&this.onViewportChanged.emit({oldValue:s,newValue:this.isInViewport})},this.onScroll=s=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0),null===this._viewportChangedSubscriber&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({newValue:d})=>{d&&this.render()}));let s=Rd(0,50).subscribe(()=>{null===this.svgElement?this.checkViewport():s.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),null!==this._viewportChangedSubscriber&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=r,this.window=this.document.defaultView,Object.assign(this.options,t),Object.assign(this.defaultOptions,t)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}isElementInViewport(t){if(null==t)return!1;let s,i=t.getBoundingClientRect(),r=t.parentNode;do{if(s=r.getBoundingClientRect(),i.top>=s.bottom||i.bottom<=s.top||i.left>=s.right||i.right<=s.left)return!1;r=r.parentNode}while(r!=this.document.body);return!(i.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||i.bottom<=0||i.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||i.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(t){this.render(),"lazy"in t&&(t.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mh),l.Y36(l.SBq),l.Y36(Ce))},n.\u0275cmp=l.Xpm({type:n,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:["options","templateOptions"]},outputs:{onClick:"onClick"},features:[l.TTD],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(t,i){1&t&&l.YNc(0,Eb,9,11,"svg",0),2&t&&l.Q6J("ngIf",i.svg)},directives:[un,wn],encapsulation:2}),n})(),Tb=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:mh,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si]]}),n})();function Db(n,e){if(1&n&&(l.TgZ(0,"div",9)(1,"div",2)(2,"h2",10),l._uU(3),l.qZA(),l.TgZ(4,"div",1),l._UZ(5,"circle-progress",11),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(3),l.Oqu(t.nombre_skill),l.xp6(2),l.Q6J("percent",t.porcentaje_skill)("radius",100)("outerStrokeWidth",16)("innerStrokeWidth",8)("outerStrokeColor","#6C63FF")("innerStrokeColor","#8ba9bc")("animation",!0)("animationDuration",300)}}let Ib=(()=>{class n{constructor(t){this.skService=t,this.skill=[]}ngOnInit(){this.skService.obtenerDatosSkill().subscribe(t=>{this.skill=t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(W_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-skills"]],features:[l._Bn([W_])],decls:12,vars:1,consts:[["id","services",1,"services-mf","pt-5","route"],[1,"container"],[1,"service-box"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center"],[1,"line-mf"],[1,"row","mt-3"],["class"," col-md-4  ",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"texto"],[3,"percent","radius","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),l._uU(7," Skills "),l.qZA(),l._UZ(8,"app-edit-skill-button")(9,"div",6),l.qZA()()()(),l.TgZ(10,"div",7),l.YNc(11,Db,6,9,"div",8),l.qZA()()()),2&t&&(l.xp6(11),l.Q6J("ngForOf",i.skill))},directives:[N,wn,Cb],styles:[""]}),n})(),kW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-projects"]],decls:0,vars:0,template:function(t,i){},styles:[""]}),n})(),RW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"row","container-fluid"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"p"),l._uU(2,"Perrotta Vicente | Argentina Programa"),l.qZA()())},styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#6c63ff;border-radius:2rem;height:20px;width:100%;align-items:center;text-align:center;padding:auto}"]}),n})(),MU=(()=>{class n{constructor(t){this.http=t,this.apiHerokuUrl=Nd_apiUrl,this.cargada=!1,this.url="https://portfolio-perrottavicente.koyeb.app/"}obtenerDatosPersona(t){return this.http.get(this.url+"/"+t)}getPersonas(){return this.http.get(`${this.apiHerokuUrl}/personas/all`)}editarDatosPersona(t){return this.http.put(this.url,t)}obtenerUnaPersona(){return this.http.get(this.apiHerokuUrl+"persona/1")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PW(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1,"\nDatos de Autor para Argentina Programa grupo 141:"),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l._UZ(6,"br"),l._uU(7),l._UZ(8,"br"),l.TgZ(9,"a",1),l._uU(10,"Contactar por email"),l.qZA()()),2&n){const t=l.oxw();l.xp6(3),l.hij("\nNombre: ",t.persona.nombre,""),l.xp6(2),l.hij("\nApellido: ",t.persona.apellido,""),l.xp6(2),l.hij("\nDocumento: ",t.persona.dni,""),l.xp6(2),l.MGl("href","mailto:",t.email,"",l.LSH)}}function FW(n,e){1&n&&(l.TgZ(0,"p")(1,"span",2),l._uU(2,"...Esperando datos del servidor"),l.qZA()())}let LW=(()=>{class n{constructor(t){this.service=t,this.email="perrottavicente@gmail.com"}ngOnInit(){this.service.obtenerUnaPersona().subscribe(t=>{this.persona=t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(MU))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],features:[l._Bn([MU])],decls:2,vars:2,consts:[[4,"ngIf"],[3,"href"],[2,"border","4px solid rgb(121, 101, 209)","color","rgb(92, 99, 106)","font-size","large"]],template:function(t,i){1&t&&(l.YNc(0,PW,11,4,"p",0),l.YNc(1,FW,3,0,"p",0)),2&t&&(l.Q6J("ngIf",i.persona),l.xp6(1),l.Q6J("ngIf",!i.persona))},directives:[un],styles:[""]}),n})(),NU=(()=>{class n{constructor(t,i,r,s){this.tokenService=t,this.authService=i,this.router=r,this.experiencia=s,this.title="Perrotta Vicente",this.subtitle=" Full Stack Developer",this.exp="Experiencia",this.edu="Educaci\xf3n",this.hys="Hard & Soft Skills",this.proy="Proyectos",this.isAdmin=!1,this.isLogged=!1,this.nombreUsuario="",this.pruebas=[]}ngOnInit(){this.getRoles()}logout(){this.tokenService.logOut(),window.location.reload(),this.router.navigate(["login"])}getRoles(){this.roles=this.tokenService.getAuthorities(),this.roles.forEach(t=>{"ROLE_ADMIN"===t?(this.isAdmin=!0,console.log("El usuario es admin")):console.log("El usuario NO ES admin"),this.router.navigate(["portfolio"])}),this.tokenService.getToken()?(this.isLogged=!0,this.nombreUsuario=this.tokenService.getUserName()):(this.isLogged=!1,this.nombreUsuario="")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(os),l.Y36(Ko),l.Y36(_n),l.Y36(Zc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-portfolio"]],decls:18,vars:0,consts:[["role","main",1,"container-fluid"],[1,"content"],[1,"container-fluid","margin"],[1,"row"],[1,"col-md-12"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"app-header"),l.qZA(),l.TgZ(3,"div",1),l._UZ(4,"app-acerca"),l.qZA(),l.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div"),l._UZ(9,"app-experience"),l.qZA(),l._UZ(10,"app-education"),l._uU(11," \xa0 "),l._UZ(12,"app-skills"),l._uU(13," \xa0 "),l._UZ(14,"app-projects"),l._uU(15," \xa0 "),l._UZ(16,"app-footer")(17,"app-contact"),l.qZA()()()())},directives:[Tp,o,p,x,Ib,kW,RW,LW],styles:[".content2[_ngcontent-%COMP%]{display:flex;margin:40px auto 12px;padding:0 16px;height:auto;flex-direction:column;align-items:center}"]}),n})();class BW{constructor(e,t){this.userName=e,this.password=t}}function UW(n,e){1&n&&(l.TgZ(0,"p",22),l._uU(1,"login component Por favor, ingresar usuario y clave"),l.qZA())}function VW(n,e){1&n&&(l.TgZ(0,"p",23),l._uU(1,"Nombre de usuario incorrecto, intente nuevamente. "),l.qZA())}function jW(n,e){1&n&&(l.TgZ(0,"button",24),l._uU(1,"Login"),l.qZA())}function HW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){return l.CHM(t),l.oxw().logout()}),l._uU(1,"Logout"),l.qZA()}}const GW=[{path:"",component:NU},{path:"login",component:(()=>{class n{constructor(t,i,r){this.authService=t,this.tokenService=i,this.router=r,this.isLogged=!1,this.isLogginFail=!1,this.roles=[]}ngOnInit(){this.tokenService.getToken()&&(this.isLogged=!0,this.isLogginFail=!1,this.roles=this.tokenService.getAuthorities())}onLogin(){this.loginUsuario=new BW(this.userName,this.password),this.authService.login(this.loginUsuario).subscribe(t=>{this.isLogged=!0,this.isLogginFail=!1,this.tokenService.setToken(t.token),this.tokenService.setUserName(t.userName),this.tokenService.setAuthorities(t.authorities),this.roles=t.authorities,this.router.navigate(["/"])},t=>{this.isLogged=!1,this.isLogginFail=!0,this.errMsj=t.error.mensaje,console.log(this.errMsj)})}logout(){this.tokenService.logOut(),window.location.reload(),this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ko),l.Y36(os),l.Y36(_n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"backTrasnp","card","bg-dark","text-white",2,"border-radius","1rem"],[1,"d-flex","justify-content-center"],[1,"brand_logo_container"],["src","https://cdn-icons-png.flaticon.com/512/1946/1946429.png","alt","Logo",1,"brand_logo"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"pt-5","fw-bold","mb-3","text-uppercase"],["class","text-white-50 mb-5",4,"ngIf"],["class","text-warning mb-5",4,"ngIf"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-outline","form-white","mb-4"],["type","email","id","userName","name","userName","required","",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","userName",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","btn btn-outline-light btn-lg px-5","type","submit",4,"ngIf"],["class","btn btn-danger btn-lg px-5",3,"click",4,"ngIf"],[1,"text-white-50","mb-5"],[1,"text-warning","mb-5"],["type","submit",1,"btn","btn-outline-light","btn-lg","px-5"],[1,"btn","btn-danger","btn-lg","px-5",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"img",7),l.qZA()(),l.TgZ(8,"div",8)(9,"div",9)(10,"h2",10),l._uU(11,"Login"),l.qZA(),l.YNc(12,UW,2,0,"p",11),l.YNc(13,VW,2,0,"p",12),l.TgZ(14,"form",13,14),l.NdJ("ngSubmit",function(){return i.onLogin()}),l.TgZ(16,"div",15)(17,"input",16),l.NdJ("ngModelChange",function(s){return i.userName=s}),l.qZA(),l.TgZ(18,"label",17),l._uU(19,"Usuario"),l.qZA()(),l.TgZ(20,"div",15)(21,"input",18),l.NdJ("ngModelChange",function(s){return i.password=s}),l.qZA(),l.TgZ(22,"label",19),l._uU(23,"Password"),l.qZA()(),l.YNc(24,jW,2,0,"button",20),l.YNc(25,HW,2,0,"button",21),l.qZA()()()()()()()()),2&t&&(l.xp6(12),l.Q6J("ngIf",!i.isLogginFail),l.xp6(1),l.Q6J("ngIf",i.isLogginFail),l.xp6(4),l.Q6J("ngModel",i.userName),l.xp6(4),l.Q6J("ngModel",i.password),l.xp6(3),l.Q6J("ngIf",!i.isLogged),l.xp6(1),l.Q6J("ngIf",i.isLogged))},directives:[un,Qo,Vd,Yl,Ld,d0,Yf,Ga],styles:[".container[_ngcontent-%COMP%]{background:rgb(2,0,36);background:linear-gradient(to top,#7028e4 0%,#e5b2ca 100%)}.backTrasnp[_ngcontent-%COMP%]{background-color:#000!important}.brand_logo_container[_ngcontent-%COMP%]{position:absolute;height:150px;width:150px;top:-80px;border-radius:50%;background:#ffffff;padding:10px;text-align:center}.brand_logo[_ngcontent-%COMP%]{height:130px;width:130px;border-radius:50%;border:2px solid white}"]}),n})()},{path:"portfolio",component:NU},{path:"modifica",component:xU,canActivate:[gh],data:{expectedRole:["admin"]}},{path:"modifica-skill",component:IU,canActivate:[gh],data:{expectedRole:["admin"]}},{path:"modifica-experiencia",component:gN,canActivate:[gh],data:{expectedRole:["admin"]}},{path:"",redirectTo:"login",pathMatch:"full"},{path:" ",component:Md},{path:"**",component:Md}];let $W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zE.forRoot(GW)],zE]}),n})(),WW=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[Of],styles:[".content2[_ngcontent-%COMP%]{display:flex;margin:40px auto 12px;padding:0 16px;height:auto;flex-direction:column;align-items:center}"]}),n})();class OU{}const pu="*";function kU(n,e=null){return{type:2,steps:n,options:e}}function qT(n){return{type:6,styles:n,offset:null}}function RU(n){Promise.resolve(null).then(n)}class Sb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?RU(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Yt=!1;function FU(n){return new l.vHH(3e3,Yt)}function Mq(){return"undefined"!=typeof window&&void 0!==window.document}function _N(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _h(n){switch(n.length){case 0:return new Sb;case 1:return n[0];default:return new PU(n)}}function LU(n,e,t,i,r={},s={}){const c=[],d=[];let f=-1,_=null;if(i.forEach(w=>{const T=w.offset,I=T==f,M=I&&_||{};Object.keys(w).forEach(k=>{let L=k,G=w[k];if("offset"!==k)switch(L=e.normalizePropertyName(L,c),G){case"!":G=r[k];break;case pu:G=s[k];break;default:G=e.normalizeStyleValue(k,L,G,c)}M[L]=G}),I||d.push(M),_=M,f=T}),c.length)throw function vq(n){return new l.vHH(3502,Yt)}();return d}function yN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vN(t,"destroy",n)))}}function vN(n,e,t){const i=t.totalTime,s=bN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function bN(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function yo(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function BU(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let wN=(n,e)=>!1,UU=(n,e,t)=>[],VU=null;function EN(n){const e=n.parentNode||n.host;return e===VU?null:e}(_N()||"undefined"!=typeof Element)&&(Mq()?(VU=(()=>document.documentElement)(),wN=(n,e)=>{for(;e;){if(e===n)return!0;e=EN(e)}return!1}):wN=(n,e)=>n.contains(e),UU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ip=null,jU=!1;function HU(n){Ip||(Ip=function Oq(){return"undefined"!=typeof document?document.body:null}()||{},jU=!!Ip.style&&"WebkitAppearance"in Ip.style);let e=!0;return Ip.style&&!function Nq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ip.style,!e&&jU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ip.style)),e}const GU=wN,$U=UU;let WU=(()=>{class n{validateStyleProperty(t){return HU(t)}matchesElement(t,i){return!1}containsElement(t,i){return GU(t,i)}getParentElement(t){return EN(t)}query(t,i,r){return $U(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],f){return new Sb(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CN=(()=>{class n{}return n.NOOP=new WU,n})();const TN="ng-enter",ZT="ng-leave",KT="ng-trigger",YT=".ng-trigger",zU="ng-animating",DN=".ng-animating";function Sp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IN(parseFloat(e[1]),e[2])}function IN(n,e){return"s"===e?1e3*n:n}function QT(n,e,t){return n.hasOwnProperty("duration")?n:function Pq(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(FU()),{duration:0,delay:0,easing:""};r=IN(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=IN(parseFloat(f),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function QW(){return new l.vHH(3100,Yt)}()),d=!0),s<0&&(e.push(function JW(){return new l.vHH(3101,Yt)}()),d=!0),d&&e.splice(f,0,FU())}return{duration:r,delay:s,easing:c}}(n,e,t)}function z_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function yh(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else z_(n,t);return t}function KU(n,e,t){return t?e+":"+t+";":""}function YU(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=KU(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=KU(0,Bq(t),n.style[t]));n.setAttribute("style",e)}function sc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=AN(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),_N()&&YU(n))}function Ap(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=AN(t);n.style[i]=""}),_N()&&YU(n))}function Ab(n){return Array.isArray(n)?1==n.length?n[0]:kU(n):n}const SN=new RegExp("{{\\s*(.+?)\\s*}}","g");function QU(n){let e=[];if("string"==typeof n){let t;for(;t=SN.exec(n);)e.push(t[1]);SN.lastIndex=0}return e}function JT(n,e,t){const i=n.toString(),r=i.replace(SN,(s,c)=>{let d=e[c];return e.hasOwnProperty(c)||(t.push(function eq(n){return new l.vHH(3003,Yt)}()),d=""),d.toString()});return r==i?n:r}function XT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Lq=/-+([a-z0-9])/g;function AN(n){return n.replace(Lq,(...e)=>e[1].toUpperCase())}function Bq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function tq(n){return new l.vHH(3004,Yt)}()}}function JU(n,e){return window.getComputedStyle(n)[e]}function $q(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Wq(n,e,t){if(":"==n[0]){const f=function qq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function gq(n){return new l.vHH(3016,Yt)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function pq(n){return new l.vHH(3015,Yt)}()),e;const r=i[1],s=i[2],c=i[3];e.push(XU(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(XU(c,r))}(i,t,e)):t.push(n),t}const iD=new Set(["true","1"]),rD=new Set(["false","0"]);function XU(n,e){const t=iD.has(n)||rD.has(n),i=iD.has(e)||rD.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?iD.has(n):rD.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?iD.has(e):rD.has(e)),c&&d}}const zq=new RegExp("s*:selfs*,?","g");function xN(n,e,t,i){return new Zq(n).build(e,t,i)}class Zq{constructor(e){this._driver=e}build(e,t,i){const r=new Qq(t);this._resetContextStyleTimingState(r);const s=vo(this,Ab(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function iq(){return new l.vHH(3006,Yt)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,_=f.name;_.toString().split(/\s*,\s*/).forEach(w=>{f.name=w,s.push(this.visitState(f,t))}),f.name=_}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,c.push(f)}else t.errors.push(function rq(){return new l.vHH(3007,Yt)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(sD(d)){const f=d;Object.keys(f).forEach(_=>{QU(f[_]).forEach(w=>{c.hasOwnProperty(w)||s.add(w)})})}}),s.size&&(XT(s.values()),t.errors.push(function sq(n,e){return new l.vHH(3008,Yt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=vo(this,Ab(e.animation),t);return{type:1,matchers:$q(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:xp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>vo(this,i,t)),options:xp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=vo(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:xp(e.options)}}visitAnimate(e,t){const i=function Xq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MN(QT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=QT(t,e);return MN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:qT({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=qT(_)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==pu?i.push(c):t.errors.push(function oq(n){return new l.vHH(3002,Yt)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(sD(c)){const d=c,f=d.easing;if(f&&(s=f,delete d.easing),!r)for(let _ in d)if(d[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void t.unsupportedCSSPropertiesFound.add(d);const f=t.collectedStyles[t.currentQuerySelector],_=f[d];let w=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function aq(n,e,t,i,r){return new l.vHH(3010,Yt)}()),w=!1),s=_.startTime),w&&(f[d]={startTime:s,endTime:r}),t.options&&function Fq(n,e,t){const i=e.params||{},r=QU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function XW(n){return new l.vHH(3001,Yt)}())})}(c[d],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function lq(){return new l.vHH(3011,Yt)}()),i;let s=0;const c=[];let d=!1,f=!1,_=0;const w=e.steps.map(se=>{const ue=this._makeStyleAst(se,t);let ge=null!=ue.offset?ue.offset:function Jq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(sD(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(sD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ue.styles),ce=0;return null!=ge&&(s++,ce=ue.offset=ge),f=f||ce<0||ce>1,d=d||ce<_,_=ce,c.push(ce),ue});f&&t.errors.push(function cq(){return new l.vHH(3012,Yt)}()),d&&t.errors.push(function uq(){return new l.vHH(3200,Yt)}());const T=e.steps.length;let I=0;s>0&&s<T?t.errors.push(function dq(){return new l.vHH(3202,Yt)}()):0==s&&(I=1/(T-1));const M=T-1,k=t.currentTime,L=t.currentAnimateTimings,G=L.duration;return w.forEach((se,ue)=>{const ge=I>0?ue==M?1:I*ue:c[ue],ce=ge*G;t.currentTime=k+L.delay+ce,L.duration=ce,this._validateStyleAst(se,t),se.offset=ge,i.styles.push(se)}),i}visitReference(e,t){return{type:8,animation:vo(this,Ab(e.animation),t),options:xp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function Kq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zq,"")),n=n.replace(/@\*/g,YT).replace(/@\w+/g,t=>YT+"-"+t.substr(1)).replace(/:animating/g,DN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,yo(t.collectedStyles,t.currentQuerySelector,{});const d=vo(this,Ab(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:xp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hq(){return new l.vHH(3013,Yt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:QT(e.timings,t.errors,!0);return{type:12,animation:vo(this,Ab(e.animation),t),timings:i,options:null}}}class Qq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sD(n){return!Array.isArray(n)&&"object"==typeof n}function xp(n){return n?(n=z_(n)).params&&(n.params=function Yq(n){return n?z_(n):null}(n.params)):n={},n}function MN(n,e,t){return{duration:n,delay:e,easing:t}}function NN(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class oD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nz=new RegExp(":enter","g"),rz=new RegExp(":leave","g");function ON(n,e,t,i,r,s={},c={},d,f,_=[]){return(new sz).buildKeyframes(n,e,t,i,r,s,c,d,f,_)}class sz{buildKeyframes(e,t,i,r,s,c,d,f,_,w=[]){_=_||new oD;const T=new kN(e,t,_,r,s,w,[]);T.options=f,T.currentTimeline.setStyles([c],null,T.errors,f),vo(this,i,T);const I=T.timelines.filter(M=>M.containsAnimation());if(Object.keys(d).length){let M;for(let k=I.length-1;k>=0;k--){const L=I[k];if(L.element===t){M=L;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([d],null,T.errors,f)}return I.length?I.map(M=>M.buildKeyframes()):[NN(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Sp(i.duration):null,d=null!=i.delay?Sp(i.delay):null;return 0!==c&&e.forEach(f=>{const _=t.appendInstructionToTimeline(f,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aD);const c=Sp(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>vo(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Sp(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),vo(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return QT(t.params?JT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Sp(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aD);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((_,w)=>{t.currentQueryIndex=w;const T=t.createSubContext(e.options,_);s&&T.delayNextStep(s),_===t.element&&(f=T.currentTimeline),vo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let f=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const w=t.currentTimeline;f&&w.delayNextStep(f);const T=w.currentTime;vo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const aD={};class kN{constructor(e,t,i,r,s,c,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new lD(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Sp(i.duration)),null!=i.delay&&(r.delay=Sp(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=JT(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new kN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=aD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new oz(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(nz,"."+this._enterClassName)).replace(rz,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function fq(n){return new l.vHH(3014,Yt)}()),d}}class lD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pu,this._currentKeyframe[t]=pu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function az(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=pu})):yh(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const f=JT(c[d],s,i);this._pendingStyles[d]=f,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:pu),this._updateStyle(d,f)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const _=yh(d,!0);Object.keys(_).forEach(w=>{const T=_[w];"!"==T?e.add(w):T==pu&&t.add(w)}),i||(_.offset=f/this.duration),r.push(_)});const s=e.size?XT(e.values()):[],c=t.size?XT(t.values()):[];if(i){const d=r[0],f=z_(d);d.offset=0,f.offset=1,r=[d,f]}return NN(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class oz extends lD{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,f=yh(e[0],!1);f.offset=0,s.push(f);const _=yh(e[0],!1);_.offset=nV(d),s.push(_);const w=e.length-1;for(let T=1;T<=w;T++){let I=yh(e[T],!1);I.offset=nV((t+I.offset*i)/c),s.push(I)}i=c,t=0,r="",e=s}return NN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function nV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RN{}class lz extends RN{normalizePropertyName(e,t){return AN(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(cz[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function nq(n,e){return new l.vHH(3005,Yt)}())}return c+s}}const cz=(()=>function uz(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iV(n,e,t,i,r,s,c,d,f,_,w,T,I){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:f,preStyleProps:_,postStyleProps:w,totalTime:T,errors:I}}const PN={};class rV{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function dz(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,d,f,_,w){const T=[],I=this.ast.options&&this.ast.options.params||PN,k=this.buildStyles(i,d&&d.params||PN,T),L=f&&f.params||PN,G=this.buildStyles(r,L,T),se=new Set,ue=new Map,ge=new Map,ce="void"===r,ve={params:Object.assign(Object.assign({},I),L)},Pe=w?[]:ON(e,t,this.ast.animation,s,c,k,G,ve,_,T);let it=0;if(Pe.forEach(sn=>{it=Math.max(sn.duration+sn.delay,it)}),T.length)return iV(t,this._triggerName,i,r,ce,k,G,[],[],ue,ge,it,T);Pe.forEach(sn=>{const Cn=sn.element,Kn=yo(ue,Cn,{});sn.preStyleProps.forEach(ti=>Kn[ti]=!0);const xr=yo(ge,Cn,{});sn.postStyleProps.forEach(ti=>xr[ti]=!0),Cn!==t&&se.add(Cn)});const Dt=XT(se.values());return iV(t,this._triggerName,i,r,ce,k,G,Pe,Dt,ue,ge,it)}}class hz{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=z_(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let f=c[d];f.length>1&&(f=JT(f,r,t));const _=this.normalizer.normalizePropertyName(d,t);f=this.normalizer.normalizeStyleValue(d,_,f,t),i[_]=f})}}),i}}class pz{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new hz(r.style,r.options&&r.options.params||{},i)}),sV(this.states,"true","1"),sV(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new rV(e,r,this.states))}),this.fallbackTransition=function gz(n,e,t){return new rV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function sV(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const mz=new oD;class _z{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=xN(this._driver,t,i,[]);if(i.length)throw function bq(n){return new l.vHH(3503,Yt)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=LU(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const d=new Map;if(s?(c=ON(this._driver,t,s,TN,ZT,{},{},i,mz,r),c.forEach(w=>{const T=yo(d,w.element,{});w.postStyleProps.forEach(I=>T[I]=null)})):(r.push(function wq(){return new l.vHH(3300,Yt)}()),c=[]),r.length)throw function Eq(n){return new l.vHH(3504,Yt)}();d.forEach((w,T)=>{Object.keys(w).forEach(I=>{w[I]=this._driver.computeStyle(T,I,pu)})});const _=_h(c.map(w=>{const T=d.get(w.element);return this._buildPlayer(w,{},T)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Cq(n){return new l.vHH(3301,Yt)}();return t}listen(e,t,i,r){const s=bN(t,"","","");return yN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const oV="ng-animate-queued",FN="ng-animate-disabled",Ez=[],aV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ta="__ng_removed";class LN{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Sz(n){return null!=n?n:null}(i?e.value:e),i){const s=z_(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const xb="void",BN=new LN(xb);class Tz{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,na(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function Tq(n,e){return new l.vHH(3302,Yt)}();if(null==i||0==i.length)throw function Dq(n){return new l.vHH(3303,Yt)}();if(!function Az(n){return"start"==n||"done"==n}(i))throw function Iq(n,e){return new l.vHH(3400,Yt)}();const s=yo(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=yo(this._engine.statesByElement,e,{});return d.hasOwnProperty(t)||(na(e,KT),na(e,KT+"-"+t),d[t]=BN),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(c);f>=0&&s.splice(f,1),this._triggers[t]||delete d[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Sq(n){return new l.vHH(3401,Yt)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new UN(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(na(e,KT),na(e,KT+"-"+t),this._engine.statesByElement.set(e,d={}));let f=d[t];const _=new LN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&_.absorbOptions(f.options),d[t]=_,f||(f=BN),_.value!==xb&&f.value===_.value){if(!function Nz(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,_.params)){const L=[],G=s.matchStyles(f.value,f.params,L),se=s.matchStyles(_.value,_.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{Ap(e,G),sc(e,se)})}return}const I=yo(this._engine.playersByElement,e,[]);I.forEach(L=>{L.namespaceId==this.id&&L.triggerName==t&&L.queued&&L.destroy()});let M=s.matchTransition(f.value,_.value,e,_.params),k=!1;if(!M){if(!r)return;M=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:f,toState:_,player:c,isFallbackTransition:k}),k||(na(e,oV),c.onStart(()=>{Z_(e,oV)})),c.onDone(()=>{let L=this.players.indexOf(c);L>=0&&this.players.splice(L,1);const G=this._engine.playersByElement.get(e);if(G){let se=G.indexOf(c);se>=0&&G.splice(se,1)}}),this.players.push(c),I.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,YT,!0);i.forEach(r=>{if(r[ta])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(f=>{if(c.set(f,s[f].value),this._triggers[f]){const _=this.trigger(e,f,xb,r);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&_h(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const f=this._triggers[c].fallbackTransition,_=i[c]||BN,w=new LN(xb),T=new UN(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:f,fromState:_,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ta];(!s||s===aV)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){na(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const f=bN(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,yN(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Dz{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Tz(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const _=i.indexOf(f);i.splice(_+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,t)){i.splice(d+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&t.add(d)}}}return t}trigger(e,t,i,r){if(cD(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!cD(t))return;const s=t[ta];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),na(e,FN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Z_(e,FN))}removeNode(e,t,i,r){if(cD(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ta]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return cD(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,YT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,DN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _h(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ta];if(i&&i.setForRemoval){if(e[ta]=aV,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(FN))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)na(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?_h(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Aq(n){return new l.vHH(3402,Yt)}()}_flushAnimations(e,t){const i=new oD,r=[],s=new Map,c=[],d=new Map,f=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(qe=>{w.add(qe);const ot=this.driver.query(qe,".ng-animate-queued",!0);for(let _t=0;_t<ot.length;_t++)w.add(ot[_t])});const T=this.bodyNode,I=Array.from(this.statesByElement.keys()),M=uV(I,this.collectedEnterElements),k=new Map;let L=0;M.forEach((qe,ot)=>{const _t=TN+L++;k.set(ot,_t),qe.forEach(Ft=>na(Ft,_t))});const G=[],se=new Set,ue=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const ot=this.collectedLeaveElements[qe],_t=ot[ta];_t&&_t.setForRemoval&&(G.push(ot),se.add(ot),_t.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Ft=>se.add(Ft)):ue.add(ot))}const ge=new Map,ce=uV(I,Array.from(se));ce.forEach((qe,ot)=>{const _t=ZT+L++;ge.set(ot,_t),qe.forEach(Ft=>na(Ft,_t))}),e.push(()=>{M.forEach((qe,ot)=>{const _t=k.get(ot);qe.forEach(Ft=>Z_(Ft,_t))}),ce.forEach((qe,ot)=>{const _t=ge.get(ot);qe.forEach(Ft=>Z_(Ft,_t))}),G.forEach(qe=>{this.processLeaveNode(qe)})});const ve=[],Pe=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(t).forEach(_t=>{const Ft=_t.player,ni=_t.element;if(ve.push(Ft),this.collectedEnterElements.length){const Pi=ni[ta];if(Pi&&Pi.setForMove){if(Pi.previousTriggersValues&&Pi.previousTriggersValues.has(_t.triggerName)){const bs=Pi.previousTriggersValues.get(_t.triggerName),ca=this.statesByElement.get(_t.element);ca&&ca[_t.triggerName]&&(ca[_t.triggerName].value=bs)}return void Ft.destroy()}}const $s=!T||!this.driver.containsElement(T,ni),Wi=ge.get(ni),So=k.get(ni),vn=this._buildInstruction(_t,i,So,Wi,$s);if(vn.errors&&vn.errors.length)return void Pe.push(vn);if($s)return Ft.onStart(()=>Ap(ni,vn.fromStyles)),Ft.onDestroy(()=>sc(ni,vn.toStyles)),void r.push(Ft);if(_t.isFallbackTransition)return Ft.onStart(()=>Ap(ni,vn.fromStyles)),Ft.onDestroy(()=>sc(ni,vn.toStyles)),void r.push(Ft);const tl=[];vn.timelines.forEach(Pi=>{Pi.stretchStartingKeyframe=!0,this.disabledNodes.has(Pi.element)||tl.push(Pi)}),vn.timelines=tl,i.append(ni,vn.timelines),c.push({instruction:vn,player:Ft,element:ni}),vn.queriedElements.forEach(Pi=>yo(d,Pi,[]).push(Ft)),vn.preStyleProps.forEach((Pi,bs)=>{const ca=Object.keys(Pi);if(ca.length){let Ou=f.get(bs);Ou||f.set(bs,Ou=new Set),ca.forEach(Dg=>Ou.add(Dg))}}),vn.postStyleProps.forEach((Pi,bs)=>{const ca=Object.keys(Pi);let Ou=_.get(bs);Ou||_.set(bs,Ou=new Set),ca.forEach(Dg=>Ou.add(Dg))})});if(Pe.length){const qe=[];Pe.forEach(ot=>{qe.push(function xq(n,e){return new l.vHH(3505,Yt)}())}),ve.forEach(ot=>ot.destroy()),this.reportError(qe)}const it=new Map,Dt=new Map;c.forEach(qe=>{const ot=qe.element;i.has(ot)&&(Dt.set(ot,ot),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,it))}),r.forEach(qe=>{const ot=qe.element;this._getPreviousPlayers(ot,!1,qe.namespaceId,qe.triggerName,null).forEach(Ft=>{yo(it,ot,[]).push(Ft),Ft.destroy()})});const sn=G.filter(qe=>hV(qe,f,_)),Cn=new Map;cV(Cn,this.driver,ue,_,pu).forEach(qe=>{hV(qe,f,_)&&sn.push(qe)});const xr=new Map;M.forEach((qe,ot)=>{cV(xr,this.driver,new Set(qe),f,"!")}),sn.forEach(qe=>{const ot=Cn.get(qe),_t=xr.get(qe);Cn.set(qe,Object.assign(Object.assign({},ot),_t))});const ti=[],bc=[],wc={};c.forEach(qe=>{const{element:ot,player:_t,instruction:Ft}=qe;if(i.has(ot)){if(w.has(ot))return _t.onDestroy(()=>sc(ot,Ft.toStyles)),_t.disabled=!0,_t.overrideTotalTime(Ft.totalTime),void r.push(_t);let ni=wc;if(Dt.size>1){let Wi=ot;const So=[];for(;Wi=Wi.parentNode;){const vn=Dt.get(Wi);if(vn){ni=vn;break}So.push(Wi)}So.forEach(vn=>Dt.set(vn,ni))}const $s=this._buildAnimation(_t.namespaceId,Ft,it,s,xr,Cn);if(_t.setRealPlayer($s),ni===wc)ti.push(_t);else{const Wi=this.playersByElement.get(ni);Wi&&Wi.length&&(_t.parentPlayer=_h(Wi)),r.push(_t)}}else Ap(ot,Ft.fromStyles),_t.onDestroy(()=>sc(ot,Ft.toStyles)),bc.push(_t),w.has(ot)&&r.push(_t)}),bc.forEach(qe=>{const ot=s.get(qe.element);if(ot&&ot.length){const _t=_h(ot);qe.setRealPlayer(_t)}}),r.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<G.length;qe++){const ot=G[qe],_t=ot[ta];if(Z_(ot,ZT),_t&&_t.hasAnimation)continue;let Ft=[];if(d.size){let $s=d.get(ot);$s&&$s.length&&Ft.push(...$s);let Wi=this.driver.query(ot,DN,!0);for(let So=0;So<Wi.length;So++){let vn=d.get(Wi[So]);vn&&vn.length&&Ft.push(...vn)}}const ni=Ft.filter($s=>!$s.destroyed);ni.length?xz(this,ot,ni):this.processLeaveNode(ot)}return G.length=0,ti.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const ot=this.players.indexOf(qe);this.players.splice(ot,1)}),qe.play()}),ti}elementContainsData(e,t){let i=!1;const r=t[ta];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==xb;d.forEach(_=>{_.queued||!f&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const _=f.element,w=_!==s,T=yo(i,_,[]);this._getPreviousPlayers(_,w,c,d,t.toState).forEach(M=>{const k=M.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),M.destroy(),T.push(M)})}Ap(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,f=t.element,_=[],w=new Set,T=new Set,I=t.timelines.map(k=>{const L=k.element;w.add(L);const G=L[ta];if(G&&G.removedBeforeQueried)return new Sb(k.duration,k.delay);const se=L!==f,ue=function Mz(n){const e=[];return dV(n,e),e}((i.get(L)||Ez).map(it=>it.getRealPlayer())).filter(it=>!!it.element&&it.element===L),ge=s.get(L),ce=c.get(L),ve=LU(0,this._normalizer,0,k.keyframes,ge,ce),Pe=this._buildPlayer(k,ve,ue);if(k.subTimeline&&r&&T.add(L),se){const it=new UN(e,d,L);it.setRealPlayer(Pe),_.push(it)}return Pe});_.forEach(k=>{yo(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function Iz(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,k.element,k))}),w.forEach(k=>na(k,zU));const M=_h(I);return M.onDestroy(()=>{w.forEach(k=>Z_(k,zU)),sc(f,t.toStyles)}),T.forEach(k=>{yo(r,k,[]).push(M)}),M}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Sb(e.duration,e.delay)}}class UN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Sb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>yN(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cD(n){return n&&1===n.nodeType}function lV(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function cV(n,e,t,i,r){const s=[];t.forEach(f=>s.push(lV(f)));const c=[];i.forEach((f,_)=>{const w={};f.forEach(T=>{const I=w[T]=e.computeStyle(_,T,r);(!I||0==I.length)&&(_[ta]=Cz,c.push(_))}),n.set(_,w)});let d=0;return t.forEach(f=>lV(f,s[d++])),c}function uV(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let f=s.get(d);if(f)return f;const _=d.parentNode;return f=t.has(_)?_:r.has(_)?1:c(_),s.set(d,f),f}return e.forEach(d=>{const f=c(d);1!==f&&t.get(f).push(d)}),t}function na(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Z_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function xz(n,e,t){_h(t).onDone(()=>n.processLeaveNode(e))}function dV(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof PU?dV(i.players,e):e.push(i)}}function hV(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class uD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Dz(e,t,i),this._timelineEngine=new _z(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],w=xN(this._driver,s,f,[]);if(f.length)throw function yq(n,e){return new l.vHH(3404,Yt)}();d=function fz(n,e,t){return new pz(n,e,t)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=BU(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=BU(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kz=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&sc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sc(this._element,this._initialStyles),this._endStyles&&(sc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ap(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ap(this._element,this._endStyles),this._endStyles=null),sc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VN(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Rz(r)&&(e=e||{},e[r]=n[r])}return e}function Rz(n){return"display"===n||"position"===n}class fV{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:JU(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Pz{validateStyleProperty(e){return HU(e)}matchesElement(e,t){return!1}containsElement(e,t){return GU(e,t)}getParentElement(e){return EN(e)}query(e,t,i){return $U(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const _={},w=c.filter(I=>I instanceof fV);(function Uq(n,e){return 0===n||0===e})(i,r)&&w.forEach(I=>{let M=I.currentSnapshot;Object.keys(M).forEach(k=>_[k]=M[k])}),t=function Vq(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=t[d]}),c.length)for(var r=1;r<e.length;r++){let d=e[r];c.forEach(function(f){d[f]=JU(n,f)})}}return e}(e,t=t.map(I=>yh(I,!1)),_);const T=function Oz(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=VN(e[0]),e.length>1&&(i=VN(e[e.length-1]))):e&&(t=VN(e)),t||i?new kz(n,t,i):null}(e,t);return new fV(e,t,f,T)}}let Fz=(()=>{class n extends OU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?kU(t):t;return pV(this._renderer,null,i,"register",[r]),new Lz(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Lz extends class qW{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Bz(this._id,e,t||{},this._renderer)}}class Bz{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function pV(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const gV="@.disabled";let Uz=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new mV("",s,this.engine),this._rendererCache.set(s,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=w=>{Array.isArray(w)?w.forEach(f):this.engine.registerTrigger(c,d,t,w.name,w)};return i.data.animation.forEach(f),new Vz(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(uD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mV{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==gV?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Vz extends mV{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==gV?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function jz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Hz(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let Gz=(()=>{class n extends uD{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ce),l.LFG(CN),l.LFG(RN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _V=new l.OlP("AnimationModuleType"),yV=[{provide:OU,useClass:Fz},{provide:RN,useFactory:function $z(){return new lz}},{provide:uD,useClass:Gz},{provide:l.FYo,useFactory:function Wz(n,e,t){return new Uz(n,e,t)},deps:[wa,uD,l.R0b]}],vV=[{provide:CN,useFactory:()=>new Pz},{provide:_V,useValue:"BrowserAnimations"},...yV],qz=[{provide:CN,useClass:WU},{provide:_V,useValue:"NoopAnimations"},...yV];let jN,zz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qz:vV}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:vV,imports:[pl]}),n})(),Zz=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Zz]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{jN="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){jN=!1}let Jz=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ki(n){return n===Po}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jN)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IV="cdk-high-contrast-black-on-white",SV="cdk-high-contrast-white-on-black",GN="cdk-high-contrast-active";let gZ=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GN),t.remove(IV),t.remove(SV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(GN),t.add(IV)):2===i&&(t.add(GN),t.add(SV))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jz),l.LFG(Ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _Z=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function mZ(){return!0}});let $N=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function tZ(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gZ),l.LFG(_Z,8),l.LFG(Ce))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[bV],bV]}),n})(),vZ=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Si,$N,Kz],$N]}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vZ],imports:[[OV,qN,$N],OV,qN]}),n})();var Zt=F(9681);(0,Zt.registerVersion)("firebase","9.13.0","app");var Y=F(5861),R=F(2090),rr=F(4859),Ls=F(1877),Y_=F(8766);const kV="@firebase/installations",zN="0.5.16",PV=`w:${zN}`,FV="FIS_v2",gu=new R.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function LV(n){return n instanceof R.ZR&&n.code.includes("request-failed")}function ZN({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function BV(n){return{token:n.token,requestStatus:2,expiresIn:LZ(n.expiresIn),creationTime:Date.now()}}function KN(n,e){return YN.apply(this,arguments)}function YN(){return(YN=(0,Y.Z)(function*(n,e){const i=(yield e.json()).error;return gu.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function UV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function VV(n,{refreshToken:e}){const t=UV(n);return t.append("Authorization",function BZ(n){return`${FV} ${n}`}(e)),t}function QN(n){return JN.apply(this,arguments)}function JN(){return(JN=(0,Y.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function LZ(n){return Number(n.replace("s","000"))}function UZ(n,e){return XN.apply(this,arguments)}function XN(){return(XN=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ZN(n),r=UV(n),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const d={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:FV,appId:n.appId,sdkVersion:PV})},f=yield QN(()=>fetch(i,d));if(f.ok){const _=yield f.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:BV(_.authToken)}}throw yield KN("Create Installation",f)})).apply(this,arguments)}function jV(n){return new Promise(e=>{setTimeout(e,n)})}const jZ=/^[cdef][\w-]{21}$/;function HZ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function GZ(n){return function VZ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return jZ.test(t)?t:""}catch(n){return""}}function Q_(n){return`${n.appName}!${n.appId}`}const J_=new Map;function HV(n,e){const t=Q_(n);GV(t,e),function qZ(n,e){const t=function $V(){return!Np&&"BroadcastChannel"in self&&(Np=new BroadcastChannel("[Firebase] FID Change"),Np.onmessage=n=>{GV(n.data.key,n.data.fid)}),Np}();t&&t.postMessage({key:n,fid:e}),function WV(){0===J_.size&&Np&&(Np.close(),Np=null)}()}(t,e)}function GV(n,e){const t=J_.get(n);if(t)for(const i of t)i(e)}let Np=null;const Op="firebase-installations-store";let tO=null;function nO(){return tO||(tO=(0,Y_.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Op)}})),tO}function pD(n,e){return iO.apply(this,arguments)}function iO(){return(iO=(0,Y.Z)(function*(n,e){const t=Q_(n),r=(yield nO()).transaction(Op,"readwrite"),s=r.objectStore(Op),c=yield s.get(t);return yield s.put(e,t),yield r.done,(!c||c.fid!==e.fid)&&HV(n,e.fid),e})).apply(this,arguments)}function rO(n){return sO.apply(this,arguments)}function sO(){return(sO=(0,Y.Z)(function*(n){const e=Q_(n),i=(yield nO()).transaction(Op,"readwrite");yield i.objectStore(Op).delete(e),yield i.done})).apply(this,arguments)}function Ob(n,e){return oO.apply(this,arguments)}function oO(){return(oO=(0,Y.Z)(function*(n,e){const t=Q_(n),r=(yield nO()).transaction(Op,"readwrite"),s=r.objectStore(Op),c=yield s.get(t),d=e(c);return void 0===d?yield s.delete(t):yield s.put(d,t),yield r.done,d&&(!c||c.fid!==d.fid)&&HV(n,d.fid),d})).apply(this,arguments)}function aO(n){return lO.apply(this,arguments)}function lO(){return(lO=(0,Y.Z)(function*(n){let e;const t=yield Ob(n.appConfig,i=>{const r=KZ(i),s=YZ(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function KZ(n){return zV(n||{fid:HZ(),registrationStatus:0})}function YZ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gu.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function QZ(n,e){return cO.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:JZ(n)}:{installationEntry:e}}function cO(){return(cO=(0,Y.Z)(function*(n,e){try{const t=yield UZ(n,e);return pD(n.appConfig,t)}catch(t){throw LV(t)&&409===t.customData.serverCode?yield rO(n.appConfig):yield pD(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function JZ(n){return uO.apply(this,arguments)}function uO(){return(uO=(0,Y.Z)(function*(n){let e=yield qV(n.appConfig);for(;1===e.registrationStatus;)yield jV(100),e=yield qV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield aO(n);return i||t}return e})).apply(this,arguments)}function qV(n){return Ob(n,e=>{if(!e)throw gu.create("installation-not-found");return zV(e)})}function zV(n){return function XZ(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function e7(n,e){return dO.apply(this,arguments)}function dO(){return(dO=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=t7(n,t),r=VV(n,t),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:PV,appId:n.appId}})},f=yield QN(()=>fetch(i,d));if(f.ok)return BV(yield f.json());throw yield KN("Generate Auth Token",f)})).apply(this,arguments)}function t7(n,{fid:e}){return`${ZN(n)}/${e}/authTokens:generate`}function hO(n){return fO.apply(this,arguments)}function fO(){return(fO=(0,Y.Z)(function*(n,e=!1){let t;const i=yield Ob(n.appConfig,s=>{if(!KV(s))throw gu.create("not-registered");const c=s.authToken;if(!e&&r7(c))return s;if(1===c.requestStatus)return t=n7(n,e),s;{if(!navigator.onLine)throw gu.create("app-offline");const d=o7(s);return t=i7(n,d),d}});return t?yield t:i.authToken})).apply(this,arguments)}function n7(n,e){return pO.apply(this,arguments)}function pO(){return(pO=(0,Y.Z)(function*(n,e){let t=yield ZV(n.appConfig);for(;1===t.authToken.requestStatus;)yield jV(100),t=yield ZV(n.appConfig);const i=t.authToken;return 0===i.requestStatus?hO(n,e):i})).apply(this,arguments)}function ZV(n){return Ob(n,e=>{if(!KV(e))throw gu.create("not-registered");return function a7(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function i7(n,e){return gO.apply(this,arguments)}function gO(){return(gO=(0,Y.Z)(function*(n,e){try{const t=yield e7(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield pD(n.appConfig,i),t}catch(t){if(!LV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pD(n.appConfig,i)}else yield rO(n.appConfig);throw t}})).apply(this,arguments)}function KV(n){return void 0!==n&&2===n.registrationStatus}function r7(n){return 2===n.requestStatus&&!function s7(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function o7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function mO(){return(mO=(0,Y.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield aO(e);return i?i.catch(console.error):hO(e).catch(console.error),t.fid})).apply(this,arguments)}function _O(){return(_O=(0,Y.Z)(function*(n,e=!1){const t=n;return yield u7(t),(yield hO(t,e)).token})).apply(this,arguments)}function u7(n){return yO.apply(this,arguments)}function yO(){return(yO=(0,Y.Z)(function*(n){const{registrationPromise:e}=yield aO(n);e&&(yield e)})).apply(this,arguments)}function wO(n){return gu.create("missing-app-config-values",{valueName:n})}const YV="installations",g7=n=>{const e=n.getProvider("app").getImmediate(),t=function f7(n){if(!n||!n.options)throw wO("App Configuration");if(!n.name)throw wO("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw wO(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Zt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},m7=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Zt._getProvider)(e,YV).getImmediate();return{getId:()=>function l7(n){return mO.apply(this,arguments)}(t),getToken:r=>function c7(n){return _O.apply(this,arguments)}(t,r)}};(function _7(){(0,Zt._registerComponent)(new rr.wA(YV,g7,"PUBLIC")),(0,Zt._registerComponent)(new rr.wA("installations-internal",m7,"PRIVATE"))})(),(0,Zt.registerVersion)(kV,zN),(0,Zt.registerVersion)(kV,zN,"esm2017");const EO="@firebase/remote-config",Bs=new R.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A7{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,Y.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&c.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(c),s})()}}function x7(n=navigator){return n.languages&&n.languages[0]||n.language}class M7{constructor(e,t,i,r,s,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=c}fetch(e){var t=this;return(0,Y.Z)(function*(){var i,r,s;const[c,d]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),_=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,w={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},T={sdk_version:t.sdkVersion,app_instance_id:c,app_instance_id_token:d,app_id:t.appId,language_code:x7()},I={method:"POST",headers:w,body:JSON.stringify(T)},M=fetch(_,I),k=new Promise((ce,ve)=>{e.signal.addEventListener(()=>{const Pe=new Error("The operation was aborted.");Pe.name="AbortError",ve(Pe)})});let L;try{yield Promise.race([M,k]),L=yield M}catch(ce){let ve="fetch-client-network";throw"AbortError"===(null===(i=ce)||void 0===i?void 0:i.name)&&(ve="fetch-timeout"),Bs.create(ve,{originalErrorMessage:null===(r=ce)||void 0===r?void 0:r.message})}let G=L.status;const se=L.headers.get("ETag")||void 0;let ue,ge;if(200===L.status){let ce;try{ce=yield L.json()}catch(ve){throw Bs.create("fetch-client-parse",{originalErrorMessage:null===(s=ve)||void 0===s?void 0:s.message})}ue=ce.entries,ge=ce.state}if("INSTANCE_STATE_UNSPECIFIED"===ge?G=500:"NO_CHANGE"===ge?G=304:("NO_TEMPLATE"===ge||"EMPTY_CONFIG"===ge)&&(ue={}),304!==G&&200!==G)throw Bs.create("fetch-status",{httpStatus:G});return{status:G,eTag:se,config:ue}})()}}class k7{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Y.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,Y.Z)(function*(){yield function N7(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Bs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function O7(n){if(!(n instanceof R.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const c={throttleEndTimeMillis:Date.now()+(0,R.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(e,c)}})()}}class F7{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mD(n,e){var t;const i=n.target.error||void 0;return Bs.create(e,{originalErrorMessage:i&&(null===(t=i)||void 0===t?void 0:t.message)})}const kp="app_namespace_store";class V7{constructor(e,t,i,r=function U7(){return new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{e(mD(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(kp,{keyPath:"compositeKey"})}}catch(i){e(Bs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Y.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var c;const f=i.transaction([kp],"readonly").objectStore(kp),_=t.createCompositeKey(e);try{const w=f.get(_);w.onerror=T=>{s(mD(T,"storage-get"))},w.onsuccess=T=>{const I=T.target.result;r(I?I.value:void 0)}}catch(w){s(Bs.create("storage-get",{originalErrorMessage:null===(c=w)||void 0===c?void 0:c.message}))}})})()}set(e,t){var i=this;return(0,Y.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,c)=>{var d;const _=r.transaction([kp],"readwrite").objectStore(kp),w=i.createCompositeKey(e);try{const T=_.put({compositeKey:w,value:t});T.onerror=I=>{c(mD(I,"storage-set"))},T.onsuccess=()=>{s()}}catch(T){c(Bs.create("storage-set",{originalErrorMessage:null===(d=T)||void 0===d?void 0:d.message}))}})})()}delete(e){var t=this;return(0,Y.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var c;const f=i.transaction([kp],"readwrite").objectStore(kp),_=t.createCompositeKey(e);try{const w=f.delete(_);w.onerror=T=>{s(mD(T,"storage-delete"))},w.onsuccess=()=>{r()}}catch(w){s(Bs.create("storage-delete",{originalErrorMessage:null===(c=w)||void 0===c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class j7{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Y.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const c=yield i;c&&(e.lastSuccessfulFetchTimestampMillis=c);const d=yield r;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function G7(){return SO.apply(this,arguments)}function SO(){return(SO=(0,Y.Z)(function*(){if(!(0,R.hl)())return!1;try{return yield(0,R.eu)()}catch(n){return!1}})).apply(this,arguments)}!function H7(){(0,Zt._registerComponent)(new rr.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bs.create("registration-window");if(!(0,R.hl)())throw Bs.create("indexed-db-unavailable");const{projectId:s,apiKey:c,appId:d}=i.options;if(!s)throw Bs.create("registration-project-id");if(!c)throw Bs.create("registration-api-key");if(!d)throw Bs.create("registration-app-id");const f=new V7(d,i.name,t=t||"firebase"),_=new j7(f),w=new Ls.Yd(EO);w.logLevel=Ls.in.ERROR;const T=new M7(r,Zt.SDK_VERSION,t,s,c,d),I=new k7(T,f),M=new A7(I,f,_,w),k=new F7(i,M,_,f,w);return function D7(n){const e=(0,R.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(k),k},"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(EO,"0.3.15"),(0,Zt.registerVersion)(EO,"0.3.15","esm2017")}();const $7="/firebase-messaging-sw.js",W7="/firebase-cloud-messaging-push-scope",ej="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tj="google.c.a.c_id",z7="google.c.a.c_l",Z7="google.c.a.ts",K7="google.c.a.e";var X_=(()=>{return(n=X_||(X_={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",X_;var n})();function mu(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y7(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const AO="fcm_token_details_db",nj="fcm_token_object_Store";function J7(n){return xO.apply(this,arguments)}function xO(){return xO=(0,Y.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(AO))return null;let e=null;return(yield(0,Y_.X3)(AO,5,{upgrade:(i=(0,Y.Z)(function*(r,s,c,d){var f;if(s<2||!r.objectStoreNames.contains(nj))return;const _=d.objectStore(nj),w=yield _.index("fcmSenderId").get(n);if(yield _.clear(),w)if(2===s){const T=w;if(!T.auth||!T.p256dh||!T.endpoint)return;e={token:T.fcmToken,createTime:null!==(f=T.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:mu(T.vapidKey)}}}else if(3===s){const T=w;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:mu(T.auth),p256dh:mu(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:mu(T.vapidKey)}}}else if(4===s){const T=w;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:mu(T.auth),p256dh:mu(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:mu(T.vapidKey)}}}}),function(s,c,d,f){return i.apply(this,arguments)})})).close(),yield(0,Y_.Lj)(AO),yield(0,Y_.Lj)("fcm_vapid_details_db"),yield(0,Y_.Lj)("undefined"),X7(e)?e:null;var i}),xO.apply(this,arguments)}function X7(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Rp="firebase-messaging-store";let MO=null;function NO(){return MO||(MO=(0,Y_.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Rp)}})),MO}function ij(n){return OO.apply(this,arguments)}function OO(){return(OO=(0,Y.Z)(function*(n){const e=FO(n),i=yield(yield NO()).transaction(Rp).objectStore(Rp).get(e);if(i)return i;{const r=yield J7(n.appConfig.senderId);if(r)return yield kO(n,r),r}})).apply(this,arguments)}function kO(n,e){return RO.apply(this,arguments)}function RO(){return(RO=(0,Y.Z)(function*(n,e){const t=FO(n),r=(yield NO()).transaction(Rp,"readwrite");return yield r.objectStore(Rp).put(e,t),yield r.done,e})).apply(this,arguments)}function nK(n){return PO.apply(this,arguments)}function PO(){return(PO=(0,Y.Z)(function*(n){const e=FO(n),i=(yield NO()).transaction(Rp,"readwrite");yield i.objectStore(Rp).delete(e),yield i.done})).apply(this,arguments)}function FO({appConfig:n}){return n.appId}const wr=new R.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rK(n,e){return LO.apply(this,arguments)}function LO(){return(LO=(0,Y.Z)(function*(n,e){var t;const i=yield jO(n),r=sj(e),s={method:"POST",headers:i,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(VO(n.appConfig),s)).json()}catch(d){throw wr.create("token-subscribe-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(c.error)throw wr.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw wr.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function sK(n,e){return BO.apply(this,arguments)}function BO(){return(BO=(0,Y.Z)(function*(n,e){var t;const i=yield jO(n),r=sj(e.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(`${VO(n.appConfig)}/${e.token}`,s)).json()}catch(d){throw wr.create("token-update-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(c.error)throw wr.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw wr.create("token-update-no-token");return c.token})).apply(this,arguments)}function rj(n,e){return UO.apply(this,arguments)}function UO(){return(UO=(0,Y.Z)(function*(n,e){var t;const r={method:"DELETE",headers:yield jO(n)};try{const c=yield(yield fetch(`${VO(n.appConfig)}/${e}`,r)).json();if(c.error)throw wr.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(s){throw wr.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function VO({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function jO(n){return HO.apply(this,arguments)}function HO(){return(HO=(0,Y.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function sj({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==ej&&(r.web.applicationPubKey=i),r}const oK=6048e5;function aK(n){return GO.apply(this,arguments)}function GO(){return(GO=(0,Y.Z)(function*(n){const e=yield cK(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:mu(e.getKey("auth")),p256dh:mu(e.getKey("p256dh"))},i=yield ij(n.firebaseDependencies);if(i){if(uK(i.subscriptionOptions,t))return Date.now()>=i.createTime+oK?lK(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield rj(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return aj(n.firebaseDependencies,t)}return aj(n.firebaseDependencies,t)})).apply(this,arguments)}function oj(n){return $O.apply(this,arguments)}function $O(){return($O=(0,Y.Z)(function*(n){const e=yield ij(n.firebaseDependencies);e&&(yield rj(n.firebaseDependencies,e.token),yield nK(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function lK(n,e){return WO.apply(this,arguments)}function WO(){return(WO=(0,Y.Z)(function*(n,e){try{const t=yield sK(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield kO(n.firebaseDependencies,i),t}catch(t){throw yield oj(n),t}})).apply(this,arguments)}function aj(n,e){return qO.apply(this,arguments)}function qO(){return(qO=(0,Y.Z)(function*(n,e){const i={token:yield rK(n,e),createTime:Date.now(),subscriptionOptions:e};return yield kO(n,i),i.token})).apply(this,arguments)}function cK(n,e){return zO.apply(this,arguments)}function zO(){return(zO=(0,Y.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y7(e)})})).apply(this,arguments)}function uK(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function lj(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function dK(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function hK(n,e){!e.data||(n.data=e.data)}(e,n),function fK(n,e){var t,i,r,s,c;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const d=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const f=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function pK(n){return"object"==typeof n&&!!n&&tj in n}function cj(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function ZO(n){return wr.create("missing-app-config-values",{valueName:n})}cj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mK{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function gK(n){if(!n||!n.options)throw ZO("App Configuration Object");if(!n.name)throw ZO("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw ZO(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function uj(n){return KO.apply(this,arguments)}function KO(){return(KO=(0,Y.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register($7,{scope:W7}),n.swRegistration.update().catch(()=>{})}catch(t){throw wr.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function _K(n,e){return YO.apply(this,arguments)}function YO(){return(YO=(0,Y.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield uj(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw wr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function yK(n,e){return QO.apply(this,arguments)}function QO(){return(QO=(0,Y.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=ej)})).apply(this,arguments)}function JO(){return(JO=(0,Y.Z)(function*(n,e){if(!navigator)throw wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wr.create("permission-blocked");return yield yK(n,null==e?void 0:e.vapidKey),yield _K(n,null==e?void 0:e.serviceWorkerRegistration),aK(n)})).apply(this,arguments)}function vK(n,e,t){return XO.apply(this,arguments)}function XO(){return(XO=(0,Y.Z)(function*(n,e,t){const i=bK(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[tj],message_name:t[z7],message_time:t[Z7],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bK(n){switch(n){case X_.NOTIFICATION_CLICKED:return"notification_open";case X_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ek(){return(ek=(0,Y.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===X_.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(lj(t)):n.onMessageHandler.next(lj(t)));const i=t.data;pK(i)&&"1"===i[K7]&&(yield vK(n,t.messageType,i))})).apply(this,arguments)}const hj="@firebase/messaging",EK=n=>{const e=new mK(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function wK(n,e){return ek.apply(this,arguments)}(e,t)),e},CK=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function dj(n,e){return JO.apply(this,arguments)}(e,i)}};function pj(){return tk.apply(this,arguments)}function tk(){return(tk=(0,Y.Z)(function*(){try{yield(0,R.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,R.hl)()&&(0,R.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function TK(){(0,Zt._registerComponent)(new rr.wA("messaging",EK,"PUBLIC")),(0,Zt._registerComponent)(new rr.wA("messaging-internal",CK,"PRIVATE")),(0,Zt.registerVersion)(hj,"0.10.0"),(0,Zt.registerVersion)(hj,"0.10.0","esm2017")}();const _D="analytics",SK="firebase_id",MK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gj="https://www.googletagmanager.com/gtag/js",Er=new Ls.Yd("@firebase/analytics");function mj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function NK(n,e){const t=document.createElement("script");t.src=`${gj}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function kK(n,e,t,i,r,s){return rk.apply(this,arguments)}function rk(){return(rk=(0,Y.Z)(function*(n,e,t,i,r,s){const c=i[r];try{if(c)yield e[c];else{const f=(yield mj(t)).find(_=>_.measurementId===r);f&&(yield e[f.appId])}}catch(d){Er.error(d)}n("config",r,s)})).apply(this,arguments)}function RK(n,e,t,i,r){return sk.apply(this,arguments)}function sk(){return(sk=(0,Y.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let c=r.send_to;Array.isArray(c)||(c=[c]);const d=yield mj(t);for(const f of c){const _=d.find(T=>T.measurementId===f),w=_&&e[_.appId];if(!w){s=[];break}s.push(w)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Er.error(s)}})).apply(this,arguments)}function LK(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gj)&&t.src.includes(n))return t;return null}const bo=new R.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_j=new class jK{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HK(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function GK(n){return ok.apply(this,arguments)}function ok(){return(ok=(0,Y.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:HK(i)},s=MK.replace("{app-id}",t),c=yield fetch(s,r);if(200!==c.status&&304!==c.status){let d="";try{const f=yield c.json();(null===(e=f.error)||void 0===e?void 0:e.message)&&(d=f.error.message)}catch(f){}throw bo.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()})).apply(this,arguments)}function $K(n){return ak.apply(this,arguments)}function ak(){return(ak=(0,Y.Z)(function*(n,e=_j,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw bo.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw bo.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new zK;return setTimeout((0,Y.Z)(function*(){d.abort()}),void 0!==t?t:6e4),yj({appId:i,apiKey:r,measurementId:s},c,d,e)})).apply(this,arguments)}function yj(n,e,t){return lk.apply(this,arguments)}function lk(){return(lk=(0,Y.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=_j){var s,c;const{appId:d,measurementId:f}=n;try{yield WK(i,e)}catch(_){if(f)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null===(s=_)||void 0===s?void 0:s.message}]`),{appId:d,measurementId:f};throw _}try{const _=yield GK(n);return r.deleteThrottleMetadata(d),_}catch(_){const w=_;if(!qK(w)){if(r.deleteThrottleMetadata(d),f)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null==w?void 0:w.message}]`),{appId:d,measurementId:f};throw _}const T=503===Number(null===(c=null==w?void 0:w.customData)||void 0===c?void 0:c.httpStatus)?(0,R.$s)(t,r.intervalMillis,30):(0,R.$s)(t,r.intervalMillis),I={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return r.setThrottleMetadata(d,I),Er.debug(`Calling attemptFetch again in ${T} millis`),yj(n,I,i,r)}})).apply(this,arguments)}function WK(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(bo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qK(n){if(!(n instanceof R.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class zK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ck,gk;function uk(){return(uk=(0,Y.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function vj(n){gk=n}function bj(n){ck=n}function XK(){return mk.apply(this,arguments)}function mk(){return(mk=(0,Y.Z)(function*(){var n;if(!(0,R.hl)())return Er.warn(bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,R.eu)()}catch(e){return Er.warn(bo.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function _k(){return(_k=(0,Y.Z)(function*(n,e,t,i,r,s,c){var d;const f=$K(n);f.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Er.error(M)),e.push(f);const _=XK().then(M=>{if(M)return i.getId()}),[w,T]=yield Promise.all([f,_]);LK(s)||NK(s,w.measurementId),gk&&(r("consent","default",gk),vj(void 0)),r("js",new Date);const I=null!==(d=null==c?void 0:c.config)&&void 0!==d?d:{};return I.origin="firebase",I.update=!0,null!=T&&(I[SK]=T),r("config",w.measurementId,I),ck&&(r("set",ck),bj(void 0)),w.measurementId})).apply(this,arguments)}class tY{constructor(e){this.app=e}_delete(){return delete _u[this.app.options.appId],Promise.resolve()}}let _u={},wj=[];const Ej={};let Tj,yu,yD="dataLayer",yk=!1;function iY(n,e,t){!function nY(){const n=[];if((0,R.ru)()&&n.push("This is a browser extension environment."),(0,R.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=bo.create("invalid-analytics-context",{errorInfo:e});Er.warn(t.message)}}();const i=n.options.appId;if(!i)throw bo.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw bo.create("no-api-key");Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_u[i])throw bo.create("already-exists",{id:i});if(!yk){!function OK(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(yD);const{wrappedGtag:s,gtagCore:c}=function FK(n,e,t,i,r){let s=function(...c){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function PK(n,e,t,i){function s(){return(s=(0,Y.Z)(function*(c,d,f){try{"event"===c?yield RK(n,e,t,d,f):"config"===c?yield kK(n,e,t,i,d,f):"consent"===c?n("consent","update",f):n("set",d)}catch(_){Er.error(_)}})).apply(this,arguments)}return function r(c,d,f){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(_u,wj,Ej,yD,"gtag");yu=s,Tj=c,yk=!0}return _u[i]=function eY(n,e,t,i,r,s,c){return _k.apply(this,arguments)}(n,wj,Ej,e,Tj,yD,t),new tY(n)}function sY(){return vk.apply(this,arguments)}function vk(){return(vk=(0,Y.Z)(function*(){if((0,R.ru)()||!(0,R.zI)()||!(0,R.hl)())return!1;try{return yield(0,R.eu)()}catch(n){return!1}})).apply(this,arguments)}const Dj="@firebase/analytics";!function aY(){(0,Zt._registerComponent)(new rr.wA(_D,(e,{options:t})=>iY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Zt._registerComponent)(new rr.wA("analytics-internal",function n(e){try{const t=e.getProvider(_D).getImmediate();return{logEvent:(i,r,s)=>function oY(n,e,t,i){n=(0,R.m9)(n),function ZK(n,e,t,i,r){return uk.apply(this,arguments)}(yu,_u[n.app.options.appId],e,t,i).catch(r=>Er.error(r))}(t,i,r,s)}}catch(t){throw bo.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Zt.registerVersion)(Dj,"0.8.4"),(0,Zt.registerVersion)(Dj,"0.8.4","esm2017")}();const uY=new class cY extends fC{}(class lY extends Lm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}});var ey=F(5363),vD=F(9468);const bk=new l.GfV("7.4.1"),wk="__angularfire_symbol__analyticsIsSupportedValue",Ek="__angularfire_symbol__analyticsIsSupported",Ck="__angularfire_symbol__remoteConfigIsSupportedValue",Tk="__angularfire_symbol__remoteConfigIsSupported",Dk="__angularfire_symbol__messagingIsSupportedValue",Ik="__angularfire_symbol__messagingIsSupported";function ty(){}globalThis[Ek]||(globalThis[Ek]=sY().then(n=>globalThis[wk]=n).catch(()=>globalThis[wk]=!1)),globalThis[Ik]||(globalThis[Ik]=pj().then(n=>globalThis[Dk]=n).catch(()=>globalThis[Dk]=!1)),globalThis[Tk]||(globalThis[Tk]=G7().then(n=>globalThis[Ck]=n).catch(()=>globalThis[Ck]=!1));class Sj{constructor(e,t=uY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(c){r.runGuarded(()=>{e.apply(this,[c])})},t,i)}}class fY{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ty,{},ty,ty)),t.pipe(Ai({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Sj(Zone.current)),this.insideAngular=t.run(()=>new Sj(Zone.current,as)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Aj(n){return n.pipe((0,ey.Q)(Pp().outsideAngular))}function Ei(n){return Pp(),function gY(n){return function(t){return(t=t.lift(new fY(n.ngZone))).pipe((0,vD.R)(n.outsideAngular),(0,ey.Q)(n.insideAngular))}}(Pp())(n)}var sr=F(2011),Ak=F(3942);const xj="firebasestorage.googleapis.com",Mj="storageBucket";class fi extends R.ZR{constructor(e,t,i=0){super(xk(e),`Firebase Storage: ${t} (${xk(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xk(n){return"storage/"+n}function Mk(){return new fi("unknown","An unknown error occurred, please check the error payload for server response.")}function Nj(){return new fi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Oj(){return new fi("canceled","User canceled the upload/download.")}function kj(){return new fi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ny(n){return new fi("invalid-argument",n)}function Rj(){return new fi("app-deleted","The Firebase app was deleted.")}function Pj(n){return new fi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kb(n,e){return new fi("invalid-format","String does not match format '"+n+"': "+e)}function Rb(n){throw new fi("internal-error","Internal error: "+n)}class jr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=jr.makeFromUrl(e,t)}catch(r){return new jr(e,"")}if(""===i.path)return i;throw function IY(n){return new fi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(ce){ce.path_=decodeURIComponent(ce.path)}const T=t.replace(/[.]/g,"\\."),ge=[{regex:d,indices:{bucket:1,path:3},postModify:function s(ce){"/"===ce.path.charAt(ce.path.length-1)&&(ce.path_=ce.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===xj?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ce=0;ce<ge.length;ce++){const ve=ge[ce],Pe=ve.regex.exec(e);if(Pe){let Dt=Pe[ve.indices.path];Dt||(Dt=""),i=new jr(Pe[ve.indices.bucket],Dt),ve.postModify(i);break}}if(null==i)throw function DY(n){return new fi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class MY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wD(n){return"string"==typeof n||n instanceof String}function Fj(n){return Nk()&&n instanceof Blob}function Nk(){return"undefined"!=typeof Blob&&!(0,R.UG)()}function Ok(n,e,t,i){if(i<e)throw ny(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ny(`Invalid value for '${n}'. Expected ${t} or less.`)}function vu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Lj(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var vh=(()=>{return(n=vh||(vh={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",vh;var n})();function Bj(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class FY{constructor(e,t,i,r,s,c,d,f,_,w,T,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=T,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function kY(n){return void 0!==n}(f)?s():s(f)}catch(f){c(f)}else if(null!==d){const f=Mk();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?Rj():Oj():Nj())};this.canceled_?t(0,new ED(!1,null,!0)):this.backoffId_=function NY(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function f(){return 2===d}let _=!1;function w(...G){_||(_=!0,e.apply(null,G))}function T(G){r=setTimeout(()=>{r=null,n(M,f())},G)}function I(){s&&clearTimeout(s)}function M(G,...se){if(_)return void I();if(G)return I(),void w.call(null,G,...se);if(f()||c)return I(),void w.call(null,G,...se);let ge;i<64&&(i*=2),1===d?(d=2,ge=0):ge=1e3*(i+Math.random()),T(ge)}let k=!1;function L(G){k||(k=!0,I(),!_&&(null!==r?(G||(d=2),clearTimeout(r),T(0)):G||(d=1)))}return T(0),s=setTimeout(()=>{c=!0,L(!0)},t),L}((i,r)=>{if(r)return void i(!1,new ED(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===vh.NO_ERROR,f=s.getStatus();if((!d||Bj(f,this.additionalRetryCodes_))&&this.retry){const w=s.getErrorCode()===vh.ABORT;return void i(!1,new ED(!1,null,w))}const _=-1!==this.successCodes_.indexOf(f);i(!0,new ED(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function OY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ED{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function GY(...n){const e=function HY(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Nk())return new Blob(n);throw new fi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const wo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kk{constructor(e,t){this.data=e,this.contentType=t||null}}function Rk(n,e){switch(n){case wo.RAW:return new kk(Uj(e));case wo.BASE64:case wo.BASE64URL:return new kk(Vj(n,e));case wo.DATA_URL:return new kk(function zY(n){const e=new jj(n);return e.base64?Vj(wo.BASE64,e.rest):function qY(n){let e;try{e=decodeURIComponent(n)}catch(t){throw kb(wo.DATA_URL,"Malformed data URL.")}return Uj(e)}(e.rest)}(e),function ZY(n){return new jj(n).contentType}(e))}throw Mk()}function Uj(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Vj(n,e){switch(n){case wo.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw kb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case wo.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw kb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function WY(n){return atob(n)}(e)}catch(r){throw kb(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class jj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw kb(wo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function KY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class oc{constructor(e,t){let i=0,r="";Fj(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Fj(this.data_)){const r=function $Y(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new oc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new oc(i,!0)}}static getBlob(...e){if(Nk()){const t=e.map(i=>i instanceof oc?i.data_:i);return new oc(GY.apply(null,t))}{const t=e.map(c=>wD(c)?Rk(wo.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new oc(r,!0)}}uploadData(){return this.data_}}function Pk(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function PY(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Hj(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function JY(n,e){return e}class ds{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||JY}}let CD=null;function Pb(){if(CD)return CD;const n=[];n.push(new ds("bucket")),n.push(new ds("generation")),n.push(new ds("metageneration")),n.push(new ds("name","fullPath",!0));const t=new ds("name");t.xform=function e(s,c){return function XY(n){return!wD(n)||n.length<2?n:Hj(n)}(c)},n.push(t);const r=new ds("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ds("timeCreated")),n.push(new ds("updated")),n.push(new ds("md5Hash",null,!0)),n.push(new ds("cacheControl",null,!0)),n.push(new ds("contentDisposition",null,!0)),n.push(new ds("contentEncoding",null,!0)),n.push(new ds("contentLanguage",null,!0)),n.push(new ds("contentType",null,!0)),n.push(new ds("metadata","customMetadata",!0)),CD=n,CD}function Gj(n,e,t){const i=Pk(e);return null===i?null:function t9(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function e9(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new jr(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function Fk(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const $j="prefixes";class ac{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lc(n){if(!n)throw Mk()}function TD(n,e){return function t(i,r){const s=Gj(n,r,e);return lc(null!==s),s}}function iy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function CY(){return new fi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function EY(){return new fi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function wY(n){return new fi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function TY(n){return new fi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function Fb(n){const e=iy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function bY(n){return new fi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function qj(n,e,t){const r=vu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new ac(r,"GET",TD(n,t),c);return d.errorHandler=Fb(e),d}function a9(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=vu(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,w=new ac(d,"GET",function s9(n,e){return function t(i,r){const s=function r9(n,e,t){const i=Pk(t);return null===i?null:function i9(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$j])for(const r of t[$j]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new jr(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new jr(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return lc(null!==s),s}}(n,e.bucket),_);return w.urlParams=s,w.errorHandler=iy(e),w}function Zj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function d9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class DD{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function Lk(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){lc(!1)}return lc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const g9={STATE_CHANGED:"state_changed"},hs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bk(n){switch(n){case"running":case"pausing":case"canceling":return hs.RUNNING;case"paused":return hs.PAUSED;case"success":return hs.SUCCESS;case"canceled":return hs.CANCELED;default:return hs.ERROR}}class m9{constructor(e,t,i){if(function RY(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ry(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class y9 extends class _9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Rb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Rb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ka(){return new y9}class Jj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Pb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Bj(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Nj()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function h9(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=Zj(e,i,r),d={name:c.fullPath},f=vu(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Fk(c,t),k=new ac(f,"POST",function M(L){let G;Lk(L);try{G=L.getResponseHeader("X-Goog-Upload-URL")}catch(se){lc(!1)}return lc(wD(G)),G},n.maxUploadRetryTime);return k.urlParams=d,k.headers=w,k.body=T,k.errorHandler=iy(e),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function f9(n,e,t,i){const f=new ac(t,"POST",function s(_){const w=Lk(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(M){lc(!1)}T||lc(!1);const I=Number(T);return lc(!isNaN(I)),new DD(I,i.size(),"final"===w)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=iy(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Ka,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new DD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function p9(n,e,t,i,r,s,c,d){const f=new DD(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function AY(){return new fi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=f.total-f.current;let w=_;r>0&&(w=Math.min(w,r));const T=f.current;let M="";M=0===w?"finalize":_===w?"upload, finalize":"upload";const k={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${f.current}`},L=i.slice(T,T+w);if(null===L)throw kj();const ge=new ac(t,"POST",function G(ce,ve){const Pe=Lk(ce,["active","final"]),it=f.current+w,Dt=i.size();let sn;return sn="final"===Pe?TD(e,s)(ce,ve):null,new DD(it,Dt,"final"===Pe,sn)},e.maxUploadRetryTime);return ge.headers=k,ge.body=L.uploadData(),ge.progressCallback=d||null,ge.errorHandler=iy(n),ge}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Ka,r,s,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=qj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Kj(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let ge="";for(let ce=0;ce<2;ce++)ge+=Math.random().toString().slice(2);return ge}();c["Content-Type"]="multipart/related; boundary="+f;const _=Zj(e,i,r),w=Fk(_,t),M=oc.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+f+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===M)throw kj();const k={name:_.fullPath},L=vu(s,n.host,n._protocol),se=n.maxUploadRetryTime,ue=new ac(L,"POST",TD(n,t),se);return ue.urlParams=k,ue.headers=c,ue.body=M.uploadData(),ue.errorHandler=iy(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Oj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Bk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new m9(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Bk(this._state)){case hs.SUCCESS:ry(this._resolve.bind(null,this.snapshot))();break;case hs.CANCELED:case hs.ERROR:ry(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Bk(this._state)){case hs.RUNNING:case hs.PAUSED:e.next&&ry(e.next.bind(e,this.snapshot))();break;case hs.SUCCESS:e.complete&&ry(e.complete.bind(e))();break;default:e.error&&ry(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Lp{constructor(e,t){this._service=e,this._location=t instanceof jr?t:jr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lp(e,t)}get root(){const e=new jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hj(this._location.path)}get storage(){return this._service}get parent(){const e=function YY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new jr(this._location.bucket,e);return new Lp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Pj(e)}}function eH(n,e,t){return Uk.apply(this,arguments)}function Uk(){return(Uk=(0,Y.Z)(function*(n,e,t){const r=yield tH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield eH(n,e,r.nextPageToken))})).apply(this,arguments)}function tH(n,e){null!=e&&"number"==typeof e.maxResults&&Ok("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=a9(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ka)}function M9(n){n._throwIfRoot("getDownloadURL");const e=function l9(n,e,t){const r=vu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new ac(r,"GET",function o9(n,e){return function t(i,r){const s=Gj(n,r,e);return lc(null!==s),function n9(n,e,t,i){const r=Pk(e);if(null===r||!wD(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const T=n.fullPath;return vu("/b/"+c(n.bucket)+"/o/"+c(T),t,i)+Lj({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=Fb(e),d}(n.storage,n._location,Pb());return n.storage.makeRequestWithTokens(e,Ka).then(t=>{if(null===t)throw function xY(){return new fi("no-download-url","The given file does not have any download URLs.")}();return t})}function nH(n,e){const t=function QY(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new jr(n._location.bucket,t);return new Lp(n.storage,i)}function iH(n,e){if(n instanceof Vk){const t=n;if(null==t._bucket)throw function SY(){return new fi("no-default-bucket","No default bucket found. Did you set the '"+Mj+"' property when initializing the app?")}();const i=new Lp(t,t._bucket);return null!=e?iH(i,e):i}return void 0!==e?nH(n,e):n}function R9(n,e){if(e&&function O9(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Vk)return function k9(n,e){return new Lp(n,e)}(n,e);throw ny("To use ref(service, url), the first argument must be a Storage instance.")}return iH(n,e)}function rH(n,e){const t=null==e?void 0:e[Mj];return null==t?null:jr.makeFromBucketSpec(t,n)}class Vk{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=xj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jr.makeFromBucketSpec(r,this._host):rH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?jr.makeFromBucketSpec(this._url,e):rH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Y.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Y.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lp(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new MY(Rj());{const c=function jY(n,e,t,i,r,s,c=!0){const d=Lj(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function UY(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function LY(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function BY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,s),function VY(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new FY(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,Y.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const sH="@firebase/storage";function lH(n,e){return R9(n=(0,R.m9)(n),e)}function $9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Vk(t,i,r,e,Zt.SDK_VERSION)}!function W9(){(0,Zt._registerComponent)(new rr.wA("storage",$9,"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(sH,"0.9.13",""),(0,Zt.registerVersion)(sH,"0.9.13","esm2017")}();class ID{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class uH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ID(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new ID(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new ID(c,this,this._ref)):{next:t.next?c=>t.next(new ID(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class dH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new bu(e,this._service))}get items(){return this._delegate.items.map(e=>new bu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function G9(n,e){return nH(n,e)}(this._delegate,e);return new bu(t,this.storage)}get root(){return new bu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new bu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new uH(function F9(n,e,t){return function D9(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Jj(n,new oc(e),t)}(n=(0,R.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=wo.RAW,i){this._throwIfRoot("putString");const r=Rk(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new uH(new Jj(this._delegate,new oc(r.data,!0),s),this)}listAll(){return function V9(n){return function S9(n){const e={prefixes:[],items:[]};return eH(n,e).then(()=>e)}(n=(0,R.m9)(n))}(this._delegate).then(e=>new dH(e,this.storage))}list(e){return function U9(n,e){return tH(n=(0,R.m9)(n),e)}(this._delegate,e||void 0).then(t=>new dH(t,this.storage))}getMetadata(){return function L9(n){return function A9(n){n._throwIfRoot("getMetadata");const e=qj(n.storage,n._location,Pb());return n.storage.makeRequestWithTokens(e,Ka)}(n=(0,R.m9)(n))}(this._delegate)}updateMetadata(e){return function B9(n,e){return function x9(n,e){n._throwIfRoot("updateMetadata");const t=function c9(n,e,t,i){const s=vu(e.fullServerUrl(),n.host,n._protocol),d=Fk(t,i),_=n.maxOperationRetryTime,w=new ac(s,"PATCH",TD(n,i),_);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=Fb(e),w}(n.storage,n._location,e,Pb());return n.storage.makeRequestWithTokens(t,Ka)}(n=(0,R.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function j9(n){return M9(n=(0,R.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function H9(n){return function N9(n){n._throwIfRoot("deleteObject");const e=function u9(n,e){const i=vu(e.fullServerUrl(),n.host,n._protocol),d=new ac(i,"DELETE",function c(f,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Fb(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ka)}(n=(0,R.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Pj(e)}}class hH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(fH(e))throw ny("ref() expected a child path but got a URL, use refFromURL instead.");return new bu(lH(this._delegate,e),this)}refFromURL(e){if(!fH(e))throw ny("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jr.makeFromUrl(e,this._delegate.host)}catch(t){throw ny("refFromUrl() expected a valid full URL but got an invalid one.")}return new bu(lH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function cH(n,e,t,i={}){!function P9(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,R.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function fH(n){return/^[A-Za-z]+:\/\//.test(n)}function K9(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new hH(t,i)}!function Y9(n){const e={TaskState:hs,TaskEvent:g9,StringFormat:wo,Storage:hH,Reference:bu};n.INTERNAL.registerComponent(new rr.wA("storage-compat",K9,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.21")}(Ak.Z);const pH=new Map,tQ={activated:!1,tokenObservers:[]},nQ={initialized:!1,enabled:!1};function or(n){return pH.get(n)||tQ}function ia(n,e){pH.set(n,e)}function AD(){return nQ}class aQ{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Y.Z)(function*(){t.stop();try{t.pending=new R.BH,yield function lQ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new R.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fs=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mH(n){if(!or(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function $k(n,e){return Wk.apply(this,arguments)}function Wk(){return(Wk=(0,Y.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const M=yield c.getHeartbeatsHeader();M&&(s["X-Firebase-Client"]=M)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,_;try{f=yield fetch(n,d)}catch(M){throw fs.create("fetch-network-error",{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}if(200!==f.status)throw fs.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(M){throw fs.create("fetch-parse-error",{originalErrorMessage:null===(r=M)||void 0===r?void 0:r.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(w[1]),I=Date.now();return{token:_.token,expireTimeMillis:I+T,issuedAtTimeMillis:I}})).apply(this,arguments)}function hQ(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Lb="firebase-app-check-store";let ND=null;function yH(){return ND||(ND=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(fs.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lb,{keyPath:"compositeKey"})}}catch(i){e(fs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),ND)}function qk(){return(qk=(0,Y.Z)(function*(n,e){const i=(yield yH()).transaction(Lb,"readwrite"),s=i.objectStore(Lb).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=f=>{c()},i.onerror=f=>{var _;d(fs.create("storage-set",{originalErrorMessage:null===(_=f.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Bb=new Ls.Yd("@firebase/app-check");function Kk(n,e){return(0,R.hl)()?function mQ(n,e){return function vH(n,e){return qk.apply(this,arguments)}(function wH(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Bb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EH(){return AD().enabled}function CH(){return Qk.apply(this,arguments)}function Qk(){return(Qk=(0,Y.Z)(function*(){const n=AD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const EQ={error:"UNKNOWN_ERROR"};function CQ(n){return R.US.encodeString(JSON.stringify(n),!1)}function OD(n){return Jk.apply(this,arguments)}function Jk(){return(Jk=(0,Y.Z)(function*(n,e=!1){const t=n.app;mH(t);const i=or(t);let s,r=i.token;if(r&&!sy(r)&&(ia(t,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(sy(f)?r=f:yield Kk(t,void 0))}if(!e&&r&&sy(r))return{token:r.token};let d,c=!1;if(EH()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$k(hQ(t,yield CH()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const f=yield i.exchangeTokenPromise;return yield Kk(t,f),ia(t,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Bb.warn(f.message):Bb.error(f),s=f}return r?s?d=sy(r)?{token:r.token,internalError:s}:IH(s):(d={token:r.token},ia(t,Object.assign(Object.assign({},i),{token:r})),yield Kk(t,r)):d=IH(s),c&&DH(t,d),d})).apply(this,arguments)}function eR(n,e){const t=or(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ia(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function TH(n){const{app:e}=n,t=or(e);let i=t.tokenRefresher;i||(i=function TQ(n){const{app:e}=n;return new aQ((0,Y.Z)(function*(){let i;if(i=or(e).token?yield OD(n,!0):yield OD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=or(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ia(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function DH(n,e){const t=or(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function sy(n){return n.expireTimeMillis-Date.now()>0}function IH(n){return{token:CQ(EQ),error:n}}class DQ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=or(this.app);for(const t of e)eR(this.app,t.next);return Promise.resolve()}}const RH="app-check-internal";!function UQ(){(0,Zt._registerComponent)(new rr.wA("app-check",n=>function IQ(n,e){return new DQ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RH).initialize()})),(0,Zt._registerComponent)(new rr.wA(RH,n=>function SQ(n){return{getToken:e=>OD(n,e),addTokenListener:e=>function Xk(n,e,t,i){const{app:r}=n,s=or(r),c={next:t,error:i,type:e};if(ia(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&sy(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),TH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TH(n))}(n,"INTERNAL",e),removeTokenListener:e=>eR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zt.registerVersion)("@firebase/app-check","0.5.16")}();class Ub{constructor(){return((n,e)=>{const t=(0,Zt.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider("app-check").instances.forEach(c=>{i.includes(c)||i.push(c)})}),i})()}}"undefined"!=typeof window&&window;var sR=F(127);function FH(n){const e=function $Q(n){return new on.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(function xZ(n,e=as){return(0,Un.e)((t,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function f(){const _=c+n,w=e.now();if(w<_)return r=this.schedule(void 0,_-w),void i.add(r);d()}t.subscribe((0,Tn.x)(i,_=>{s=_,c=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,et.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function RD(n){return{getDownloadURL:()=>ht(void 0).pipe(Aj,Mn(()=>n.getDownloadURL()),Ei),getMetadata:()=>ht(void 0).pipe(Aj,Mn(()=>n.getMetadata()),Ei),delete:()=>(0,gn.D)(n.delete()),child:e=>RD(n.child(e)),updateMetadata:e=>(0,gn.D)(n.updateMetadata(e)),put:(e,t)=>FH(n.put(e,t)),putString:(e,t,i)=>FH(n.putString(e,t,i)),list:e=>(0,gn.D)(n.list(e)),listAll:()=>(0,gn.D)(n.listAll())}}const WQ=new l.OlP("angularfire2.storageBucket"),qQ=new l.OlP("angularfire2.storage.maxUploadRetryTime"),zQ=new l.OlP("angularfire2.storage.maxOperationRetryTime"),ZQ=new l.OlP("angularfire2.storage.use-emulator");let KQ=(()=>{class n{constructor(t,i,r,s,c,d,f,_,w,T){const I=(0,sr.on)(t,c,i);this.storage=(0,sr.cc)(`${I.name}.storage.${r}`,"AngularFireStorage",I.name,()=>{const M=c.runOutsideAngular(()=>I.storage(r||void 0)),k=w;return k&&M.useEmulator(...k),f&&M.setMaxUploadRetryTime(f),_&&M.setMaxOperationRetryTime(_),M},[f,_])}ref(t){return RD(this.storage.ref(t))}refFromURL(t){return RD(this.storage.refFromURL(t))}upload(t,i,r){return RD(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sr.Dh),l.LFG(sr.xv,8),l.LFG(WQ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bD),l.LFG(qQ,8),l.LFG(zQ,8),l.LFG(ZQ,8),l.LFG(Ub,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),QQ=(()=>{class n{constructor(){sR.Z.registerVersion("angularfire",bk.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KQ],imports:[YQ]}),n})();function oR(){return(0,Un.e)((n,e)=>{let t,i=!1;n.subscribe((0,Tn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}F(1277);var ct,JQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wu={},aR=aR||{},Mt=JQ||self;function PD(){}function FD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lR="closure_uid_"+(1e9*Math.random()>>>0),eJ=0;function tJ(n,e,t){return n.call.apply(n.bind,arguments)}function nJ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Hr(n,e,t){return(Hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tJ:nJ).apply(null,arguments)}function LD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Cr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function bh(){this.s=this.s,this.o=this.o}bh.prototype.s=!1,bh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function XQ(n){Object.prototype.hasOwnProperty.call(n,lR)&&n[lR]||(n[lR]=++eJ)}(this)},bh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cR(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function BH(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(FD(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function Gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gr.prototype.h=function(){this.defaultPrevented=!0};var rJ=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",PD,e),Mt.removeEventListener("test",PD,e)}catch(t){}return n}();function BD(n){return/^[\s\xa0]*$/.test(n)}var UH=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function uR(n,e){return n<e?-1:n>e?1:0}function UD(){var n=Mt.navigator;return n&&(n=n.userAgent)?n:""}function cc(n){return-1!=UD().indexOf(n)}function dR(n){return dR[" "](n),n}dR[" "]=PD;var VD,n,oJ=cc("Opera"),oy=cc("Trident")||cc("MSIE"),VH=cc("Edge"),hR=VH||oy,jH=cc("Gecko")&&!(-1!=UD().toLowerCase().indexOf("webkit")&&!cc("Edge"))&&!(cc("Trident")||cc("MSIE"))&&!cc("Edge"),aJ=-1!=UD().toLowerCase().indexOf("webkit")&&!cc("Edge");function HH(){var n=Mt.document;return n?n.documentMode:void 0}e:{var fR="",pR=(n=UD(),jH?/rv:([^\);]+)(\)|;)/.exec(n):VH?/Edge\/([\d\.]+)/.exec(n):oy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aJ?/WebKit\/(\S+)/.exec(n):oJ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pR&&(fR=pR?pR[1]:""),oy){var gR=HH();if(null!=gR&&gR>parseFloat(fR)){VD=String(gR);break e}}VD=fR}var lJ={};var uJ=Mt.document&&oy&&(HH()||parseInt(VD,10))||void 0;function jb(n,e){if(Gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jH){e:{try{dR(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dJ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jb.X.h.call(this)}}Cr(jb,Gr);var dJ={2:"touch",3:"pen",4:"mouse"};jb.prototype.h=function(){jb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hb="closure_listenable_"+(1e6*Math.random()|0),hJ=0;function fJ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++hJ,this.ba=this.ea=!1}function jD(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _R(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function $H(n){const e={};for(const t in n)e[t]=n[t];return e}const WH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qH(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<WH.length;s++)t=WH[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function HD(n){this.src=n,this.g={},this.h=0}function yR(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=LH(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(jD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vR(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}HD.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=vR(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new fJ(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var bR="closure_lm_"+(1e6*Math.random()|0),wR={};function zH(n,e,t,i,r){if(i&&i.once)return KH(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zH(n,e[s],t,i,r);return null}return t=DR(t),n&&n[Hb]?n.N(e,t,Vb(i)?!!i.capture:!!i,r):ZH(n,e,t,!1,i,r)}function ZH(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Vb(r)?!!r.capture:!!r,d=CR(n);if(d||(n[bR]=d=new HD(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function pJ(){const e=gJ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)rJ||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(QH(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function KH(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KH(n,e[s],t,i,r);return null}return t=DR(t),n&&n[Hb]?n.O(e,t,Vb(i)?!!i.capture:!!i,r):ZH(n,e,t,!0,i,r)}function YH(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)YH(n,e[s],t,i,r);else i=Vb(i)?!!i.capture:!!i,t=DR(t),n&&n[Hb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vR(s=n.g[e],t,i,r))&&(jD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=CR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vR(e,t,i,r)),(t=-1<n?e[n]:null)&&ER(t))}function ER(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Hb])yR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(QH(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=CR(e))?(yR(t,n),0==t.h&&(t.src=null,e[bR]=null)):jD(n)}}}function QH(n){return n in wR?wR[n]:wR[n]="on"+n}function gJ(n,e){if(n.ba)n=!0;else{e=new jb(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&ER(n),n=t.call(i,e)}return n}function CR(n){return(n=n[bR])instanceof HD?n:null}var TR="__closure_events_fn_"+(1e9*Math.random()>>>0);function DR(n){return"function"==typeof n?n:(n[TR]||(n[TR]=function(e){return n.handleEvent(e)}),n[TR])}function ar(){bh.call(this),this.i=new HD(this),this.P=this,this.I=null}function Tr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Gr(e,n);else if(e instanceof Gr)e.target=e.target||n;else{var r=e;qH(e=new Gr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=GD(c,i,!0,e)&&r}if(r=GD(c=e.g=n,i,!0,e)&&r,r=GD(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=GD(c=e.g=t[s],i,!1,e)&&r}function GD(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var d=c.listener,f=c.ha||c.src;c.ea&&yR(n.i,c),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Cr(ar,bh),ar.prototype[Hb]=!0,ar.prototype.removeEventListener=function(n,e,t,i){YH(this,n,e,t,i)},ar.prototype.M=function(){if(ar.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)jD(t[i]);delete n.g[e],n.h--}}this.I=null},ar.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ar.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var IR=Mt.JSON.stringify;function mJ(){var n=e3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SR,JH=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yJ,n=>n.reset());class yJ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vJ(n){Mt.setTimeout(()=>{throw n},0)}function XH(n,e){SR||function bJ(){var n=Mt.Promise.resolve(void 0);SR=function(){n.then(wJ)}}(),AR||(SR(),AR=!0),e3.add(n,e)}var AR=!1,e3=new class _J{constructor(){this.h=this.g=null}add(e,t){const i=JH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function wJ(){for(var n;n=mJ();){try{n.h.call(n.g)}catch(t){vJ(t)}var e=JH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}AR=!1}function $D(n,e){ar.call(this),this.h=n||1,this.g=e||Mt,this.j=Hr(this.lb,this),this.l=Date.now()}function xR(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function MR(n,e,t){if("function"==typeof n)t&&(n=Hr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function t3(n){n.g=MR(()=>{n.g=null,n.i&&(n.i=!1,t3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cr($D,ar),(ct=$D.prototype).ca=!1,ct.R=null,ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tr(this,"tick"),this.ca&&(xR(this),this.start()))}},ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){$D.X.M.call(this),xR(this),delete this.g};class EJ extends bh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t3(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gb(n){bh.call(this),this.h=n,this.g={}}Cr(Gb,bh);var n3=[];function r3(n,e,t,i){Array.isArray(t)||(t&&(n3[0]=t.toString()),t=n3);for(var r=0;r<t.length;r++){var s=zH(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function s3(n){_R(n.g,function(e,t){this.g.hasOwnProperty(t)&&ER(e)},n),n.g={}}function WD(){this.g=!0}function ay(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IJ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return IR(t)}catch(d){return e}}(n,t)+(i?" "+i:"")})}Gb.prototype.M=function(){Gb.X.M.call(this),s3(this)},Gb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},WD.prototype.Aa=function(){this.g=!1},WD.prototype.info=function(){};var Bp={},o3=null;function qD(){return o3=o3||new ar}function a3(n){Gr.call(this,Bp.Pa,n)}function $b(n){const e=qD();Tr(e,new a3(e))}function l3(n,e){Gr.call(this,Bp.STAT_EVENT,n),this.stat=e}function ps(n){const e=qD();Tr(e,new l3(e,n))}function c3(n,e){Gr.call(this,Bp.Qa,n),this.size=e}function Wb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Bp.Pa="serverreachability",Cr(a3,Gr),Bp.STAT_EVENT="statevent",Cr(l3,Gr),Bp.Qa="timingevent",Cr(c3,Gr);var zD={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},u3={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function NR(){}function h3(){}NR.prototype.h=null;var RR,qb={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function OR(){Gr.call(this,"d")}function kR(){Gr.call(this,"c")}function ZD(){}function zb(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Gb(this),this.O=SJ,this.T=new $D(n=hR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new f3}function f3(){this.i=null,this.g="",this.h=!1}Cr(OR,Gr),Cr(kR,Gr),Cr(ZD,NR),ZD.prototype.g=function(){return new XMLHttpRequest},ZD.prototype.i=function(){return{}},RR=new ZD;var SJ=45e3,PR={},KD={};function FR(n,e,t){n.K=1,n.v=XD(Eu(e)),n.s=t,n.P=!0,p3(n,null)}function p3(n,e){n.F=Date.now(),Zb(n),n.A=Eu(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),T3(t.i,"t",i),n.C=0,t=n.l.H,n.h=new f3,n.g=Z3(n.l,t?e:null,!n.s),0<n.N&&(n.L=new EJ(Hr(n.La,n,n.g),n.N)),r3(n.S,n.g,"readystatechange",n.ib),e=n.H?$H(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),$b(),function CJ(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),f=0;f<d.length;f++){var _=d[f].split("=");if(1<_.length){var w=_[0];_=_[1];var T=w.split("_");c=2<=T.length&&"type"==T[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function g3(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function m3(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=AJ(n,t),r==KD){4==e&&(n.o=4,ps(14),i=!1),ay(n.j,n.m,null,"[Incomplete Response]");break}if(r==PR){n.o=4,ps(15),ay(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ay(n.j,n.m,r,null),LR(n,r)}g3(n)&&r!=KD&&r!=PR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ps(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),WR(e),e.K=!0,ps(11))):(ay(n.j,n.m,t,"[Invalid Chunked Response]"),Up(n),Kb(n))}function AJ(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?KD:(t=Number(e.substring(t,i)),isNaN(t)?PR:(i+=1)+t>e.length?KD:(e=e.substr(i,t),n.C=i+t,e))}function Zb(n){n.V=Date.now()+n.O,_3(n,n.O)}function _3(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wb(Hr(n.gb,n),e)}function YD(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Kb(n){0==n.l.G||n.I||$3(n.l,n)}function Up(n){YD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xR(n.T),s3(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function LR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||BR(t.h,n)))if(!n.J&&BR(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Wb(Hr(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;sI(t),iI(t)}$R(t),ps(18)}if(1>=S3(t.h)&&t.ja){try{t.ja()}catch(_){}t.ja=void 0}}else jp(t,11)}else if((n.J||t.g==n)&&sI(t),!BD(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const w=_[3];null!=w&&(t.ma=w,t.j.info("VER="+t.ma));const T=_[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const I=_[5];null!=I&&"number"==typeof I&&0<I&&(t.J=i=1.5*I,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const M=n.g;if(M){const k=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=i.h;s.g||-1==k.indexOf("spdy")&&-1==k.indexOf("quic")&&-1==k.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(UR(s,s.h),s.h=null))}if(i.D){const L=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(i.za=L,Wn(i.F,i.D,L))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=z3(i,i.H?i.ka:null,i.V),c.J){A3(i.h,c);var d=c,f=i.J;f&&d.setTimeout(f),d.B&&(YD(d),Zb(d)),i.g=c}else H3(i);0<t.i.length&&rI(t)}else"stop"!=_[0]&&"close"!=_[0]||jp(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?jp(t,7):GR(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}$b()}catch(_){}}function y3(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(FD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MJ(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(FD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function xJ(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(FD(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(ct=zb.prototype).setTimeout=function(n){this.O=n},ct.ib=function(n){n=n.target;const e=this.L;e&&3==Cu(n)?e.l():this.La(n)},ct.La=function(n){try{if(n==this.g)e:{const w=Cu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||hR||this.g&&(this.h.h||this.g.fa()||F3(this.g)))){this.I||4!=w||7==e||$b(),YD(this);var t=this.g.aa();this.Y=t;t:if(g3(this)){var i=F3(this.g);n="";var r=i.length,s=4==Cu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Up(this),Kb(this);var c="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function TJ(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,w,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!BD(d)){var _=d;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,ps(12),Up(this),Kb(this);break e}ay(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LR(this,t)}this.P?(m3(this,w,c),hR&&this.i&&3==w&&(r3(this.S,this.T,"tick",this.hb),this.T.start())):(ay(this.j,this.m,c,null),LR(this,c)),4==w&&Up(this),this.i&&!this.I&&(4==w?$3(this.l,this):(this.i=!1,Zb(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ps(12)):(this.o=0,ps(13)),Up(this),Kb(this)}}}catch(w){}},ct.hb=function(){if(this.g){var n=Cu(this.g),e=this.g.fa();this.C<e.length&&(YD(this),m3(this,n,e),this.i&&4!=n&&Zb(this))}},ct.cancel=function(){this.I=!0,Up(this)},ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function DJ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($b(),ps(17)),Up(this),this.o=2,Kb(this)):_3(this,this.V-n)};var v3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vp(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vp){this.h=void 0!==e?e:n.h,QD(this,n.j),this.s=n.s,this.g=n.g,JD(this,n.m),this.l=n.l,e=n.i;var t=new Jb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),b3(this,t),this.o=n.o}else n&&(t=String(n).match(v3))?(this.h=!!e,QD(this,t[1]||"",!0),this.s=Yb(t[2]||""),this.g=Yb(t[3]||"",!0),JD(this,t[4]),this.l=Yb(t[5]||"",!0),b3(this,t[6]||"",!0),this.o=Yb(t[7]||"")):(this.h=!!e,this.i=new Jb(null,this.h))}function Eu(n){return new Vp(n)}function QD(n,e,t){n.j=t?Yb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function JD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function b3(n,e,t){e instanceof Jb?(n.i=e,function LJ(n,e){e&&!n.j&&(wh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(E3(this,i),T3(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qb(e,PJ)),n.i=new Jb(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function XD(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qb(e,w3,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qb(e,w3,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qb(t,"/"==t.charAt(0)?RJ:kJ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qb(t,FJ)),n.join("")};var w3=/[#\/\?@]/g,kJ=/[#\?:]/g,RJ=/[#\?]/g,PJ=/[#\?@]/g,FJ=/#/g;function Jb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wh(n){n.g||(n.g=new Map,n.h=0,n.i&&function NJ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function E3(n,e){wh(n),e=ly(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function C3(n,e){return wh(n),e=ly(n,e),n.g.has(e)}function T3(n,e,t){E3(n,e),0<t.length&&(n.i=null,n.g.set(ly(n,e),cR(t)),n.h+=t.length)}function ly(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D3(n){this.l=n||UJ,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ga&&Mt.g.Ga()&&Mt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Jb.prototype).add=function(n,e){wh(this),this.i=null,n=ly(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){wh(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ct.oa=function(){wh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},ct.W=function(n){wh(this);let e=[];if("string"==typeof n)C3(this,n)&&(e=e.concat(this.g.get(ly(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return wh(this),this.i=null,C3(this,n=ly(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var UJ=10;function I3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function S3(n){return n.h?1:n.g?n.g.size:0}function BR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UR(n,e){n.g?n.g.add(e):n.h=e}function A3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function x3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cR(n.i)}function VR(){}function VJ(){this.g=new VR}function jJ(n,e,t){const i=t||"";try{y3(n,function(r,s){let c=r;Vb(r)&&(c=IR(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function eI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Xb(n){this.l=n.ac||null,this.j=n.jb||!1}function tI(n,e){ar.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}D3.prototype.cancel=function(){if(this.i=x3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},VR.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},VR.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},Cr(Xb,NR),Xb.prototype.g=function(){return new tI(this.l,this.j)},Xb.prototype.i=function(n){return function(){return n}}({}),Cr(tI,ar);var jR=0;function M3(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ew(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tw(n)}function tw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=tI.prototype).open=function(n,e){if(this.readyState!=jR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tw(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ew(this)),this.readyState=jR},ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tw(this)),this.g&&(this.readyState=3,tw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M3(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ew(this):tw(this),3==this.readyState&&M3(this)}},ct.Va=function(n){this.g&&(this.response=this.responseText=n,ew(this))},ct.Ua=function(n){this.g&&(this.response=n,ew(this))},ct.ga=function(){this.g&&ew(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GJ=Mt.JSON.parse;function pi(n){ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=N3,this.K=this.L=!1}Cr(pi,ar);var N3="",$J=/^https?$/i,WJ=["POST","PUT"];function O3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,k3(n),nI(n)}function k3(n){n.D||(n.D=!0,Tr(n,"complete"),Tr(n,"error"))}function R3(n){if(n.h&&void 0!==aR&&(!n.C[1]||4!=Cu(n)||2!=n.aa()))if(n.v&&4==Cu(n))MR(n.Ha,0,n);else if(Tr(n,"readystatechange"),4==Cu(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(v3)[1]||null;if(!r&&Mt.self&&Mt.self.location){var s=Mt.self.location.protocol;r=s.substr(0,s.length-1)}i=!$J.test(r?r.toLowerCase():"")}t=i}if(t)Tr(n,"complete"),Tr(n,"success");else{n.m=6;try{var c=2<Cu(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.aa()+"]",k3(n)}}finally{nI(n)}}}function nI(n,e){if(n.g){P3(n);const t=n.g,i=n.C[0]?PD:null;n.g=null,n.C=null,e||Tr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function P3(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Cu(n){return n.g?n.g.readyState:0}function F3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case N3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function L3(n){let e="";return _R(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function HR(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=L3(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function nw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function B3(n){this.Ca=0,this.i=[],this.j=new WD,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nw("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nw("baseRetryDelayMs",5e3,n),this.bb=nw("retryDelaySeedMs",1e4,n),this.$a=nw("forwardChannelMaxRetries",2,n),this.ta=nw("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new D3(n&&n.concurrentRequestLimit),this.Fa=new VJ,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function GR(n){if(U3(n),3==n.G){var e=n.U++,t=Eu(n.F);Wn(t,"SID",n.I),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),iw(n,t),(e=new zb(n,n.j,e,void 0)).K=2,e.v=XD(Eu(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Z3(e.l,null),e.g.da(e.v)),e.F=Date.now(),Zb(e)}q3(n)}function iI(n){n.g&&(WR(n),n.g.cancel(),n.g=null)}function U3(n){iI(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),sI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function rI(n){I3(n.h)||n.m||(n.m=!0,XH(n.Ja,n),n.C=0)}function V3(n,e){var t;t=e?e.m:n.U++;const i=Eu(n.F);Wn(i,"SID",n.I),Wn(i,"RID",t),Wn(i,"AID",n.T),iw(n,i),n.o&&n.s&&HR(i,n.o,n.s),t=new zb(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=j3(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),UR(n.h,t),FR(t,i,e)}function iw(n,e){n.ia&&_R(n.ia,function(t,i){Wn(e,i,t)}),n.l&&y3({},function(t,i){Wn(e,i,t)})}function j3(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Hr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let _=r[f].h;const w=r[f].g;if(_-=s,0>_)s=Math.max(0,r[f].h-100),d=!1;else try{jJ(w,c,"req"+_+"_")}catch(T){i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function H3(n){n.g||n.u||(n.Z=1,XH(n.Ia,n),n.A=0)}function $R(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Wb(Hr(n.Ia,n),W3(n,n.A)),n.A++,0))}function WR(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function G3(n){n.g=new zb(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Eu(n.sa);Wn(e,"RID","rpc"),Wn(e,"SID",n.I),Wn(e,"CI",n.L?"0":"1"),Wn(e,"AID",n.T),Wn(e,"TYPE","xmlhttp"),iw(n,e),n.o&&n.s&&HR(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=XD(Eu(e)),t.s=null,t.P=!0,p3(t,n)}function sI(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function $3(n,e){var t=null;if(n.g==e){sI(n),WR(n),n.g=null;var i=2}else{if(!BR(n.h,e))return;t=e.D,A3(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Tr(i=qD(),new c3(i,t)),rI(n)}else H3(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function zJ(n,e){return!(S3(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Wb(Hr(n.Ja,n,e),W3(n,n.C)),n.C++,0)))}(n,e)||2==i&&$R(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:jp(n,5);break;case 4:jp(n,10);break;case 3:jp(n,6);break;default:jp(n,2)}}function W3(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function jp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Hr(n.kb,n);t||(t=new Vp("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||QD(t,"https"),XD(t)),function HJ(n,e){const t=new WD;if(Mt.Image){const i=new Image;i.onload=LD(eI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=LD(eI,t,i,"TestLoadImage: error",!1,e),i.onabort=LD(eI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=LD(eI,t,i,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ps(2);n.G=0,n.l&&n.l.va(e),q3(n),U3(n)}function q3(n){if(n.G=0,n.la=[],n.l){const e=x3(n.h);(0!=e.length||0!=n.i.length)&&(BH(n.la,e),BH(n.la,n.i),n.h.i.length=0,cR(n.i),n.i.length=0),n.l.ua()}}function z3(n,e,t){var i=t instanceof Vp?Eu(t):new Vp(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),JD(i,i.m);else{var r=Mt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Vp(null,void 0);i&&QD(s,i),e&&(s.g=e),r&&JD(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Wn(i,t,e),Wn(i,"VER",n.ma),iw(n,i),i}function Z3(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Da&&!n.ra?new Xb({jb:!0}):n.ra)).Ka(n.H),e}function K3(){}function oI(){if(oy&&!(10<=Number(uJ)))throw Error("Environmental error: no available transport.")}function Eo(n,e){ar.call(this),this.g=new B3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!BD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!BD(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cy(this)}function Y3(n){OR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Q3(){kR.call(this),this.status=1}function cy(n){this.g=n}(ct=pi.prototype).Ka=function(n){this.L=n},ct.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():RR.g(),this.C=function d3(n){return n.h||(n.h=n.i())}(this.u?this.u:RR),this.g.onreadystatechange=Hr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void O3(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Mt.FormData&&n instanceof Mt.FormData,!(0<=LH(WJ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{P3(this),0<this.B&&((this.K=function qJ(n){return oy&&function cJ(){return function sJ(n){var e=lJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=UH(String(VD)).split("."),t=UH("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=uR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||uR(0==r[2].length,0==s[2].length)||uR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hr(this.qa,this)):this.A=MR(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){O3(this,s)}},ct.qa=function(){void 0!==aR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tr(this,"complete"),Tr(this,"abort"),nI(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nI(this,!0)),pi.X.M.call(this)},ct.Ha=function(){this.s||(this.F||this.v||this.l?R3(this):this.fb())},ct.fb=function(){R3(this)},ct.aa=function(){try{return 2<Cu(this)?this.g.status:-1}catch(n){return-1}},ct.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GJ(e)}},ct.Ea=function(){return this.m},ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=B3.prototype).ma=8,ct.G=1,ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new zb(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=$H(s),qH(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=j3(this,r,e),Wn(t=Eu(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),iw(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(L3(s)))+"&"+e:this.o&&HR(t,this.o,s)),UR(this.h,r),this.Ya&&Wn(t,"TYPE","init"),this.O?(Wn(t,"$req",e),Wn(t,"SID","null"),r.Z=!0,FR(r,t,null)):FR(r,t,e),this.G=2}}else 3==this.G&&(n?V3(this,n):0==this.i.length||I3(this.h)||V3(this))},ct.Ia=function(){if(this.u=null,G3(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Wb(Hr(this.eb,this),n)}},ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ps(10),iI(this),G3(this))},ct.cb=function(){null!=this.v&&(this.v=null,iI(this),$R(this),ps(19))},ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ps(2)):(this.j.info("Failed to ping google.com"),ps(1))},(ct=K3.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Ra=function(){},oI.prototype.g=function(n,e){return new Eo(n,e)},Cr(Eo,ar),Eo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ps(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=z3(n,null,n.V),rI(n)},Eo.prototype.close=function(){GR(this.g)},Eo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=IR(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&rI(e)},Eo.prototype.M=function(){this.g.l=null,delete this.j,GR(this.g),delete this.g,Eo.X.M.call(this)},Cr(Y3,OR),Cr(Q3,kR),Cr(cy,K3),cy.prototype.xa=function(){Tr(this.g,"a")},cy.prototype.wa=function(n){Tr(this.g,new Y3(n))},cy.prototype.va=function(n){Tr(this.g,new Q3)},cy.prototype.ua=function(){Tr(this.g,"b")},oI.prototype.createWebChannel=oI.prototype.g,Eo.prototype.send=Eo.prototype.u,Eo.prototype.open=Eo.prototype.m,Eo.prototype.close=Eo.prototype.close,zD.NO_ERROR=0,zD.TIMEOUT=8,zD.HTTP_ERROR=6,u3.COMPLETE="complete",h3.EventType=qb,qb.OPEN="a",qb.CLOSE="b",qb.ERROR="c",qb.MESSAGE="d",ar.prototype.listen=ar.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.Oa,pi.prototype.getLastErrorCode=pi.prototype.Ea,pi.prototype.getStatus=pi.prototype.aa,pi.prototype.getResponseJson=pi.prototype.Sa,pi.prototype.getResponseText=pi.prototype.fa,pi.prototype.send=pi.prototype.da,pi.prototype.setWithCredentials=pi.prototype.Ka;var ZJ=wu.createWebChannelTransport=function(){return new oI},KJ=wu.getStatEventTarget=function(){return qD()},qR=wu.ErrorCode=zD,YJ=wu.EventType=u3,QJ=wu.Event=Bp,J3=wu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},JJ=wu.FetchXmlHttpFactory=Xb,aI=wu.WebChannel=h3,XJ=wu.XhrIo=pi;const X3="@firebase/firestore";class lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let uy="9.13.0";const Eh=new Ls.Yd("@firebase/firestore");function zR(){return Eh.logLevel}function ke(n,...e){if(Eh.logLevel<=Ls.in.DEBUG){const t=e.map(ZR);Eh.debug(`Firestore (${uy}): ${n}`,...t)}}function Ci(n,...e){if(Eh.logLevel<=Ls.in.ERROR){const t=e.map(ZR);Eh.error(`Firestore (${uy}): ${n}`,...t)}}function Hp(n,...e){if(Eh.logLevel<=Ls.in.WARN){const t=e.map(ZR);Eh.warn(`Firestore (${uy}): ${n}`,...t)}}function ZR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${uy}) INTERNAL ASSERTION FAILED: `+n;throw Ci(e),new Error(e)}function Ct(n,e){n||st()}function $e(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends R.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class iX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rX{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable((0,Y.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},f=_=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>f(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?f(_):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new eG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new lr(e)}}class sX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new sX(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aX{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new tG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lX(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class nG{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=lX(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Nt(n,e){return n<e?-1:n>e?1:0}function dy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function iG(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new qn(0,0))}static max(){return new Tt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rw{constructor(e,t,i){void 0===t?t=0:t>e.length&&st(),void 0===i?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===rw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends rw{construct(e,t,i){return new en(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new en(t)}static emptyPath(){return new en([])}}const cX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends rw{construct(e,t,i){return new gi(e,t,i)}static isValidIdentifier(e){return cX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(en.fromString(e))}static fromName(e){return new Ge(en.fromString(e).popFirst(5))}static empty(){return new Ge(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new en(e.slice()))}}class lI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function KR(n){return n.fields.find(e=>2===e.kind)}function Gp(n){return n.fields.filter(e=>2!==e.kind)}lI.UNKNOWN_ID=-1;class cI{constructor(e,t){this.fieldPath=e,this.kind=t}}class sw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sw(0,Co.min())}}function rG(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new qn(t+1,0):new qn(t,i));return new Co(r,Ge.empty(),e)}function sG(n){return new Co(n.readTime,n.key,-1)}class Co{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Co(Tt.min(),Ge.empty(),-1)}static max(){return new Co(Tt.max(),Ge.empty(),-1)}}function YR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const oG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ch(n){return QR.apply(this,arguments)}function QR(){return QR=(0,Y.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==oG)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),QR.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},f=>i(f))}),c=!0,s===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const _=f;t(e[_]).next(w=>{c[_]=w,++d,d===s&&i(c)},w=>r(w))}})}static doWhile(e,t){return new re((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class uI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Gi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ow(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=JR(i.target.error);this.P.reject(new ow(e,r))}}static open(e,t,i,r){try{return new uI(t,e.transaction(r,i))}catch(s){throw new ow(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fX(t)}}class Ya{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Ya.D((0,R.z$)())&&Ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,R.hl)())return!1;if(Ya.N())return!0;const e=(0,R.z$)(),t=Ya.D(e),i=0<t&&t<10,r=Ya.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Y.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new ow(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new ow(e,d))},s.onupgradeneeded=c=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Y.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const f=uI.open(s.db,e,c?"readonly":"readwrite",i),_=r(f).next(w=>(f.V(),w)).catch(w=>(f.abort(w),re.reject(w))).toPromise();return _.catch(()=>{}),yield f.v,_}catch(f){const _=f,w="FirebaseError"!==_.name&&d<3;if(ke("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),s.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hX{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return $p(this.U.delete())}}class ow extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Th(n){return"IndexedDbTransactionError"===n.name}class fX{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$p(i)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}get(e){return $p(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),$p(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new re((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new re((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new re((i,r)=>{t.onerror=s=>{const c=JR(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(e,t){const i=[];return new re((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new hX(d),_=t(d.primaryKey,d.value,f);if(_ instanceof re){const w=_.catch(T=>(f.done(),re.reject(T)));i.push(w)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>re.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $p(n){return new re((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=JR(i.target.error);t(r)}})}let lG=!1;function JR(n){const e=Ya.D((0,R.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lG||(lG=!0,setTimeout(()=>{throw i},0)),i}}return n}class pX{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Y.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Th(i)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ch(i)}yield t.nt(6e4)}))}}class gX{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return re.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return ke("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,s)).next(d=>(ke("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=sG(s);YR(c,i)>0&&(i=c)}),new Co(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function cG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Us.at=-1;class mi{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new mi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dI(this.root,e,this.comparator,!1)}getReverseIterator(){return new dI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dI(this.root,e,this.comparator,!0)}}class dI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Dr.RED,this.left=null!=r?r:Dr.EMPTY,this.right=null!=s?s:Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Dr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Dr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1,Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Dr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dG(this.data.getIterator())}getIteratorFrom(e){return new dG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class dG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hy(n){return n.hasNext()?n.getNext():void 0}class To{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new To([])}unionWith(e){let t=new In(gi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new To(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class $i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $i(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new $i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const _X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dh(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=_X.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_i(n.seconds),nanos:_i(n.nanos)}}function _i(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qp(n){return"string"==typeof n?$i.fromBase64String(n):$i.fromUint8Array(n)}function XR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hG(n){const e=n.mapValue.fields.__previous_value__;return XR(e)?hG(e):e}function aw(n){const e=Dh(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class yX{constructor(e,t,i,r,s,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Ih{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}function lw(n){return null==n}function cw(n){return 0===n&&1/n==-1/0}function fG(n){return"number"==typeof n&&Number.isInteger(n)&&!cw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hI={nullValue:"NULL_VALUE"};function zp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XR(n)?4:_G(n)?9007199254740991:10:st()}function uc(n,e){if(n===e)return!0;const t=zp(n);if(t!==zp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return aw(n).isEqual(aw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Dh(i.timestampValue),c=Dh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,qp(n.bytesValue).isEqual(qp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return _i(i.geoPointValue.latitude)===_i(r.geoPointValue.latitude)&&_i(i.geoPointValue.longitude)===_i(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return _i(i.integerValue)===_i(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=_i(i.doubleValue),c=_i(r.doubleValue);return s===c?cw(s)===cw(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return dy(n.arrayValue.values||[],e.arrayValue.values||[],uc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(cG(s)!==cG(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!uc(s[d],c[d])))return!1;return!0}(n,e);default:return st()}var r}function uw(n,e){return void 0!==(n.values||[]).find(t=>uc(t,e))}function Ah(n,e){if(n===e)return 0;const t=zp(n),i=zp(e);if(t!==i)return Nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=_i(r.integerValue||r.doubleValue),d=_i(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return pG(n.timestampValue,e.timestampValue);case 4:return pG(aw(n),aw(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=qp(r),d=qp(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const _=Nt(c[f],d[f]);if(0!==_)return _}return Nt(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=Nt(_i(r.latitude),_i(s.latitude));return 0!==c?c:Nt(_i(r.longitude),_i(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let f=0;f<c.length&&f<d.length;++f){const _=Ah(c[f],d[f]);if(_)return _}return Nt(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Sh.mapValue&&s===Sh.mapValue)return 0;if(r===Sh.mapValue)return 1;if(s===Sh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=s.fields||{},_=Object.keys(f);d.sort(),_.sort();for(let w=0;w<d.length&&w<_.length;++w){const T=Nt(d[w],_[w]);if(0!==T)return T;const I=Ah(c[d[w]],f[_[w]]);if(0!==I)return I}return Nt(d.length,_.length)}(n.mapValue,e.mapValue);default:throw st()}}function pG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Dh(n),i=Dh(e),r=Nt(t.seconds,i.seconds);return 0!==r?r:Nt(t.nanos,i.nanos)}function fy(n){return eP(n)}function eP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Dh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qp(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=eP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${eP(i.fields[d])}`;return s+"}"}(n.mapValue):st();var e}function Zp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tP(n){return!!n&&"integerValue"in n}function dw(n){return!!n&&"arrayValue"in n}function gG(n){return!!n&&"nullValue"in n}function mG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fI(n){return!!n&&"mapValue"in n}function hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=hw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _G(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vX(n){return"nullValue"in n?hI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zp(Ih.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function bX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zp(Ih.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Sh:st()}function yG(n,e){const t=Ah(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vG(n,e){const t=Ah(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hw(t)}setAll(e){let t=gi.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=hw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());fI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];fI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ir(hw(this.value))}}function bG(n){const e=[];return Wp(n.fields,(t,i)=>{const r=new gi([t]);if(fI(i)){const s=bG(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new To(e)}class Rn{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Rn(e,0,Tt.min(),Tt.min(),Ir.empty(),0)}static newFoundDocument(e,t,i){return new Rn(e,1,t,Tt.min(),i,0)}static newNoDocument(e,t){return new Rn(e,2,t,Tt.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Tt.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wX{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function wG(n,e=null,t=[],i=[],r=null,s=null,c=null){return new wX(n,e,t,i,r,s,c)}function Kp(n){const e=$e(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+fy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),lw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fy(i)).join(",")),e.ht=t}return e.ht}function fw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!MX(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!uc(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IG(n.startAt,e.startAt)&&IG(n.endAt,e.endAt)}function pI(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function gI(n,e){return n.filters.filter(t=>t instanceof Sr&&t.field.isEqual(e))}function EG(n,e,t){let i=hI,r=!0;for(const s of gI(n,e)){let c=hI,d=!0;switch(s.op){case"<":case"<=":c=vX(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=hI}yG({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];yG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function CG(n,e,t){let i=Sh,r=!0;for(const s of gI(n,e)){let c=Sh,d=!0;switch(s.op){case">=":case">":c=bX(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Sh}vG({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];vG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Sr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new CX(e,t,i):"array-contains"===t?new IX(e,i):"in"===t?new SX(e,i):"not-in"===t?new AX(e,i):"array-contains-any"===t?new xX(e,i):new Sr(e,t,i)}static lt(e,t,i){return"in"===t?new TX(e,i):new DX(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ah(t,this.value)):null!==t&&zp(this.value)===zp(t)&&this.ft(Ah(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class CX extends Sr{constructor(e,t,i){super(e,t,i),this.key=Ge.fromName(i.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class TX extends Sr{constructor(e,t){super(e,"in",t),this.keys=TG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DX extends Sr{constructor(e,t){super(e,"not-in",t),this.keys=TG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class IX extends Sr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dw(t)&&uw(t.arrayValue,this.value)}}class SX extends Sr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uw(this.value.arrayValue,t)}}class AX extends Sr{constructor(e,t){super(e,"not-in",t)}matches(e){if(uw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uw(this.value.arrayValue,t)}}class xX extends Sr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>uw(this.value.arrayValue,i))}}class xh{constructor(e,t){this.position=e,this.inclusive=t}}class py{constructor(e,t="asc"){this.field=e,this.dir=t}}function MX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function DG(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):Ah(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function IG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!uc(n.position[t],e.position[t]))return!1;return!0}class Tu{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this._t=null,this.wt=null}}function SG(n,e,t,i,r,s,c,d){return new Tu(n,e,t,i,r,s,c,d)}function gy(n){return new Tu(n)}function AG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iP(n){for(const e of n.filters)if(e.dt())return e.field;return null}function rP(n){return null!==n.collectionGroup}function my(n){const e=$e(n);if(null===e._t){e._t=[];const t=iP(e),i=nP(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new py(t)),e._t.push(new py(gi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new py(gi.keyField(),s))}}}return e._t}function gs(n){const e=$e(n);if(!e.wt)if("F"===e.limitType)e.wt=wG(e.path,e.collectionGroup,my(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of my(e))t.push(new py(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new xh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xh(e.startAt.position,e.startAt.inclusive):null;e.wt=wG(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function mI(n,e,t){return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pw(n,e){return fw(gs(n),gs(e))&&n.limitType===e.limitType}function xG(n){return`${Kp(gs(n))}|lt:${n.limitType}`}function sP(n){return`Query(target=${function EX(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${fy(i.value)}`;var i}).join(", ")}]`),lw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>fy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>fy(t)).join(",")),`Target(${e})`}(gs(n))}; limitType=${n.limitType})`}function oP(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ge.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=DG(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,my(t),i)||t.endAt&&!function(r,s,c){const d=DG(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,my(t),i)));var t,i}function MG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NG(n){return(e,t)=>{let i=!1;for(const r of my(n)){const s=NX(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function NX(n,e,t){const i=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),f=c.data.field(r);return null!==d&&null!==f?Ah(d,f):st()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function OG(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cw(e)?"-0":e}}function kG(n){return{integerValue:""+n}}function RG(n,e){return fG(e)?kG(e):OG(n,e)}class _I{constructor(){this._=void 0}}function OX(n,e,t){return n instanceof _y?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Yp?FG(n,e):n instanceof Qp?LG(n,e):function(i,r){const s=PG(i,r),c=BG(s)+BG(i.yt);return tP(s)&&tP(i.yt)?kG(c):OG(i.It,c)}(n,e)}function kX(n,e,t){return n instanceof Yp?FG(n,e):n instanceof Qp?LG(n,e):t}function PG(n,e){return n instanceof yy?tP(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class _y extends _I{}class Yp extends _I{constructor(e){super(),this.elements=e}}function FG(n,e){const t=UG(e);for(const i of n.elements)t.some(r=>uc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Qp extends _I{constructor(e){super(),this.elements=e}}function LG(n,e){let t=UG(e);for(const i of n.elements)t=t.filter(r=>!uc(r,i));return{arrayValue:{values:t}}}class yy extends _I{constructor(e,t){super(),this.It=e,this.yt=t}}function BG(n){return _i(n.integerValue||n.doubleValue)}function UG(n){return dw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gw{constructor(e,t){this.field=e,this.transform=t}}class PX{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vI{}function VG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new by(n.key,zn.none()):new vy(n.key,n.data,zn.none());{const t=n.data,i=Ir.empty();let r=new In(gi.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Du(n.key,i,new To(r.toArray()),zn.none())}}function FX(n,e,t){n instanceof vy?function(i,r,s){const c=i.value.clone(),d=GG(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Du?function(i,r,s){if(!yI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=GG(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(HG(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mw(n,e,t,i){return n instanceof vy?function(r,s,c,d){if(!yI(r.precondition,s))return c;const f=r.value.clone(),_=$G(r.fieldTransforms,d,s);return f.setAll(_),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Du?function(r,s,c,d){if(!yI(r.precondition,s))return c;const f=$G(r.fieldTransforms,d,s),_=s.data;return _.setAll(HG(r)),_.setAll(f),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(c=t,yI(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function LX(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=PG(i.transform,r||null);null!=s&&(null===t&&(t=Ir.empty()),t.set(i.field,s))}return t||null}function jG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&dy(t,i,(r,s)=>function RX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yp&&i instanceof Yp||t instanceof Qp&&i instanceof Qp?dy(t.elements,i.elements,uc):t instanceof yy&&i instanceof yy?uc(t.yt,i.yt):t instanceof _y&&i instanceof _y);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class vy extends vI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Du extends vI{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function GG(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,kX(c,d,t[r]))}return i}function $G(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,OX(s,c,e))}return i}class by extends vI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aP extends vI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BX{constructor(e){this.count=e}}var Ri,tn;function WG(n){switch(n){default:return st();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function qG(n){if(void 0===n)return Ci("GRPC error has no .code"),le.UNKNOWN;switch(n){case Ri.OK:return le.OK;case Ri.CANCELLED:return le.CANCELLED;case Ri.UNKNOWN:return le.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return le.INTERNAL;case Ri.UNAVAILABLE:return le.UNAVAILABLE;case Ri.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ri.NOT_FOUND:return le.NOT_FOUND;case Ri.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ri.ABORTED:return le.ABORTED;case Ri.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ri.DATA_LOSS:return le.DATA_LOSS;default:return st()}}(tn=Ri||(Ri={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Mh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return uG(this.inner)}size(){return this.innerSize}}const UX=new mi(Ge.comparator);function Vs(){return UX}const zG=new mi(Ge.comparator);function _w(...n){let e=zG;for(const t of n)e=e.insert(t.key,t);return e}function ZG(n){let e=zG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function dc(){return yw()}function KG(){return yw()}function yw(){return new Mh(n=>n.toString(),(n,e)=>n.isEqual(e))}const VX=new mi(Ge.comparator),jX=new In(Ge.comparator);function Rt(...n){let e=jX;for(const t of n)e=e.add(t);return e}const HX=new In(Nt);function bI(){return HX}class vw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,bw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vw(Tt.min(),r,bI(),Vs(),Rt())}}class bw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bw(i,t,Rt(),Rt(),Rt())}}class wI{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class YG{constructor(e,t){this.targetId=e,this.At=t}}class QG{constructor(e,t,i=$i.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class JG{constructor(){this.Rt=0,this.bt=e$(),this.Pt=$i.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),i=Rt();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:st()}}),new bw(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=e$()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class GX{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Vs(),this.qt=XG(),this.Kt=new In(Nt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(pI(s))if(0===i){const c=new Ge(s.path);this.jt(t,c,Rn.newNoDocument(c,Tt.min()))}else Ct(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&pI(d.target)){const f=new Ge(d.target.path);null!==this.Ut.get(f)||this.ee(c,f)||this.jt(c,f,Rn.newNoDocument(f,e))}s.Dt&&(t.set(c,s.xt()),s.Nt())}});let i=Rt();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const _=this.Xt(f);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const r=new vw(e,t,this.Kt,this.Ut,i);return this.Ut=Vs(),this.qt=XG(),this.Kt=new In(Nt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new JG,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(Nt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new JG),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function XG(){return new mi(Ge.comparator)}function e$(){return new mi(Ge.comparator)}const $X={asc:"ASCENDING",desc:"DESCENDING"},WX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qX{constructor(e,t){this.databaseId=e,this.gt=t}}function ww(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t$(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zX(n,e){return ww(n,e.toTimestamp())}function cr(n){return Ct(!!n),Tt.fromTimestamp(function(e){const t=Dh(e);return new qn(t.seconds,t.nanos)}(n))}function lP(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function n$(n){const e=en.fromString(n);return Ct(u$(e)),e}function Ew(n,e){return lP(n.databaseId,e.path)}function hc(n,e){const t=n$(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(r$(t))}function cP(n,e){return lP(n.databaseId,e)}function i$(n){const e=n$(n);return 4===e.length?en.emptyPath():r$(e)}function Cw(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function r$(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function s$(n,e,t){return{name:Ew(n,e),fields:t.value.mapValue.fields}}function o$(n,e,t){const i=hc(n,e.name),r=cr(e.updateTime),s=new Ir({mapValue:{fields:e.fields}}),c=Rn.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Tw(n,e){let t;if(e instanceof vy)t={update:s$(n,e.key,e.value)};else if(e instanceof by)t={delete:Ew(n,e.key)};else if(e instanceof Du)t={update:s$(n,e.key,e.data),updateMask:nee(e.fieldMask)};else{if(!(e instanceof aP))return st();t={verify:Ew(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof _y)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yy)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:zX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),t;var r}function uP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?zn.updateTime(cr(r.updateTime)):void 0!==r.exists?zn.exists(r.exists):zn.none():zn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),d=new _y):"appendMissingElements"in c?d=new Yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Qp(c.removeAllFromArray.values||[]):"increment"in c?d=new yy(s,c.increment):st();const f=gi.fromServerFormat(c.fieldPath);return new gw(f,d)}(n,r)):[];var r;if(e.update){const r=hc(n,e.update.name),s=new Ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new To((e.updateMask.fieldPaths||[]).map(_=>gi.fromServerFormat(_)));return new Du(r,s,c,t,i)}return new vy(r,s,t,i)}if(e.delete){const r=hc(n,e.delete);return new by(r,t)}if(e.verify){const r=hc(n,e.verify);return new aP(r,t)}return st()}function a$(n,e){return{documents:[cP(n,e.path)]}}function dP(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=cP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const _=f.map(w=>function(T){if("=="===T.op){if(mG(T.value))return{unaryFilter:{field:wy(T.field),op:"IS_NAN"}};if(gG(T.value))return{unaryFilter:{field:wy(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(mG(T.value))return{unaryFilter:{field:wy(T.field),op:"IS_NOT_NAN"}};if(gG(T.value))return{unaryFilter:{field:wy(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wy(T.field),op:XX(T.op),value:T.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(_=>{return{field:wy((w=_).field),direction:JX(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.gt||lw(_)?_:{value:_});var _,d,f;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function l$(n){let e=i$(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=c$(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new py(Ey((T=w).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;t.limit&&(d=function(w){let T;return T="object"==typeof w?w.value:w,lw(T)?null:T}(t.limit));let f=null;var w;t.startAt&&(f=new xh((w=t.startAt).values||[],!!w.before));let _=null;return t.endAt&&(_=function(w){return new xh(w.values||[],!w.before)}(t.endAt)),SG(e,r,c,s,d,"F",f,_)}function c$(n){return n?void 0!==n.unaryFilter?[tee(n)]:void 0!==n.fieldFilter?[eee(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>c$(e)).reduce((e,t)=>e.concat(t)):st():[]}function JX(n){return $X[n]}function XX(n){return WX[n]}function wy(n){return{fieldPath:n.canonicalString()}}function Ey(n){return gi.fromServerFormat(n.fieldPath)}function eee(n){return Sr.create(Ey(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function tee(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ey(n.unaryFilter.field);return Sr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ey(n.unaryFilter.field);return Sr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ey(n.unaryFilter.field);return Sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ey(n.unaryFilter.field);return Sr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function nee(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=d$(e)),e=iee(n.get(t),e);return d$(e)}function iee(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function d$(n){return n+"\x01\x01"}function fc(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:st()}s=c+2}return new en(i)}const h$=["userId","batchId"];function EI(n,e){return[n,ms(e)]}function f$(n,e,t){return[n,ms(e),t]}const ree={},see=["prefixPath","collectionGroup","readTime","documentId"],oee=["prefixPath","collectionGroup","documentId"],aee=["collectionGroup","readTime","prefixPath","documentId"],lee=["canonicalId","targetId"],cee=["targetId","path"],uee=["path","targetId"],dee=["collectionId","parent"],hee=["indexId","uid"],fee=["uid","sequenceNumber"],pee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gee=["indexId","uid","orderedDocumentKey"],mee=["userId","collectionPath","documentId"],_ee=["userId","collectionPath","largestBatchId"],yee=["userId","collectionGroup","largestBatchId"],p$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vee=[...p$,"documentOverlays"],g$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],m$=g$,bee=[...m$,"indexConfiguration","indexState","indexEntries"];class hP extends aG{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ur(n,e){const t=$e(n);return Ya.M(t.ie,e)}class fP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&FX(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=mw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=mw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=KG();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const f=VG(c,d);null!==f&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&dy(this.mutations,e.mutations,(t,i)=>jG(t,i))&&dy(this.baseMutations,e.baseMutations,(t,i)=>jG(t,i))}}class pP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=VX;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new pP(e,t,i,r)}}class gP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nh{constructor(e,t,i,r,s=Tt.min(),c=Tt.min(),d=$i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new Nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _${constructor(e){this.re=e}}function y$(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:CI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ew(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ww(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Jp(e.version)};else{if(!e.isUnknownDocument())return st();i.unknownDocument={path:t.path.toArray(),version:Jp(e.version)}}var r,s;return i}function CI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new qn(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function eg(n,e){const t=(e.baseMutations||[]).map(s=>uP(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>uP(n.re,s)),r=qn.fromMillis(e.localWriteTimeMs);return new fP(e.batchId,r,t,i)}function Dw(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):Tt.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=gs(gy(i$(r.documents[0])))):i=gs(l$(n.query)),new Nh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,$i.fromBase64String(n.resumeToken))}function v$(n,e){const t=Jp(e.snapshotVersion),i=Jp(e.lastLimboFreeSnapshotVersion);let r;r=pI(e.target)?a$(n.re,e.target):dP(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function mP(n){const e=l$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mI(e,e.limit,"L"):e}function _P(n,e){return new gP(e.largestBatchId,uP(n.re,e.overlayMutation))}function b$(n,e){const t=e.path.lastSegment();return[n,ms(e.path.popLast()),t]}function w$(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Jp(i.readTime),documentKey:ms(i.documentKey.path),largestBatchId:i.largestBatchId}}class Eee{getBundleMetadata(e,t){return E$(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return E$(e).put({bundleId:(i=t).id,createTime:Jp(cr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return C$(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:mP(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(e,t){return C$(e).put({name:(i=t).name,readTime:Jp(cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function E$(n){return ur(n,"bundles")}function C$(n){return ur(n,"namedQueries")}class TI{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new TI(e,t.uid||"")}getOverlay(e,t){return Iw(e).get(b$(this.userId,t)).next(i=>i?_P(this.It,i):null)}getOverlays(e,t){const i=dc();return re.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new gP(t,c);r.push(this.ue(e,d))}),re.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(ms(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Iw(e).Y("collectionPathOverlayIndex",d))}),re.waitFor(s)}getOverlaysForCollection(e,t,i){const r=dc(),s=ms(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Iw(e).W("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const _=_P(this.It,f);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=dc();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iw(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,_,w)=>{const T=_P(this.It,_);s.size()<r||T.largestBatchId===c?(s.set(T.getKey(),T),c=T.largestBatchId):w.done()}).next(()=>s)}ue(e,t){return Iw(e).put(function(i,r,s){const[c,d,f]=b$(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Tw(i.re,s.mutation)}}(this.It,this.userId,t))}}function Iw(n){return ur(n,"documentOverlays")}class tg{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(_i(e.integerValue));else if("doubleValue"in e){const i=_i(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),cw(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(qp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?_G(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Cee(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function T$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=Cee(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}tg.Te=new tg;class Tee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=T$(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=T$(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Dee{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Iee{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Sw{constructor(){this.Be=new Tee,this.Le=new Dee(this.Be),this.Ue=new Iee(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ng{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ng(this.indexId,this.documentKey,this.arrayValue,i)}}function ig(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=D$(n.arrayValue,e.arrayValue),0!==t?t:(t=D$(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function D$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class See{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=KR(e);if(void 0!==t&&!this.ze(t))return!1;const i=Gp(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Aee{constructor(){this.Ye=new yP}addToCollectionParentIndex(e,t){return this.Ye.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Co.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class yP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(en.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(en.comparator)).toArray()}}const DI=new Uint8Array(0);class xee{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new yP,this.Ze=new Mh(i=>Kp(i),(i,r)=>fw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:ms(r)};return I$(e).put(s)}return re.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[iG(t),""],!1,!0);return I$(e).W(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(fc(c.parent))}return i})}addFieldIndex(e,t){const i=II(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=xw(e);return s.next(d=>{c.put(w$(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=II(e),r=xw(e),s=Aw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Aw(e);let r=!0;const s=new Map;return re.forEach(this.tn(t),c=>this.en(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Rt();const d=[];return re.forEach(s,(f,_)=>{var w;ke("IndexedDbIndexManager",`Using index ${w=f,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Kp(t)}`);const T=function(ge,ce){const ve=KR(ce);if(void 0===ve)return null;for(const Pe of gI(ge,ve.fieldPath))switch(Pe.op){case"array-contains-any":return Pe.value.arrayValue.values||[];case"array-contains":return[Pe.value]}return null}(_,f),I=function(ge,ce){const ve=new Map;for(const Pe of Gp(ce))for(const it of gI(ge,Pe.fieldPath))switch(it.op){case"==":case"in":ve.set(Pe.fieldPath.canonicalString(),it.value);break;case"not-in":case"!=":return ve.set(Pe.fieldPath.canonicalString(),it.value),Array.from(ve.values())}return null}(_,f),M=function(ge,ce){const ve=[];let Pe=!0;for(const it of Gp(ce)){const Dt=0===it.kind?EG(ge,it.fieldPath,ge.startAt):CG(ge,it.fieldPath,ge.startAt);ve.push(Dt.value),Pe&&(Pe=Dt.inclusive)}return new xh(ve,Pe)}(_,f),k=function(ge,ce){const ve=[];let Pe=!0;for(const it of Gp(ce)){const Dt=0===it.kind?CG(ge,it.fieldPath,ge.endAt):EG(ge,it.fieldPath,ge.endAt);ve.push(Dt.value),Pe&&(Pe=Dt.inclusive)}return new xh(ve,Pe)}(_,f),L=this.nn(f,_,M),G=this.nn(f,_,k),se=this.sn(f,_,I),ue=this.rn(f.indexId,T,L,M.inclusive,G,k.inclusive,se);return re.forEach(ue,ge=>i.J(ge,t.limit).next(ce=>{ce.forEach(ve=>{const Pe=Ge.fromSegments(ve.documentKey);c.has(Pe)||(c=c.add(Pe),d.push(Pe))})}))}).next(()=>d)}return re.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,c,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),_=f/(null!=t?t.length:1),w=[];for(let T=0;T<f;++T){const I=t?this.on(t[T/_]):DI,M=this.un(e,I,i[T%_],r),k=this.cn(e,I,s[T%_],c),L=d.map(G=>this.un(e,I,G,!0));w.push(...this.createRange(M,k,L))}return w}un(e,t,i,r){const s=new ng(e,Ge.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new ng(e,Ge.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new See(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return re.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new In(gi.comparator),f=!1;for(const _ of c.filters){const w=_;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?f=!0:d=d.add(w.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Sw;for(const r of Gp(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);tg.Te.ce(s,c)}return i.$e()}on(e){const t=new Sw;return tg.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Sw;return tg.Te.ce(Zp(this.databaseId,t),i.qe(function(r){const s=Gp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Sw);let s=0;for(const c of Gp(e)){const d=i[s++];for(const f of r)if(this.ln(t,c.fieldPath)&&dw(d))r=this.fn(r,c,d);else{const _=f.qe(c.kind);tg.Te.ce(d,_)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const f=new Sw;f.seed(d.$e()),tg.Te.ce(c,f.qe(t.kind)),s.push(f)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof Sr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=II(e),r=xw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const c=[];return re.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(_,w){const T=w?new sw(w.sequenceNumber,new Co(Xp(w.readTime),new Ge(fc(w.documentKey)),w.largestBatchId)):sw.empty(),I=_.fields.map(([M,k])=>new cI(gi.fromServerFormat(M),k));return new lI(_.indexId,_.collectionGroup,I,T)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Nt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=II(e),s=xw(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>re.forEach(d,f=>s.put(w$(f.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return re.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?re.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),re.forEach(d,f=>this.wn(e,r,f).next(_=>{const w=this.mn(s,f);return _.isEqual(w)?re.resolve():this.gn(e,s,f,_,w)}))))})}yn(e,t,i,r){return Aw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Aw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Aw(e);let s=new In(ig);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,d)=>{s=s.add(new ng(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new In(ig);const r=this.an(t,e);if(null==r)return i;const s=KR(t);if(null!=s){const c=e.data.field(s.fieldPath);if(dw(c))for(const d of c.arrayValue.values||[])i=i.add(new ng(t.indexId,e.key,this.on(d),r))}else i=i.add(new ng(t.indexId,e.key,DI,r));return i}gn(e,t,i,r,s){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,f,_,w,T){const I=d.getIterator(),M=f.getIterator();let k=hy(I),L=hy(M);for(;k||L;){let G=!1,se=!1;if(k&&L){const ue=_(k,L);ue<0?se=!0:ue>0&&(G=!0)}else null!=k?se=!0:G=!0;G?(w(L),L=hy(M)):se?(T(k),k=hy(I)):(k=hy(I),L=hy(M))}}(r,s,ig,d=>{c.push(this.yn(e,t,i,d))},d=>{c.push(this.pn(e,t,i,d))}),re.waitFor(c)}_n(e){let t=1;return xw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>ig(c,d)).filter((c,d,f)=>!d||0!==ig(c,f[d-1]));const r=[];r.push(e);for(const c of i){const d=ig(c,e),f=ig(c,t);if(0===d)r[0]=e.Ke();else if(d>0&&f<0)r.push(c),r.push(c.Ke());else if(f>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,DI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,DI,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(S$)}getMinOffset(e,t){return re.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||st())).next(S$)}}function I$(n){return ur(n,"collectionParents")}function Aw(n){return ur(n,"indexEntries")}function II(n){return ur(n,"indexConfiguration")}function xw(n){return ur(n,"indexState")}function S$(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;YR(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Co(e.readTime,e.documentKey,t)}const A$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class js{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new js(e,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function x$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=i.Z({range:c},(w,T,I)=>(d++,I.delete()));s.push(f.next(()=>{Ct(1===d)}));const _=[];for(const w of t.mutations){const T=f$(e,w.key.path,t.batchId);s.push(r.delete(T)),_.push(w.key)}return re.waitFor(s).next(()=>_)}function SI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}js.DEFAULT_COLLECTION_PERCENTILE=10,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,js.DEFAULT=new js(41943040,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),js.DISABLED=new js(-1,0,0);class AI{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new AI(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oh(e).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Cy(e),c=Oh(e);return c.add({}).next(d=>{Ct("number"==typeof d);const f=new fP(d,t,i,r),_=function(I,M,k){const L=k.baseMutations.map(se=>Tw(I.re,se)),G=k.mutations.map(se=>Tw(I.re,se));return{userId:M,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:L,mutations:G}}(this.It,this.userId,f),w=[];let T=new In((I,M)=>Nt(I.canonicalString(),M.canonicalString()));for(const I of r){const M=f$(this.userId,I.key.path,d);T=T.add(I.key.path.popLast()),w.push(c.put(_)),w.push(s.put(M,ree))}return T.forEach(I=>{w.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.In[d]=f.keys()}),re.waitFor(w).next(()=>f)})}lookupMutationBatch(e,t){return Oh(e).get(t).next(i=>i?(Ct(i.userId===this.userId),eg(this.It,i)):null)}Tn(e,t){return this.In[t]?re.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Oh(e).Z({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(Ct(d.batchId>=i),s=eg(this.It,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Oh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oh(e).W("userMutationsIndex",t).next(i=>i.map(r=>eg(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=EI(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Cy(e).Z({range:r},(c,d,f)=>{const[_,w,T]=c,I=fc(w);if(_===this.userId&&t.path.isEqual(I))return Oh(e).get(T).next(M=>{if(!M)throw st();Ct(M.userId===this.userId),s.push(eg(this.It,M))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Nt);const r=[];return t.forEach(s=>{const c=EI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),f=Cy(e).Z({range:d},(_,w,T)=>{const[I,M,k]=_,L=fc(M);I===this.userId&&s.path.isEqual(L)?i=i.add(k):T.done()});r.push(f)}),re.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=EI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new In(Nt);return Cy(e).Z({range:c},(f,_,w)=>{const[T,I,M]=f,k=fc(I);T===this.userId&&i.isPrefixOf(k)?k.length===r&&(d=d.add(M)):w.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Oh(e).get(s).next(c=>{if(null===c)throw st();Ct(c.userId===this.userId),i.push(eg(this.It,c))}))}),re.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return x$(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Cy(e).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const f=fc(s[1]);r.push(f)}else d.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return M$(e,this.userId,t)}Rn(e){return N$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function M$(n,e,t){const i=EI(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Cy(n).Z({range:s,X:!0},(d,f,_)=>{const[w,T,I]=d;w===e&&T===r&&(c=!0),_.done()}).next(()=>c)}function Oh(n){return ur(n,"mutations")}function Cy(n){return ur(n,"documentMutations")}function N$(n){return ur(n,"mutationQueues")}class rg{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new rg(0)}static vn(){return new rg(-1)}}class Mee{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new rg(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Tt.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ty(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Ty(e).Z((c,d)=>{const f=Dw(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>re.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Ty(e).Z((i,r)=>{const s=Dw(r);t(s)})}Vn(e){return O$(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Sn(e,t){return O$(e).put("targetGlobalKey",t)}Dn(e,t){return Ty(e).put(v$(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Kp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Ty(e).Z({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const _=Dw(d);fw(t,_.target)&&(s=_,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=kh(e);return t.forEach(c=>{const d=ms(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),re.waitFor(r)}removeMatchingKeys(e,t,i){const r=kh(e);return re.forEach(t,s=>{const c=ms(s.path);return re.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=kh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=kh(e);let s=Rt();return r.Z({range:i,X:!0},(c,d,f)=>{const _=fc(c[1]),w=new Ge(_);s=s.add(w)}).next(()=>s)}containsKey(e,t){const i=ms(t.path),r=IDBKeyRange.bound([i],[iG(i)],!1,!0);let s=0;return kh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],f,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}se(e,t){return Ty(e).get(t).next(i=>i?Dw(i):null)}}function Ty(n){return ur(n,"targets")}function O$(n){return ur(n,"targetGlobal")}function kh(n){return ur(n,"targetDocuments")}function k$([n,e],[t,i]){const r=Nt(n,t);return 0===r?Nt(e,i):r}class Nee{constructor(e){this.xn=e,this.buffer=new In(k$),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();k$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Oee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Y.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Th(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ch(i)}yield t.Fn(3e5)}))}}class kee{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return re.resolve(Us.at);const i=new Nee(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(A$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A$):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,c,d,f,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(s=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(_=Date.now(),zR()<=Ls.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${T} documents in `+(_-f)+`ms\nTotal Duration: ${_-w}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class Ree{constructor(e,t){this.db=e,this.garbageCollector=new kee(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return xI(e,i)}removeReference(e,t,i){return xI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return xI(e,t)}Gn(e,t){return function(i,r){let s=!1;return N$(i).tt(c=>M$(i,c,r).next(d=>(d&&(s=!0),re.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(c,d)=>{if(d<=t){const f=this.Gn(e,c).next(_=>{if(!_)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Tt.min()),kh(e).delete([0,ms(c.path)])))});r.push(f)}}).next(()=>re.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return xI(e,t)}Kn(e,t){const i=kh(e);let r,s=Us.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:_})=>{0===c?(s!==Us.at&&t(new Ge(fc(r)),s),s=_,r=f):s=Us.at}).next(()=>{s!==Us.at&&t(new Ge(fc(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xI(n,e){return kh(n).put((i=n.currentSequenceNumber,{targetId:0,path:ms(e.path),sequenceNumber:i}));var i}class R${constructor(){this.changes=new Mh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pee{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sg(e).put(i)}removeEntry(e,t,i){return sg(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],CI(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Rn.newInvalidDocument(t);return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:Rn.newInvalidDocument(t)};return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},(r,s)=>{i={document:this.jn(t,s),size:SI(s)}}).next(()=>i)}getEntries(e,t){let i=Vs();return this.zn(e,t,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=Vs(),r=new mi(Ge.comparator);return this.zn(e,t,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,SI(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return re.resolve();let r=new In(B$);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Mw(r.first()),Mw(r.last())),c=r.getIterator();let d=c.getNext();return sg(e).Z({index:"documentKeyIndex",range:s},(f,_,w)=>{const T=Ge.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&B$(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?w.j(Mw(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),CI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Vs();for(const f of c){const _=this.jn(Ge.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Vs();const c=L$(t,i),d=L$(t,Co.max());return sg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,_,w)=>{const T=this.jn(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(T.key,T),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(e){return new Fee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return F$(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Qn(e,t){return F$(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function wee(n,e){let t;if(e.document)t=o$(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ge.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime);t=Rn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const i=Ge.fromSegments(e.unknownDocument.path),r=Xp(e.unknownDocument.version);t=Rn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new qn(i[0],i[1]);return Tt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Tt.min()))return i}return Rn.newInvalidDocument(e)}}function P$(n){return new Pee(n)}class Fee extends R${constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Mh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((s,c)=>Nt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const f=y$(this.Yn.It,c);r=r.add(s.path.popLast()),i+=SI(f)-d.size,t.push(this.Yn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=y$(this.Yn.It,c.convertToNoDocument(Tt.min()));t.push(this.Yn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),re.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function F$(n){return ur(n,"remoteDocumentGlobal")}function sg(n){return ur(n,"remoteDocumentsV14")}function Mw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function L$(n,e){const t=e.documentKey.path.toArray();return[n,CI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function B$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Nt(t[s],i[s]),r)return r;return r=Nt(t.length,i.length),r||(r=Nt(t[t.length-2],i[i.length-2]),r||Nt(t[t.length-1],i[i.length-1]))}class Lee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class U${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&mw(i.mutation,r,To.empty(),qn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Rt()){const r=dc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=_w();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=dc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Rt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=Vs();const c=yw(),d=yw();return t.forEach((f,_)=>{const w=i.get(_.key);r.has(_.key)&&(void 0===w||w.mutation instanceof Du)?s=s.insert(_.key,_):void 0!==w&&(c.set(_.key,w.mutation.getFieldMask()),mw(w.mutation,_,w.mutation.getFieldMask(),qn.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((_,w)=>c.set(_,w)),t.forEach((_,w)=>{var T;return d.set(_,new Lee(w,null!==(T=c.get(_))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=yw();let r=new mi((c,d)=>c-d),s=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const _=t.get(f);if(null===_)return;let w=i.get(f)||To.empty();w=d.applyToLocalView(_,w),i.set(f,w);const T=(r.get(d.batchId)||Rt()).add(f);r=r.insert(d.batchId,T)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),_=f.key,w=f.value,T=KG();w.forEach(I=>{if(!s.has(I)){const M=VG(t.get(I),i.get(I));null!==M&&T.set(I,M),s=s.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,T))}return re.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ge.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):re.resolve(dc());let d=-1,f=s;return c.next(_=>re.forEach(_,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),s.get(w)?re.resolve():this.getBaseDocument(e,w,T).next(I=>{f=f.insert(w,I)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,f,_,Rt())).next(w=>({batchId:d,changes:ZG(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(i=>{let r=_w();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=_w();return this.indexManager.getCollectionParents(e,r).next(c=>re.forEach(c,d=>{const f=(_=t,w=d.child(r),new Tu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(_=>{_.forEach((w,T)=>{s=s.insert(w,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const _=f.getKey();null===r.get(_)&&(r=r.insert(_,Rn.newInvalidDocument(_)))});let c=_w();return r.forEach((d,f)=>{const _=s.get(d);void 0!==_&&mw(_.mutation,f,To.empty(),qn.now()),oP(t,f)&&(c=c.insert(d,f))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):re.resolve(Rn.newInvalidDocument(t))}}class Bee{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return re.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:cr(i.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:mP(i.bundledQuery),readTime:cr(i.readTime)}),re.resolve();var i}}class Uee{constructor(){this.overlays=new mi(Ge.comparator),this.es=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=dc();return re.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=dc(),s=t.length+1,c=new Ge(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,_=f.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new mi((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let w=s.get(_.largestBatchId);null===w&&(w=dc(),s=s.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=dc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=r)););return re.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new gP(t,i));let s=this.es.get(t);void 0===s&&(s=Rt(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class vP{constructor(){this.ns=new In(dr.ss),this.rs=new In(dr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new dr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new dr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ge(new en([])),i=new dr(t,e),r=new dr(t,e+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new en([])),i=new dr(t,e),r=new dr(t,e+1);let s=Rt();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new dr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class dr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Nt(e._s,t._s)}static os(e,t){return Nt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class Vee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(dr.ss)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const c=new fP(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new dr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new dr(t,0),r=new dr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Nt);return t.forEach(r=>{const s=new dr(r,0),c=new dr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),re.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ge.isDocumentKey(s)||(s=s.child(""));const c=new dr(new Ge(s),0);let d=new In(Nt);return this.gs.forEachWhile(f=>{const _=f.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(f._s)),!0)},c),re.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return re.forEach(t.mutations,r=>{const s=new dr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new dr(t,0),r=this.gs.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return re.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jee{constructor(e){this.Es=e,this.docs=new mi(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let i=Vs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Rn.newInvalidDocument(r))}),re.resolve(i)}getAllFromCollection(e,t,i){let r=Vs();const s=new Ge(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||YR(sG(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return re.resolve(r)}getAllFromCollectionGroup(e,t,i,r){st()}As(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Hee(this)}getSize(e){return re.resolve(this.size)}}class Hee extends R${constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Gee{constructor(e){this.persistence=e,this.Rs=new Mh(t=>Kp(t),fw),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vP,this.targetCount=0,this.vs=rg.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),re.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Dn(t),re.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),re.waitFor(s).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Ps.containsKey(t))}}class V${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Us(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Gee(this),this.indexManager=new Aee,this.remoteDocumentCache=new jee(i=>this.referenceDelegate.xs(i)),this.It=new _$(t),this.Ns=new Bee(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Vee(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const r=new $ee(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return re.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class $ee extends aG{constructor(e){super(),this.currentSequenceNumber=e}}class MI{constructor(e){this.persistence=e,this.Fs=new vP,this.$s=null}static Bs(e){return new MI(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),re.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ls,i=>{const r=Ge.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,Tt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return re.or([()=>re.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Wee{constructor(e){this.It=e}$(e,t,i,r){const s=new uI("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h$,{unique:!0}),d.createObjectStore("documentMutations"),j$(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=re.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),j$(e)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,f){return f.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h$,{unique:!0});const w=f.store("mutations"),T=_.map(I=>w.put(I));return re.waitFor(T)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:mee});f.createIndex("collectionPathOverlayIndex",_ee,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",yee,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:see});f.createIndex("documentKeyIndex",oee),f.createIndex("collectionGroupIndex",aee)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:hee}).createIndex("sequenceNumberIndex",fee,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:pee}).createIndex("documentKeyIndex",gee,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=SI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>re.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>re.forEach(d,f=>{Ct(f.userId===s.userId);const _=eg(this.It,f);return x$(e,s.userId,_).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const f=new en(c),_=[0,ms(f)];s.push(t.get(_).next(w=>w?re.resolve():t.put({targetId:0,path:ms(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>re.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:dee});const i=t.store("collectionParents"),r=new yP,s=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return i.put({collectionId:d,parent:ms(f)})}};return t.store("remoteDocuments").Z({X:!0},(c,d)=>{const f=new en(c);return s(f.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,d,f],_)=>{const w=fc(d);return s(w.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=Dw(r),c=v$(this.It,s);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=t.store("remoteDocumentsV14"),f=(_=c,_.document?new Ge(en.fromString(_.document.name).popFirst(5)):_.noDocument?Ge.fromSegments(_.noDocument.path):_.unknownDocument?Ge.fromSegments(_.unknownDocument.path):st()).path.toArray();var _;const w={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>re.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=P$(this.It),s=new V$(MI.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(f=>{var _;let w=null!==(_=d.get(f.userId))&&void 0!==_?_:Rt();eg(this.It,f).keys().forEach(T=>w=w.add(T)),d.set(f.userId,w)}),re.forEach(d,(f,_)=>{const w=new lr(_),T=TI.oe(this.It,w),I=s.getIndexManager(w),M=AI.oe(w,this.It,I,s.referenceDelegate);return new U$(r,M,T,I).recalculateAndSaveOverlaysForDocumentKeys(new hP(t,Us.at),f).next()})})}}function j$(n){n.createObjectStore("targetDocuments",{keyPath:cee}).createIndex("documentTargetsIndex",uee,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lee,{unique:!0}),n.createObjectStore("targetGlobal")}const bP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wP{constructor(e,t,i,r,s,c,d,f,_,w,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=w,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=I=>Promise.resolve(),!wP.C())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ree(this,r),this.ii=t+"main",this.It=new _$(f),this.ri=new Ya(this.ii,this.Xs,new Wee(this.It)),this.Cs=new Mee(this.referenceDelegate,this.It),this.remoteDocumentCache=P$(this.It),this.Ns=new Eee,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&Ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,bP);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Us(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Y.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Y.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Y.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>NI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Th(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Nw(e).get("owner").next(t=>re.resolve(this.mi(t)))}gi(e){return NI(e).delete(this.clientId)}yi(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ur(i,"clientMetadata");return r.W().next(s=>{const c=e.Ii(s,18e5),d=s.filter(f=>-1===c.indexOf(f));return re.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?re.resolve(!0):Nw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,bP);return!1}}return!(!this.networkEnabled||!this.inForeground)||NI(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new hP(t,Us.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>NI(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return AI.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xee(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return TI.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Xs)?bee:14===c?m$:13===c?g$:12===c?vee:11===c?p$:void st();var c;let d;return this.ri.runTransaction(e,r,s,f=>(d=new hP(f,this.Ss?this.Ss.next():Us.at),"readwrite-primary"===t?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw Ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(le.FAILED_PRECONDITION,oG);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(e){return Nw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,bP)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nw(e).put("owner",t)}static C(){return Ya.C()}_i(e){const t=Nw(e);return t.get("owner").next(i=>this.mi(i)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ci(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,R.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ci("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ci("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nw(n){return ur(n,"owner")}function NI(n){return ur(n,"clientMetadata")}function EP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class CP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Rt(),r=Rt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new CP(e,t.fromCache,i,r)}}class H${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(AG(t))return re.resolve(null);let i=gs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=mI(t,null,"F"),i=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=Rt(...s);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const _=this.Fi(t,d);return this.$i(t,_,c,f.readTime)?this.ki(e,mI(t,null,"F")):this.Bi(e,_,t,f)}))})))}Oi(e,t,i,r){return AG(t)||r.isEqual(Tt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,i,r)?this.Mi(e,t):(zR()<=Ls.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sP(t)),this.Bi(e,c,t,rG(r,-1)))})}Fi(e,t){let i=new In(NG(e));return t.forEach((r,s)=>{oP(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return zR()<=Ls.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",sP(t)),this.Ni.getDocumentsMatchingQuery(e,t,Co.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class qee{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new mi(Nt),this.qi=new Mh(s=>Kp(s),fw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function G$(n,e,t,i){return new qee(n,e,t,i)}function $$(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,Y.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let f=Rt();for(const _ of r){c.push(_.batchId);for(const w of _.mutations)f=f.add(w.key)}for(const _ of s){d.push(_.batchId);for(const w of _.mutations)f=f.add(w.key)}return t.localDocuments.getDocuments(i,f).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),TP.apply(this,arguments)}function zee(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,f,_){const w=f.batch,T=w.keys();let I=re.resolve();return T.forEach(M=>{I=I.next(()=>_.getEntry(d,M)).next(k=>{const L=f.docVersions.get(M);Ct(null!==L),k.version.compareTo(L)<0&&(w.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),_.addEntry(k)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Rt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function W$(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Zee(n,e){const t=$e(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((w,T)=>{const I=r.get(T);if(!I)return;d.push(t.Cs.removeMatchingKeys(s,w.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(s,w.addedDocuments,T)));let M=I.withSequenceNumber(s.currentSequenceNumber);var k,L,G;e.targetMismatches.has(T)?M=M.withResumeToken($i.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,i)),r=r.insert(T,M),L=M,G=w,(0===(k=I).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,M))});let f=Vs(),_=Rt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(q$(s,c,e.documentUpdates).next(w=>{f=w.Wi,_=w.zi})),!i.isEqual(Tt.min())){const w=t.Cs.getLastRemoteSnapshotVersion(s).next(T=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(w)}return re.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,_)).next(()=>f)}).then(s=>(t.Ui=r,s))}function q$(n,e,t){let i=Rt(),r=Rt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=Vs();return t.forEach((d,f)=>{const _=s.get(d);f.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Tt.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ke("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),{Wi:c,zi:r}})}function Kee(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Dy(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,re.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Nh(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Iy(n,e,t){return DP.apply(this,arguments)}function DP(){return DP=(0,Y.Z)(function*(n,e,t){const i=$e(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Th(c))throw c;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),DP.apply(this,arguments)}function OI(n,e,t){const i=$e(n);let r=Tt.min(),s=Rt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,f,_){const w=$e(d),T=w.qi.get(_);return void 0!==T?re.resolve(w.Ui.get(T)):w.Cs.getTargetData(f,_)}(i,c,gs(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Tt.min(),t?s:Rt())).next(d=>(K$(i,MG(e),d),{documents:d,Hi:s})))}function z$(n,e){const t=$e(n),i=$e(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(c=>c?c.target:null))}function Z$(n,e){const t=$e(n),i=t.Ki.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,rG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(K$(t,e,r),r))}function K$(n,e,t){let i=n.Ki.get(e)||Tt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function IP(){return IP=(0,Y.Z)(function*(n,e,t,i){const r=$e(n);let s=Rt(),c=Vs();for(const _ of t){const w=e.Ji(_.metadata.name);_.document&&(s=s.add(w));const T=e.Yi(_);T.setReadTime(e.Xi(_.metadata.readTime)),c=c.insert(w,T)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield Dy(r,(_=i,gs(gy(en.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>q$(_,d,c).next(w=>(d.apply(_),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(_,f.targetId).next(()=>r.Cs.addMatchingKeys(_,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,w.Wi,w.zi)).next(()=>w.Wi)))}),IP.apply(this,arguments)}function Qee(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,Y.Z)(function*(n,e,t=Rt()){const i=yield Dy(n,gs(mP(e.bundledQuery))),r=$e(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=cr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken($i.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),SP.apply(this,arguments)}function Y$(n,e){return`firestore_clients_${n}_${e}`}function Q$(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function AP(n,e){return`firestore_targets_${n}_${e}`}class kI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new xe(r.error.code,r.error.message))),c?new kI(e,t,r.state,s):(Ci("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ow{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new xe(i.error.code,i.error.message))),s?new Ow(e,i.state,r):(Ci("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=bI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=fG(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new RI(e,s):(Ci("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xP{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xP(t.clientId,t.onlineState):(Ci("SharedClientState",`Failed to parse online state: ${e}`),null)}}class MP{constructor(){this.activeTargetIds=bI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NP{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new mi(Nt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=Y$(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new MP),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(Y$(e.persistenceKey,r));if(s){const c=RI.Zi(r,s);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(AP(this.persistenceKey,e));if(i){const r=Ow.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AP(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Y.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let c=Us.at;if(null!=s)try{const d=JSON.parse(s);Ct("number"==typeof d),c=d}catch(d){Ci("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Us.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new kI(this.currentUser,e,t,i),s=Q$(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=Q$(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=AP(this.persistenceKey,e),s=new Ow(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return RI.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return kI.Zi(new lr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Ow.Zi(r,t)}yr(e){return xP.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=bI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class J${constructor(){this.Lr=new MP,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new MP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jee{qr(e){}shutdown(){}}class X${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ete{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class tte extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const c=this.ho(e,t);ke("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(e,c,d,i).then(f=>(ke("RestConnection","Received: ",f),f),f=>{throw Hp("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",i),f})}_o(e,t,i,r,s,c){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+uy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${Xee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,c)=>{const d=new XJ;d.setWithCredentials(!0),d.listenOnce(YJ.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case qR.NO_ERROR:const _=d.getResponseJson();ke("Connection","XHR received:",JSON.stringify(_)),s(_);break;case qR.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),c(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case qR.HTTP_ERROR:const w=d.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',w,"response text:",d.getResponseText()),w>0){const T=d.getResponseJson().error;if(T&&T.status&&T.message){const I=function(M){const k=M.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN}(T.status);c(new xe(I,T.message))}else c(new xe(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new xe(le.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ZJ(),c=KJ(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new JJ({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const f=r.join("");ke("Connection","Creating WebChannel: "+f,d);const _=s.createWebChannel(f,d);let w=!1,T=!1;const I=new ete({Hr:k=>{T?ke("Connection","Not sending because WebChannel is closed:",k):(w||(ke("Connection","Opening WebChannel transport."),_.open(),w=!0),ke("Connection","WebChannel sending:",k),_.send(k))},Jr:()=>_.close()}),M=(k,L,G)=>{k.listen(L,se=>{try{G(se)}catch(ue){setTimeout(()=>{throw ue},0)}})};return M(_,aI.EventType.OPEN,()=>{T||ke("Connection","WebChannel transport opened.")}),M(_,aI.EventType.CLOSE,()=>{T||(T=!0,ke("Connection","WebChannel transport closed"),I.io())}),M(_,aI.EventType.ERROR,k=>{T||(T=!0,Hp("Connection","WebChannel transport errored:",k),I.io(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),M(_,aI.EventType.MESSAGE,k=>{var L;if(!T){const G=k.data[0];Ct(!!G);const se=G,ue=se.error||(null===(L=se[0])||void 0===L?void 0:L.error);if(ue){ke("Connection","WebChannel received error:",ue);const ge=ue.status;let ce=function(Pe){const it=Ri[Pe];if(void 0!==it)return qG(it)}(ge),ve=ue.message;void 0===ce&&(ce=le.INTERNAL,ve="Unknown error status: "+ge+" with message "+ue.message),T=!0,I.io(new xe(ce,ve)),_.close()}else ke("Connection","WebChannel received:",G),I.ro(G)}}),M(c,QJ.STAT_EVENT,k=>{k.stat===J3.PROXY?ke("Connection","Detected buffering proxy"):k.stat===J3.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.so()},0),I}}function e6(){return"undefined"!=typeof window?window:null}function PI(){return"undefined"!=typeof document?document:null}function kw(n){return new qX(n,!0)}class OP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class t6{constructor(e,t,i,r,s,c,d,f){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OP(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Y.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Y.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Y.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new xe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Y.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nte extends t6{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function KX(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:st(),r=e.targetChange.targetIds||[],s=function(f,_){return f.gt?(Ct(void 0===_||"string"==typeof _),$i.fromBase64String(_||"")):(Ct(void 0===_||_ instanceof Uint8Array),$i.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const _=void 0===f.code?le.UNKNOWN:qG(f.code);return new xe(_,f.message||"")}(c);t=new QG(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=hc(n,i.document.name),s=cr(i.document.updateTime),c=new Ir({mapValue:{fields:i.document.fields}}),d=Rn.newFoundDocument(r,s,c);t=new wI(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=hc(n,i.document),s=i.readTime?cr(i.readTime):Tt.min(),c=Rn.newNoDocument(r,s);t=new wI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=hc(n,i.document);t=new wI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return st();{const i=e.filter,s=new BX(i.count||0);t=new YG(i.targetId,s)}}var f;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Tt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Tt.min():s.readTime?cr(s.readTime):Tt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Cw(this.It),t.addTarget=function(r,s){let c;const d=s.target;return c=pI(d)?{documents:a$(r,d)}:{query:dP(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=t$(r,s.resumeToken):s.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=ww(r,s.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function QX(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Cw(this.It),t.removeTarget=e,this.Bo(t)}}class ite extends t6{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function YX(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let s=cr(i.updateTime?i.updateTime:r);return s.isEqual(Tt.min())&&(s=cr(r)),new PX(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=cr(e.commitTime);return this.listener.Zo(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Cw(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tw(this.It,i))};this.Bo(t)}}class rte extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new xe(le.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class ote{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ci(t),this.ou=!1):ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ate{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,Y.Z)(function*(){var f;Iu(c)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Y.Z)(function*(_){const w=$e(_);w._u.add(4),yield Sy(w),w.gu.set("Unknown"),w._u.delete(4),yield Rw(w)}),function(_){return f.apply(this,arguments)})(c))}))}),this.gu=new ote(i,r)}}function Rw(n){return RP.apply(this,arguments)}function RP(){return RP=(0,Y.Z)(function*(n){if(Iu(n))for(const e of n.wu)yield e(!0)}),RP.apply(this,arguments)}function Sy(n){return PP.apply(this,arguments)}function PP(){return PP=(0,Y.Z)(function*(n){for(const e of n.wu)yield e(!1)}),PP.apply(this,arguments)}function FI(n,e){const t=$e(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),BP(t)?LP(t):xy(t).ko()&&FP(t,e))}function Pw(n,e){const t=$e(n),i=xy(t);t.du.delete(e),i.ko()&&n6(t,e),0===t.du.size&&(i.ko()?i.Fo():Iu(t)&&t.gu.set("Unknown"))}function FP(n,e){n.yu.Mt(e.targetId),xy(n).zo(e)}function n6(n,e){n.yu.Mt(e),xy(n).Ho(e)}function LP(n){n.yu=new GX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),xy(n).start(),n.gu.uu()}function BP(n){return Iu(n)&&!xy(n).No()&&n.du.size>0}function Iu(n){return 0===$e(n)._u.size}function i6(n){n.yu=void 0}function lte(n){return UP.apply(this,arguments)}function UP(){return UP=(0,Y.Z)(function*(n){n.du.forEach((e,t)=>{FP(n,e)})}),UP.apply(this,arguments)}function cte(n,e){return VP.apply(this,arguments)}function VP(){return VP=(0,Y.Z)(function*(n,e){i6(n),BP(n)?(n.gu.hu(e),LP(n)):n.gu.set("Unknown")}),VP.apply(this,arguments)}function ute(n,e,t){return jP.apply(this,arguments)}function jP(){return jP=(0,Y.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof QG&&2===e.state&&e.cause)try{yield(i=(0,Y.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield LI(n,i)}else if(e instanceof wI?n.yu.Gt(e):e instanceof YG?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Tt.min()))try{const i=yield W$(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(f);_&&r.du.set(f,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken($i.EMPTY_BYTE_STRING,f.snapshotVersion)),n6(r,d);const _=new Nh(f.target,d,1,f.sequenceNumber);FP(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),yield LI(n,i)}var i}),jP.apply(this,arguments)}function LI(n,e,t){return HP.apply(this,arguments)}function HP(){return HP=(0,Y.Z)(function*(n,e,t){if(!Th(e))throw e;n._u.add(1),yield Sy(n),n.gu.set("Offline"),t||(t=()=>W$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Rw(n)}))}),HP.apply(this,arguments)}function r6(n,e){return e().catch(t=>LI(n,t,e))}function Ay(n){return GP.apply(this,arguments)}function GP(){return GP=(0,Y.Z)(function*(n){const e=$e(n),t=Rh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;dte(e);)try{const r=yield Kee(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,hte(e,r)}catch(r){yield LI(e,r)}s6(e)&&o6(e)}),GP.apply(this,arguments)}function dte(n){return Iu(n)&&n.fu.length<10}function hte(n,e){n.fu.push(e);const t=Rh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function s6(n){return Iu(n)&&!Rh(n).No()&&n.fu.length>0}function o6(n){Rh(n).start()}function fte(n){return $P.apply(this,arguments)}function $P(){return $P=(0,Y.Z)(function*(n){Rh(n).eu()}),$P.apply(this,arguments)}function pte(n){return WP.apply(this,arguments)}function WP(){return WP=(0,Y.Z)(function*(n){const e=Rh(n);for(const t of n.fu)e.Xo(t.mutations)}),WP.apply(this,arguments)}function gte(n,e,t){return qP.apply(this,arguments)}function qP(){return qP=(0,Y.Z)(function*(n,e,t){const i=n.fu.shift(),r=pP.from(i,e,t);yield r6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ay(n)}),qP.apply(this,arguments)}function mte(n,e){return zP.apply(this,arguments)}function zP(){return zP=(0,Y.Z)(function*(n,e){var t;e&&Rh(n).Yo&&(yield(t=(0,Y.Z)(function*(i,r){if(WG(s=r.code)&&s!==le.ABORTED){const c=i.fu.shift();Rh(i).Mo(),yield r6(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Ay(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),s6(n)&&o6(n)}),zP.apply(this,arguments)}function a6(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Y.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=Iu(t);t._u.add(3),yield Sy(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Rw(t)}),ZP.apply(this,arguments)}function KP(n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,Y.Z)(function*(n,e){const t=$e(n);e?(t._u.delete(2),yield Rw(t)):e||(t._u.add(2),yield Sy(t),t.gu.set("Unknown"))}),YP.apply(this,arguments)}function xy(n){return n.pu||(n.pu=function(e,t,i){const r=$e(e);return r.su(),new nte(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:lte.bind(null,n),Zr:cte.bind(null,n),Wo:ute.bind(null,n)}),n.wu.push(function(){var e=(0,Y.Z)(function*(t){t?(n.pu.Mo(),BP(n)?LP(n):n.gu.set("Unknown")):(yield n.pu.stop(),i6(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Rh(n){return n.Iu||(n.Iu=function(e,t,i){const r=$e(e);return r.su(),new ite(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:fte.bind(null,n),Zr:mte.bind(null,n),tu:pte.bind(null,n),Zo:gte.bind(null,n)}),n.wu.push(function(){var e=(0,Y.Z)(function*(t){t?(n.Iu.Mo(),yield Ay(n)):(yield n.Iu.stop(),n.fu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class QP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new QP(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),Th(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Ny{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ge.comparator(t.key,i.key):(t,i)=>Ge.comparator(t.key,i.key),this.keyedMap=_w(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new Ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ny;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class l6{constructor(){this.Tu=new mi(Ge.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Oy{constructor(e,t,i,r,s,c,d,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Oy(e,t,Ny.emptySet(t),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class _te{constructor(){this.Au=void 0,this.listeners=[]}}class yte{constructor(){this.queries=new Mh(e=>xG(e),pw),this.onlineState="Unknown",this.Ru=new Set}}function JP(n,e){return XP.apply(this,arguments)}function XP(){return XP=(0,Y.Z)(function*(n,e){const t=$e(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new _te),r)try{s.Au=yield t.onListen(i)}catch(c){const d=My(c,`Initialization of query '${sP(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&nF(t)}),XP.apply(this,arguments)}function eF(n,e){return tF.apply(this,arguments)}function tF(){return tF=(0,Y.Z)(function*(n,e){const t=$e(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),tF.apply(this,arguments)}function vte(n,e){const t=$e(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&nF(t)}function bte(n,e,t){const i=$e(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function nF(n){n.Ru.forEach(e=>{e.next()})}class iF{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Oy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Oy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class wte{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class c6{constructor(e){this.It=e}Ji(e){return hc(this.It,e)}Yi(e){return e.metadata.exists?o$(this.It,e.document,!1):Rn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return cr(e)}}class Ete{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u6(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=en.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new c6(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||Rt()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Y.Z)(function*(){const t=yield function Yee(n,e,t,i){return IP.apply(this,arguments)}(e.localStore,new c6(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield Qee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function u6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d6{constructor(e){this.key=e}}class h6{constructor(e){this.key=e}}class f6{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Rt(),this.mutatedKeys=Rt(),this.Gu=NG(e),this.Qu=new Ny(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new l6,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,T)=>{const I=r.get(w),M=oP(this.query,T)?T:null,k=!!I&&this.mutatedKeys.has(I.key),L=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let G=!1;I&&M?I.data.isEqual(M.data)?k!==L&&(i.track({type:3,doc:M}),G=!0):this.Hu(I,M)||(i.track({type:2,doc:M}),G=!0,(f&&this.Gu(M,f)>0||_&&this.Gu(M,_)<0)&&(d=!0)):!I&&M?(i.track({type:0,doc:M}),G=!0):I&&!M&&(i.track({type:1,doc:I}),G=!0,(f||_)&&(d=!0)),G&&(M?(c=c.add(M),s=L?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((_,w)=>function(T,I){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return M(T)-M(I)}(_.type,w.type)||this.Gu(_.doc,w.doc)),this.Ju(i);const c=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.qu;return this.qu=d,0!==s.length||f?{snapshot:new Oy(this.query,e.Qu,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new l6,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Rt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new h6(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new d6(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Rt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Oy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Cte{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Tte{constructor(e){this.key=e,this.nc=!1}}class Dte{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Mh(d=>xG(d),pw),this.rc=new Map,this.oc=new Set,this.uc=new mi(Ge.comparator),this.cc=new Map,this.ac=new vP,this.hc={},this.lc=new Map,this.fc=rg.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ite(n,e){return rF.apply(this,arguments)}function rF(){return rF=(0,Y.Z)(function*(n,e){const t=SF(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield Dy(t.localStore,gs(e));t.isPrimaryClient&&FI(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield sF(t,e,i,"current"===d,c.resumeToken)}return r}),rF.apply(this,arguments)}function sF(n,e,t,i,r){return oF.apply(this,arguments)}function oF(){return oF=(0,Y.Z)(function*(n,e,t,i,r){n._c=(T,I,M)=>{return(k=(0,Y.Z)(function*(L,G,se,ue){let ge=G.view.Wu(se);ge.$i&&(ge=yield OI(L.localStore,G.query,!1).then(({documents:Pe})=>G.view.Wu(Pe,ge)));const ce=ue&&ue.targetChanges.get(G.targetId),ve=G.view.applyChanges(ge,L.isPrimaryClient,ce);return mF(L,G.targetId,ve.Xu),ve.snapshot}),function(L,G,se,ue){return k.apply(this,arguments)})(n,T,I,M);var k};const s=yield OI(n.localStore,e,!0),c=new f6(e,s.Hi),d=c.Wu(s.documents),f=bw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,f);mF(n,t,_.Xu);const w=new Cte(e,t,c);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),oF.apply(this,arguments)}function Ste(n,e){return aF.apply(this,arguments)}function aF(){return aF=(0,Y.Z)(function*(n,e){const t=$e(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!pw(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Iy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Pw(t.remoteStore,i.targetId),ky(t,i.targetId)}).catch(Ch))):(ky(t,i.targetId),yield Iy(t.localStore,i.targetId,!0))}),aF.apply(this,arguments)}function lF(){return lF=(0,Y.Z)(function*(n,e,t){const i=AF(n);try{const r=yield function(s,c){const d=$e(s),f=qn.now(),_=c.reduce((I,M)=>I.add(M.key),Rt());let w,T;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=Vs(),k=Rt();return d.Gi.getEntries(I,_).next(L=>{M=L,M.forEach((G,se)=>{se.isValidDocument()||(k=k.add(G))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,M)).next(L=>{w=L;const G=[];for(const se of c){const ue=LX(se,w.get(se.key).overlayedDocument);null!=ue&&G.push(new Du(se.key,ue,bG(ue.value.mapValue),zn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,f,G,c)}).next(L=>{T=L;const G=L.applyToLocalDocumentSet(w,k);return d.documentOverlayCache.saveOverlays(I,L.batchId,G)})}).then(()=>({batchId:T.batchId,changes:ZG(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let f=s.hc[s.currentUser.toKey()];f||(f=new mi(Nt)),f=f.insert(c,d),s.hc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield Su(i,r.changes),yield Ay(i.remoteStore)}catch(r){const s=My(r,"Failed to persist write");t.reject(s)}}),lF.apply(this,arguments)}function p6(n,e){return cF.apply(this,arguments)}function cF(){return cF=(0,Y.Z)(function*(n,e){const t=$e(n);try{const i=yield Zee(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.cc.get(s);c&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Ct(c.nc):r.removedDocuments.size>0&&(Ct(c.nc),c.nc=!1))}),yield Su(t,i,e)}catch(i){yield Ch(i)}}),cF.apply(this,arguments)}function g6(n,e,t){const i=$e(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=$e(s);d.onlineState=c;let f=!1;d.queries.forEach((_,w)=>{for(const T of w.listeners)T.bu(c)&&(f=!0)}),f&&nF(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xte(n,e,t){return uF.apply(this,arguments)}function uF(){return uF=(0,Y.Z)(function*(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let c=new mi(Ge.comparator);c=c.insert(s,Rn.newNoDocument(s,Tt.min()));const d=Rt().add(s),f=new vw(Tt.min(),new Map,new In(Nt),c,d);yield p6(i,f),i.uc=i.uc.remove(s),i.cc.delete(e),_F(i)}else yield Iy(i.localStore,e,!1).then(()=>ky(i,e,t)).catch(Ch)}),uF.apply(this,arguments)}function Mte(n,e){return dF.apply(this,arguments)}function dF(){return dF=(0,Y.Z)(function*(n,e){const t=$e(n),i=e.batch.batchId;try{const r=yield zee(t.localStore,e);gF(t,i,null),pF(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Su(t,r)}catch(r){yield Ch(r)}}),dF.apply(this,arguments)}function Nte(n,e,t){return hF.apply(this,arguments)}function hF(){return hF=(0,Y.Z)(function*(n,e,t){const i=$e(n);try{const r=yield function(s,c){const d=$e(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return d.mutationQueue.lookupMutationBatch(f,c).next(w=>(Ct(null!==w),_=w.keys(),d.mutationQueue.removeMutationBatch(f,w))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>d.localDocuments.getDocuments(f,_))})}(i.localStore,e);gF(i,e,t),pF(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Su(i,r)}catch(r){yield Ch(r)}}),hF.apply(this,arguments)}function fF(){return fF=(0,Y.Z)(function*(n,e){const t=$e(n);Iu(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=$e(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=My(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),fF.apply(this,arguments)}function pF(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function gF(n,e,t){const i=$e(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||m6(n,i)})}function m6(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Pw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),_F(n))}function mF(n,e,t){for(const i of t)i instanceof d6?(n.ac.addReference(i.key,e),kte(n,i)):i instanceof h6?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||m6(n,i.key)):st()}function kte(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(ke("SyncEngine","New document in limbo: "+t),n.oc.add(i),_F(n))}function _F(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(en.fromString(e)),i=n.fc.next();n.cc.set(i,new Tte(t)),n.uc=n.uc.insert(t,i),FI(n.remoteStore,new Nh(gs(gy(t.path)),i,2,Us.at))}}function Su(n,e,t){return yF.apply(this,arguments)}function yF(){return yF=(0,Y.Z)(function*(n,e,t){const i=$e(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{c.push(i._c(f,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,(null==_?void 0:_.fromCache)?"not-current":"current"),_){r.push(_);const w=CP.Ci(f.targetId,_);s.push(w)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,Y.Z)(function*(f,_){const w=$e(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>re.forEach(_,I=>re.forEach(I.Si,M=>w.persistence.referenceDelegate.addReference(T,I.targetId,M)).next(()=>re.forEach(I.Di,M=>w.persistence.referenceDelegate.removeReference(T,I.targetId,M)))))}catch(T){if(!Th(T))throw T;ke("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const I=T.targetId;if(!T.fromCache){const M=w.Ui.get(I),L=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);w.Ui=w.Ui.insert(I,L)}}}),function(f,_){return d.apply(this,arguments)})(i.localStore,s))}),yF.apply(this,arguments)}function Rte(n,e){return vF.apply(this,arguments)}function vF(){return vF=(0,Y.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=yield $$(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(d=>{d.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Su(t,i.ji)}var r}),vF.apply(this,arguments)}function Pte(n,e){const t=$e(n),i=t.cc.get(e);if(i&&i.nc)return Rt().add(i.key);{let r=Rt();const s=t.rc.get(e);if(!s)return r;for(const c of s){const d=t.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function Fte(n,e){return bF.apply(this,arguments)}function bF(){return bF=(0,Y.Z)(function*(n,e){const t=$e(n),i=yield OI(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&mF(t,e.targetId,r.Xu),r}),bF.apply(this,arguments)}function Lte(n,e){return wF.apply(this,arguments)}function wF(){return wF=(0,Y.Z)(function*(n,e){const t=$e(n);return Z$(t.localStore,e).then(i=>Su(t,i))}),wF.apply(this,arguments)}function Bte(n,e,t,i){return EF.apply(this,arguments)}function EF(){return EF=(0,Y.Z)(function*(n,e,t,i){const r=$e(n),s=yield function(c,d){const f=$e(c),_=$e(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.Tn(w,d).next(T=>T?f.localDocuments.getDocuments(w,T):re.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Ay(r.remoteStore):"acknowledged"===t||"rejected"===t?(gF(r,e,i||null),pF(r,e),d=e,$e($e(r.localStore).mutationQueue).An(d)):st(),yield Su(r,s)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),EF.apply(this,arguments)}function CF(){return CF=(0,Y.Z)(function*(n,e){const t=$e(n);if(SF(t),AF(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield _6(t,i.toArray());t.dc=!0,yield KP(t.remoteStore,!0);for(const s of r)FI(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ky(t,c),Iy(t.localStore,c,!0))),Pw(t.remoteStore,c)}),yield r,yield _6(t,i),function(s){const c=$e(s);c.cc.forEach((d,f)=>{Pw(c.remoteStore,f)}),c.ac.fs(),c.cc=new Map,c.uc=new mi(Ge.comparator)}(t),t.dc=!1,yield KP(t.remoteStore,!1)}}),CF.apply(this,arguments)}function _6(n,e,t){return TF.apply(this,arguments)}function TF(){return TF=(0,Y.Z)(function*(n,e,t){const i=$e(n),r=[],s=[];for(const c of e){let d;const f=i.rc.get(c);if(f&&0!==f.length){d=yield Dy(i.localStore,gs(f[0]));for(const _ of f){const w=i.ic.get(_),T=yield Fte(i,w);T.snapshot&&s.push(T.snapshot)}}else{const _=yield z$(i.localStore,c);d=yield Dy(i.localStore,_),yield sF(i,y6(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),TF.apply(this,arguments)}function y6(n){return SG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vte(n){const e=$e(n);return $e($e(e.localStore).persistence).vi()}function jte(n,e,t,i){return DF.apply(this,arguments)}function DF(){return DF=(0,Y.Z)(function*(n,e,t,i){const r=$e(n);if(r.dc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Z$(r.localStore,MG(s[0])),d=vw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$i.EMPTY_BYTE_STRING);yield Su(r,c,d);break}case"rejected":yield Iy(r.localStore,e,!0),ky(r,e,i);break;default:st()}}),DF.apply(this,arguments)}function Hte(n,e,t){return IF.apply(this,arguments)}function IF(){return IF=(0,Y.Z)(function*(n,e,t){const i=SF(n);if(i.dc){for(const r of e){if(i.rc.has(r)){ke("SyncEngine","Adding an already active target "+r);continue}const s=yield z$(i.localStore,r),c=yield Dy(i.localStore,s);yield sF(i,y6(s),c.targetId,!1,c.resumeToken),FI(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield Iy(i.localStore,r,!1).then(()=>{Pw(i.remoteStore,r),ky(i,r)}).catch(Ch))}}),IF.apply(this,arguments)}function SF(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xte.bind(null,e),e.sc.Wo=vte.bind(null,e.eventManager),e.sc.wc=bte.bind(null,e.eventManager),e}function AF(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nte.bind(null,e),e}class v6{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Y.Z)(function*(){t.It=kw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return G$(this.persistence,new H$,e.initialUser,this.It)}yc(e){return new V$(MI.Bs,this.It)}gc(e){return new J$}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class b6 extends v6{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield AF(i.Ac.syncEngine),yield Ay(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return G$(this.persistence,new H$,e.initialUser,this.It)}Tc(e,t){return new Oee(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new gX(t,this.persistence);return new pX(e.asyncQueue,i)}yc(e){const t=EP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?js.withCacheSize(this.cacheSizeBytes):js.DEFAULT;return new wP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,e6(),PI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new J$}}class $te extends b6{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof NP&&(i.sharedClientState.syncEngine={Fr:Bte.bind(null,r),$r:jte.bind(null,r),Br:Hte.bind(null,r),vi:Vte.bind(null,r),Mr:Lte.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Y.Z)(function*(c){yield function Ute(n,e){return CF.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(e){const t=e6();if(!NP.C(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=EP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NP(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class xF{initialize(e,t){var i=this;return(0,Y.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>g6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Rte.bind(null,i.syncEngine),yield KP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yte}createDatastore(e){const t=kw(e.databaseInfo.databaseId),i=new tte(e.databaseInfo);return new rte(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>g6(this.syncEngine,d,0),c=X$.C()?new X$:new Jee,new ate(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,f,_){const w=new Dte(i,r,s,c,d,f);return _&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Y.Z)(function*(t){const i=$e(t);ke("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Sy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function MF(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w6(n,e,t,i){if(!0===e&&!0===i)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E6(n){if(!Ge.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C6(n){if(Ge.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function Qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BI(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function T6(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const D6=new Map;class I6{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,w6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new nX;switch(t.type){case"gapi":return new oX(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=D6.get(e);t&&(ke("ComponentProvider","Removing Datastore"),D6.delete(e),t.terminate())}(this),Promise.resolve()}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class $r{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class pc extends $r{constructor(e,t,i){super(e,t,gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ge(e))}withConverter(e){return new pc(this.firestore,e,this._path)}}function A6(n,e,...t){if(n=(0,R.m9)(n),MF("collection","path",e),n instanceof Fw){const i=en.fromString(e,...t);return C6(i),new pc(n,null,i)}{if(!(n instanceof jn||n instanceof pc))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return C6(i),new pc(n.firestore,null,i)}}function UI(n,e,...t){if(n=(0,R.m9)(n),1===arguments.length&&(e=nG.R()),MF("doc","path",e),n instanceof Fw){const i=en.fromString(e,...t);return E6(i),new jn(n,null,new Ge(i))}{if(!(n instanceof jn||n instanceof pc))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return E6(i),new jn(n.firestore,n instanceof pc?n.converter:null,new Ge(i))}}function x6(n,e){return n=(0,R.m9)(n),e=(0,R.m9)(e),(n instanceof jn||n instanceof pc)&&(e instanceof jn||e instanceof pc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function NF(n,e){return n=(0,R.m9)(n),e=(0,R.m9)(e),n instanceof $r&&e instanceof $r&&n.firestore===e.firestore&&pw(n._query,e._query)&&n.converter===e.converter}function M6(n,e=10240){let t=0;return{read:()=>(0,Y.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class VI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qte{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new wte(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Y.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Kte{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Y.Z)(function*(s,c){const d=$e(s),f=Cw(d.It)+"/documents",_={documents:c.map(M=>Ew(d.It,M))},w=yield d._o("BatchGetDocuments",f,_,c.length),T=new Map;w.forEach(M=>{const k=function ZX(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=hc(t,i.found.name),s=cr(i.found.updateTime),c=new Ir({mapValue:{fields:i.found.fields}});return Rn.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=hc(t,i.missing),s=cr(i.readTime);return Rn.newNoDocument(r,s)}(n,e):st()}(d.It,M);T.set(k.key.toString(),k)});const I=[];return c.forEach(M=>{const k=T.get(M.toString());Ct(!!k),I.push(k)}),I}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new by(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Ge.fromPath(r);e.mutations.push(new aP(s,e.precondition(s)))}),yield(i=(0,Y.Z)(function*(r,s){const c=$e(r),d=Cw(c.It)+"/documents",f={writes:s.map(_=>Tw(c.It,_))};yield c.ao("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Tt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?zn.exists(!1):zn.updateTime(t):zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zn.updateTime(t)}return zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yte{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new OP(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Y.Z)(function*(){const t=new Kte(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!lw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!WG(t)}return!1}}class Qte{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=lr.UNAUTHENTICATED,this.clientId=nG.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Y.Z)(function*(d){ke("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=My(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function N6(n,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Y.Z)(function*(s){i.isEqual(s)||(yield $$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),OF.apply(this,arguments)}function O6(n,e){return kF.apply(this,arguments)}function kF(){return kF=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield RF(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>a6(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>a6(e.remoteStore,s)),n.onlineComponents=e}),kF.apply(this,arguments)}function RF(n){return PF.apply(this,arguments)}function PF(){return PF=(0,Y.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield N6(n,new v6)),n.offlineComponents}),PF.apply(this,arguments)}function jI(n){return FF.apply(this,arguments)}function FF(){return FF=(0,Y.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield O6(n,new xF)),n.onlineComponents}),FF.apply(this,arguments)}function k6(n){return RF(n).then(e=>e.persistence)}function HI(n){return RF(n).then(e=>e.localStore)}function LF(n){return jI(n).then(e=>e.remoteStore)}function BF(n){return jI(n).then(e=>e.syncEngine)}function Ry(n){return UF.apply(this,arguments)}function UF(){return UF=(0,Y.Z)(function*(n){const e=yield jI(n),t=e.eventManager;return t.onListen=Ite.bind(null,e.syncEngine),t.onUnlisten=Ste.bind(null,e.syncEngine),t}),UF.apply(this,arguments)}function P6(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,c,d,f){const _=new VI({next:T=>{s.enqueueAndForget(()=>eF(r,w));const I=T.docs.has(c);!I&&T.fromCache?f.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&d&&"server"===d.source?f.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),w=new iF(gy(c.path),_,{includeMetadataChanges:!0,Nu:!0});return JP(r,w)}(yield Ry(n),n.asyncQueue,e,t,i)})),i.promise}function F6(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,c,d,f){const _=new VI({next:T=>{s.enqueueAndForget(()=>eF(r,w)),T.fromCache&&"server"===d.source?f.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),w=new iF(c,_,{includeMetadataChanges:!0,Nu:!0});return JP(r,w)}(yield Ry(n),n.asyncQueue,e,t,i)})),i.promise}class sne{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new OP(this,"async_queue_retry"),this.Wc=()=>{const t=PI();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=PI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=PI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Gi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Th(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Ci("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=QP.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Y.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function VF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class one{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends Fw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new sne,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L6(this),this._firestoreClient.terminate()}}function Ti(n){return n._firestoreClient||L6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function L6(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yX(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Qte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function B6(n,e,t){const i=new Gi;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield N6(n,t),yield O6(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===le.FAILED_PRECONDITION||c.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;Hp("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function U6(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc($i.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gc($i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class GI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const mne=/^__.*__$/;class _ne{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Du(e,this.data,this.fieldMask,t,this.fieldTransforms):new vy(e,this.data,t,this.fieldTransforms)}}class V6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function j6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class $I{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new $I(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return zI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(j6(this.sa)&&mne.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class yne{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||kw(e)}da(e,t,i,r=!1){return new $I({sa:e,methodName:t,fa:i,path:gi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=kw(n._databaseId);return new yne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WI(n,e,t,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,e,t,r);$F("Data must be an object, but it was:",c,i);const d=$6(i,c);let f,_;if(s.merge)f=new To(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const T of s.mergeFields){const I=WF(e,T,t);if(!c.contains(I))throw new xe(le.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);q6(w,I)||w.push(I)}f=new To(w),_=c.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,_=c.fieldTransforms;return new _ne(new Ir(d),f,_)}class Lw extends og{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lw}}function H6(n,e,t){return new $I({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class jF extends og{_toFieldTransform(e){return new gw(e.path,new _y)}isEqual(e){return e instanceof jF}}class vne extends og{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=H6(this,e,!0),i=this._a.map(s=>lg(s,t)),r=new Yp(i);return new gw(e.path,r)}isEqual(e){return this===e}}class bne extends og{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=H6(this,e,!0),i=this._a.map(s=>lg(s,t)),r=new Qp(i);return new gw(e.path,r)}isEqual(e){return this===e}}class wne extends og{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new yy(e.It,RG(e.It,this.wa));return new gw(e.path,t)}isEqual(e){return this===e}}function HF(n,e,t,i){const r=n.da(1,e,t);$F("Data must be an object, but it was:",r,i);const s=[],c=Ir.empty();Wp(i,(f,_)=>{const w=qI(e,f,t);_=(0,R.m9)(_);const T=r.ca(w);if(_ instanceof Lw)s.push(w);else{const I=lg(_,T);null!=I&&(s.push(w),c.set(w,I))}});const d=new To(s);return new V6(c,d,r.fieldTransforms)}function GF(n,e,t,i,r,s){const c=n.da(1,e,t),d=[WF(e,i,t)],f=[r];if(s.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)d.push(WF(e,s[I])),f.push(s[I+1]);const _=[],w=Ir.empty();for(let I=d.length-1;I>=0;--I)if(!q6(_,d[I])){const M=d[I];let k=f[I];k=(0,R.m9)(k);const L=c.ca(M);if(k instanceof Lw)_.push(M);else{const G=lg(k,L);null!=G&&(_.push(M),w.set(M,G))}}const T=new To(_);return new V6(w,T,c.fieldTransforms)}function G6(n,e,t,i=!1){return lg(t,n.da(i?4:3,e))}function lg(n,e){if(W6(n=(0,R.m9)(n)))return $F("Unsupported field value:",e,n),$6(n,e);if(n instanceof og)return function(t,i){if(!j6(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=lg(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,R.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RG(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=qn.fromDate(t);return{timestampValue:ww(i.It,r)}}if(t instanceof qn){const r=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ww(i.It,r)}}if(t instanceof GI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gc)return{bytesValue:t$(i.It,t._byteString)};if(t instanceof jn){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:lP(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${BI(t)}`)}(n,e)}function $6(n,e){const t={};return uG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wp(n,(i,r)=>{const s=lg(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function W6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof GI||n instanceof gc||n instanceof jn||n instanceof og)}function $F(n,e,t){if(!W6(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=BI(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function WF(n,e,t){if((e=(0,R.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return qI(n,e);throw zI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ene=new RegExp("[~\\*/\\[\\]]");function qI(n,e,t){if(e.search(Ene)>=0)throw zI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch(i){throw zI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zI(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new xe(le.INVALID_ARGUMENT,d+n+f)}function q6(n,e){return n.some(t=>t.isEqual(e))}class Bw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cne extends Bw{data(){return super.data()}}function ZI(n,e){return"string"==typeof e?qI(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}function z6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uw{}function Ph(n,...e){for(const t of e)n=t._apply(n);return n}class Tne extends Uw{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=ag(e.firestore),i=function(r,s,c,d,f,_,w){let T;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){X6(w,_);const M=[];for(const k of w)M.push(J6(d,r,k));T={arrayValue:{values:M}}}else T=J6(d,r,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||X6(w,_),T=G6(c,"where",w,"in"===_||"not-in"===_);const I=Sr.create(f,_,T);return function(M,k){if(k.dt()){const G=iP(M);if(null!==G&&!G.isEqual(k.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${G.toString()}' and '${k.field.toString()}'`);const se=nP(M);null!==se&&e5(0,k.field,se)}const L=function(G,se){for(const ue of G.filters)if(se.indexOf(ue.op)>=0)return ue.op;return null}(M,function(G){switch(G){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(null!==L)throw new xe(le.INVALID_ARGUMENT,L===k.op?`Invalid query. You cannot use more than one '${k.op.toString()}' filter.`:`Invalid query. You cannot use '${k.op.toString()}' filters with '${L.toString()}' filters.`)}(r,I),I}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $r(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Ine extends Uw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new py(r,s);return function(d,f){if(null===nP(d)){const _=iP(d);null!==_&&e5(0,_,f.field)}}(i,c),c}(e._query,this.ma,this.pa);return new $r(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Tu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Z6 extends Uw{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new $r(e.firestore,e.converter,mI(e._query,this.Ia,this.Ta))}}class K6 extends Uw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=Q6(e,this.type,this.Ea,this.Aa);return new $r(e.firestore,e.converter,(r=t,new Tu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Y6 extends Uw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=Q6(e,this.type,this.Ea,this.Aa);return new $r(e.firestore,e.converter,(r=t,new Tu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Q6(n,e,t,i){if(t[0]=(0,R.m9)(t[0]),t[0]instanceof Bw)return function(r,s,c,d,f){if(!d)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of my(r))if(w.field.isKeyField())_.push(Zp(s,d.key));else{const T=d.data.field(w.field);if(XR(T))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const I=w.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}_.push(T)}return new xh(_,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ag(n.firestore);return function(s,c,d,f,_,w){const T=s.explicitOrderBy;if(_.length>T.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let M=0;M<_.length;M++){const k=_[M];if(T[M].field.isKeyField()){if("string"!=typeof k)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof k}`);if(!rP(s)&&-1!==k.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${k}' contains a slash.`);const L=s.path.child(en.fromString(k));if(!Ge.isDocumentKey(L))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const G=new Ge(L);I.push(Zp(c,G))}else{const L=G6(d,f,k);I.push(L)}}return new xh(I,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function J6(n,e,t){if("string"==typeof(t=(0,R.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rP(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(en.fromString(t));if(!Ge.isDocumentKey(i))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zp(n,new Ge(i))}if(t instanceof jn)return Zp(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BI(t)}.`)}function X6(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function e5(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qF{convertValue(e,t="none"){switch(zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const i={};return Wp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new GI(_i(e.latitude),_i(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hG(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(aw(e));default:return null}}convertTimestamp(e){const t=Dh(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=en.fromString(e);Ct(u$(i));const r=new Ih(i.get(1),i.get(3)),s=new Ge(i.popFirst(5));return r.isEqual(t)||Ci(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function KI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Rne extends qF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends Bw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ZI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vw extends xu{data(e={}){return super.data(e)}}class Fh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vw(this._firestore,this._userDataWriter,i.key,i,new cg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Vw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Vw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:Pne(c.type),doc:d,oldIndex:f,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Pne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function t5(n,e){return n instanceof xu&&e instanceof xu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fh&&e instanceof Fh&&n._firestore===e._firestore&&NF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Lh extends qF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function n5(n,e,t){n=Qt(n,jn);const i=Qt(n.firestore,Hn),r=KI(n.converter,e,t);return Py(i,[WI(ag(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,zn.none())])}function i5(n,e,t,...i){n=Qt(n,jn);const r=Qt(n.firestore,Hn),s=ag(r);let c;return c="string"==typeof(e=(0,R.m9)(e))||e instanceof Au?GF(s,"updateDoc",n._key,e,t,i):HF(s,"updateDoc",n._key,e),Py(r,[c.toMutation(n._key,zn.exists(!0))])}function r5(n,...e){var t,i,r;n=(0,R.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||VF(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(VF(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let f,_,w;if(n instanceof jn)_=Qt(n.firestore,Hn),w=gy(n._key.path),f={next:T=>{e[c]&&e[c](zF(_,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Qt(n,$r);_=Qt(T.firestore,Hn),w=T._query;const I=new Lh(_);f={next:M=>{e[c]&&e[c](new Fh(_,I,T,M))},error:e[c+1],complete:e[c+2]},z6(n._query)}return function(T,I,M,k){const L=new VI(k),G=new iF(I,L,M);return T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return JP(yield Ry(T),G)})),()=>{L.bc(),T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return eF(yield Ry(T),G)}))}}(Ti(_),w,d,f)}function Py(n,e){return function(t,i){const r=new Gi;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function Ate(n,e,t){return lF.apply(this,arguments)}(yield BF(t),i,r)})),r.promise}(Ti(n),e)}function zF(n,e,t){const i=t.docs.get(e._key),r=new Lh(n);return new xu(n,r,e._key,i,new cg(t.hasPendingWrites,t.fromCache),e.converter)}const Wne={maxAttempts:5};class s5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,i){this._verifyNotCommitted();const r=Bh(e,this._firestore),s=KI(r.converter,t,i),c=WI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,zn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Bh(e,this._firestore);let c;return c="string"==typeof(t=(0,R.m9)(t))||t instanceof Au?GF(this._dataReader,"WriteBatch.update",s._key,t,i,r):HF(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new by(t._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(n,e){if((n=(0,R.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qne extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=Bh(e,this._firestore),i=new Rne(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return st();const s=r[0];if(s.isFoundDocument())return new Bw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Bw(this._firestore,i,t._key,null,t.converter);throw st()})}set(e,t,i){const r=Bh(e,this._firestore),s=KI(r.converter,t,i),c=WI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Bh(e,this._firestore);let c;return c="string"==typeof(t=(0,R.m9)(t))||t instanceof Au?GF(this._dataReader,"Transaction.update",s._key,t,i,r):HF(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bh(e,this._firestore),i=new Lh(this._firestore);return super.get(e).then(r=>new xu(this._firestore,i,t._key,r._document,new cg(!1,!1),t.converter))}}function ZF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function a5(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function l5(){if(!function mX(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){uy=Zt.SDK_VERSION,(0,Zt._registerComponent)(new rr.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new Hn(new rX(t.getProvider("auth-internal")),new aX(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(X3,"3.7.2",n),(0,Zt.registerVersion)(X3,"3.7.2","esm2017")}();class jw{constructor(e){this._delegate=e}static fromBase64String(e){return l5(),new jw(gc.fromBase64String(e))}static fromUint8Array(e){return a5(),new jw(gc.fromUint8Array(e))}toBase64(){return l5(),this._delegate.toBase64()}toUint8Array(){return a5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KF(n){return function tie(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class nie{enableIndexedDbPersistence(e,t){return function lne(n,e){U6(n=Qt(n,Hn));const t=Ti(n),i=n._freezeSettings(),r=new xF;return B6(t,r,new b6(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cne(n){U6(n=Qt(n,Hn));const e=Ti(n),t=n._freezeSettings(),i=new xF;return B6(e,i,new $te(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function une(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(t=(0,Y.Z)(function*(i){if(!Ya.C())return Promise.resolve();const r=i+"main";yield Ya.delete(r)}),function(i){return t.apply(this,arguments)})(EP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class c5{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ih||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function S6(n,e,t,i={}){var r;const s=(n=Qt(n,Fw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Hp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=lr.MOCK_USER;else{c=(0,R.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new lr(f)}n._authCredentials=new iX(new eG(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function hne(n){return function Jte(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield k6(n),t=yield LF(n);return e.setNetworkEnabled(!0),function(i){const r=$e(i);return r._u.delete(0),Rw(r)}(t)}))}(Ti(n=Qt(n,Hn)))}(this._delegate)}disableNetwork(){return function fne(n){return function Xte(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield k6(n),t=yield LF(n);return e.setNetworkEnabled(!1),(i=(0,Y.Z)(function*(r){const s=$e(r);s._u.add(0),yield Sy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ti(n=Qt(n,Hn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,w6("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dne(n){return function(e){const t=new Gi;return e.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function Ote(n,e){return fF.apply(this,arguments)}(yield BF(e),t)})),t.promise}(Ti(n=Qt(n,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function $ne(n,e){return function nne(n,e){const t=new VI(e);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Ry(n),r=t,$e(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Ry(n),r=t,void $e(i).Ru.delete(r);var i,r}))}}(Ti(n=Qt(n,Hn)),VF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fy(this,A6(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,UI(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function Wte(n,e){if(n=Qt(n,Fw),MF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(n,null,(t=e,new Tu(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zne(n,e,t){n=Qt(n,Hn);const i=Object.assign(Object.assign({},Wne),t);return function(r){if(r.maxAttempts<1)throw new xe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new Gi;return r.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const f=yield function R6(n){return jI(n).then(e=>e.datastore)}(r);new Yte(r.asyncQueue,f,c,s,d).run()})),d.promise}(Ti(n),r=>e(new qne(n,r)),i)}(this._delegate,t=>e(new u5(this,t)))}batch(){return Ti(this._delegate),new d5(new s5(this._delegate,e=>Py(this._delegate,e)))}loadBundle(e){return function pne(n,e){const t=Ti(n=Qt(n,Hn)),i=new one;return function ine(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,_){if(f instanceof Uint8Array)return M6(f,_);if(f instanceof ArrayBuffer)return M6(new Uint8Array(f),_);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new qte(f,c);var f}(t,kw(e));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function Gte(n,e,t){const i=$e(n);var r;(r=(0,Y.Z)(function*(s,c,d){try{const f=yield c.getMetadata();if(yield function(I,M){const k=$e(I),L=cr(M.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",G=>k.Ns.getBundleMetadata(G,M.id)).then(G=>!!G&&G.createTime.compareTo(L)>=0)}(s.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(I=f).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);d._updateProgress(u6(f));const _=new Ete(f,s.localStore,c.It);let w=yield c.mc();for(;w;){const I=yield _.Fu(w);I&&d._updateProgress(I),w=yield c.mc()}const T=yield _.complete();return yield Su(s,T.Lu,void 0),yield function(I,M){const k=$e(I);return k.persistence.runTransaction("Save bundle","readwrite",L=>k.Ns.saveBundleMetadata(L,M))}(s.localStore,f),d._completeWith(T.progress),Promise.resolve(T.Bu)}catch(f){return Hp("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var I}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield BF(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function gne(n,e){return function rne(n,e){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(t,i){const r=$e(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield HI(n),e)}))}(Ti(n=Qt(n,Hn)),e).then(t=>t?new $r(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class YI extends qF{constructor(e){super(),this.firestore=e}convertBytes(e){return new jw(new gc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class u5{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YI(e)}get(e){const t=dg(e);return this._delegate.get(t).then(i=>new Hw(this._firestore,new xu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=dg(e);return i?(ZF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=dg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class d5{constructor(e){this._delegate=e}set(e,t,i){const r=dg(e);return i?(ZF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=dg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ug{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Gw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ug.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new ug(e,new YI(e),t),r.set(t,s)),s}}ug.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new jn(t._delegate,i,new Ge(e)))}static forKey(e,t,i){return new ra(t,new jn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fy(this.firestore,A6(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,R.m9)(e))instanceof jn&&x6(this._delegate,e)}set(e,t){t=ZF("DocumentReference.set",t);try{return t?n5(this._delegate,e,t):n5(this._delegate,e)}catch(i){throw _s(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?i5(this._delegate,e):i5(this._delegate,e,t,...i)}catch(r){throw _s(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Hne(n){return Py(Qt(n.firestore,Hn),[new by(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=h5(e),i=f5(e,r=>new Hw(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return r5(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Lne(n){n=Qt(n,jn);const e=Qt(n.firestore,Hn),t=Ti(e),i=new Lh(e);return function ene(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,c){try{const d=yield function(f,_){const w=$e(f);return w.persistence.runTransaction("read document","readonly",T=>w.localDocuments.getDocument(T,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=My(d,`Failed to get document '${s} from cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield HI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new xu(e,i,n._key,r,new cg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Bne(n){n=Qt(n,jn);const e=Qt(n.firestore,Hn);return P6(Ti(e),n._key,{source:"server"}).then(t=>zF(e,n,t))}(this._delegate):function Fne(n){n=Qt(n,jn);const e=Qt(n.firestore,Hn);return P6(Ti(e),n._key).then(t=>zF(e,n,t))}(this._delegate),t.then(i=>new Hw(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function h5(n){for(const e of n)if("object"==typeof e&&!KF(e))return e;return{}}function f5(n,e){var t,i;let r;return r=KF(n[0])?n[0]:KF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return t5(this._delegate,e._delegate)}}class Gw extends Hw{data(e){const t=this._delegate.data(e);return function tX(n,e){n||st()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YI(e)}where(e,t,i){try{return new ys(this.firestore,Ph(this._delegate,function Dne(n,e,t){const i=e,r=ZI("where",n);return new Tne(r,i,t)}(e,t,i)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Ph(this._delegate,function Sne(n,e="asc"){const t=e,i=ZI("orderBy",n);return new Ine(i,t)}(e,t)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Ph(this._delegate,function Ane(n){return T6("limit",n),new Z6("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Ph(this._delegate,function xne(n){return T6("limitToLast",n),new Z6("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Ph(this._delegate,function Mne(...n){return new K6("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Ph(this._delegate,function Nne(...n){return new K6("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Ph(this._delegate,function One(...n){return new Y6("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Ph(this._delegate,function kne(...n){return new Y6("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return NF(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Vne(n){n=Qt(n,$r);const e=Qt(n.firestore,Hn),t=Ti(e),i=new Lh(e);return function tne(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,c){try{const d=yield OI(r,s,!0),f=new f6(s,d.Hi),_=f.Wu(d.documents),w=f.applyChanges(_,!1);c.resolve(w.snapshot)}catch(d){const f=My(d,`Failed to execute query '${s} against cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield HI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Fh(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function jne(n){n=Qt(n,$r);const e=Qt(n.firestore,Hn),t=Ti(e),i=new Lh(e);return F6(t,n._query,{source:"server"}).then(r=>new Fh(e,i,n,r))}(this._delegate):function Une(n){n=Qt(n,$r);const e=Qt(n.firestore,Hn),t=Ti(e),i=new Lh(e);return z6(n._query),F6(t,n._query).then(r=>new Fh(e,i,n,r))}(this._delegate),t.then(i=>new YF(this.firestore,new Fh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=h5(e),i=f5(e,r=>new YF(this.firestore,new Fh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return r5(this._delegate,t,i)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}class rie{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rie(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Gw(this._firestore,i))})}isEqual(e){return t5(this._delegate,e._delegate)}}class Fy extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?UI(this._delegate):UI(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function Gne(n,e){const t=Qt(n.firestore,Hn),i=UI(n),r=KI(n.converter,e);return Py(t,[WI(ag(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,zn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return x6(this._delegate,e._delegate)}withConverter(e){return new Fy(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function dg(n){return Qt(n,jn)}class QF{constructor(...e){this._delegate=new Au(...e)}static documentId(){return new QF(gi.keyField().canonicalString())}isEqual(e){return(e=(0,R.m9)(e))instanceof Au&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Kne(){return new jF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function Zne(){return new Lw("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function Yne(...n){return new vne("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function Qne(...n){return new bne("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function Jne(n){return new wne("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sie={Firestore:c5,GeoPoint:GI,Timestamp:qn,Blob:jw,Transaction:u5,WriteBatch:d5,DocumentReference:ra,DocumentSnapshot:Hw,Query:ys,QueryDocumentSnapshot:Gw,QuerySnapshot:YF,CollectionReference:Fy,FieldPath:QF,FieldValue:hg,setLogLevel:function iie(n){!function eX(n){Eh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function aie(n){(function oie(n,e){n.INTERNAL.registerComponent(new rr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},sie)))})(n,(e,t)=>new c5(e,t,new nie)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(Ak.Z);class lie extends hn.x{constructor(e=1/0,t=1/0,i=Bm){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}function p5(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,jm.B)({connector:()=>new lie(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function g5(n,e){return(0,Ji.m)(e)?Mn(()=>n,e):Mn(()=>n)}const JF=new l.OlP("angularfire2.auth.use-emulator"),XF=new l.OlP("angularfire2.auth.settings"),eL=new l.OlP("angularfire2.auth.tenant-id"),tL=new l.OlP("angularfire2.auth.langugage-code"),nL=new l.OlP("angularfire2.auth.use-device-language"),iL=new l.OlP("angularfire.auth.persistence"),rL=(n,e,t,i,r,s,c,d)=>(0,sr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))f.settings[_]=w;return d&&f.setPersistence(d),f},[t,i,r,s,c,d]);let sL=(()=>{class n{constructor(t,i,r,s,c,d,f,_,w,T,I,M){const k=new hn.x,L=ht(void 0).pipe((0,ey.Q)(c.outsideAngular),Mn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1277)))),(0,et.U)(()=>(0,sr.on)(t,s,i)),(0,et.U)(G=>rL(G,s,d,_,w,T,f,I)),p5({bufferSize:1,refCount:!1}));if(cl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{L.pipe(Il()).subscribe();const se=L.pipe(Mn(ce=>ce.getRedirectResult().then(ve=>ve,()=>null)),Ei,p5({bufferSize:1,refCount:!1})),ue=L.pipe(Mn(ce=>new on.y(ve=>({unsubscribe:s.runOutsideAngular(()=>ce.onAuthStateChanged(Pe=>ve.next(Pe),Pe=>ve.error(Pe),()=>ve.complete()))})))),ge=L.pipe(Mn(ce=>new on.y(ve=>({unsubscribe:s.runOutsideAngular(()=>ce.onIdTokenChanged(Pe=>ve.next(Pe),Pe=>ve.error(Pe),()=>ve.complete()))}))));this.authState=se.pipe(g5(ue),(0,vD.R)(c.outsideAngular),(0,ey.Q)(c.insideAngular)),this.user=se.pipe(g5(ge),(0,vD.R)(c.outsideAngular),(0,ey.Q)(c.insideAngular)),this.idToken=this.user.pipe(Mn(ce=>ce?(0,gn.D)(ce.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(Mn(ce=>ce?(0,gn.D)(ce.getIdTokenResult()):ht(null))),this.credential=(0,Ba.T)(se,k,this.authState.pipe(mn(ce=>!ce))).pipe((0,et.U)(ce=>(null==ce?void 0:ce.user)?ce:null),(0,vD.R)(c.outsideAngular),(0,ey.Q)(c.insideAngular))}return(0,sr.pX)(this,L,s,{spy:{apply:(G,se,ue)=>{(G.startsWith("signIn")||G.startsWith("createUser"))&&ue.then(ge=>k.next(ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sr.Dh),l.LFG(sr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bD),l.LFG(JF,8),l.LFG(XF,8),l.LFG(eL,8),l.LFG(tL,8),l.LFG(nL,8),l.LFG(iL,8),l.LFG(Ub,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function m5(n,e){return function uie(n,e=as){return new on.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function oL(n,e){return m5(n,e).pipe((0,et.U)(t=>({payload:t,type:"query"})))}function QI(n,e){return oL(n,e).pipe(Ss(void 0),oR(),(0,et.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const f=r.find(w=>w.doc.ref.isEqual(c.ref)),_=null==t?void 0:t.payload.docs.find(w=>w.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function _5(n,e,t){return QI(n,t).pipe(kr((i,r)=>function hie(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function fie(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return aL(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return aL(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aL(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Pd(),(0,et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function aL(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function y5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class v5{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=QI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,et.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ss(void 0),oR(),mn(([i,r])=>r.length>0||!i),(0,et.U)(([i,r])=>r),Ei)}auditTrail(e){return this.stateChanges(e).pipe(kr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y5(e);return _5(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ei)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ei)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Ei)}add(e){return this.ref.add(e)}doc(e){return new b5(this.ref.doc(e),this.afs)}}class b5{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=C5(i,t);return new v5(r,s,this.afs)}snapshotChanges(){return function die(n,e){return m5(n,e).pipe(Ss(void 0),oR(),(0,et.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ei)}valueChanges(e={}){return this.snapshotChanges().pipe((0,et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(Ei)}}class pie{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QI(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),mn(t=>t.length>0),Ei):QI(this.query,this.afs.schedulers.outsideAngular).pipe(Ei)}auditTrail(e){return this.stateChanges(e).pipe(kr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y5(e);return _5(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ei)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ei)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Ei)}}const w5=new l.OlP("angularfire2.enableFirestorePersistence"),E5=new l.OlP("angularfire2.firestore.persistenceSettings"),gie=new l.OlP("angularfire2.firestore.settings"),mie=new l.OlP("angularfire2.firestore.use-emulator");function C5(n,e=(t=>t)){return{query:e(n),ref:n}}let _ie=(()=>{class n{constructor(t,i,r,s,c,d,f,_,w,T,I,M,k,L,G,se,ue){this.schedulers=f;const ge=(0,sr.on)(t,d,i),ce=w;T&&rL(ge,d,I,k,L,G,M,se),[this.firestore,this.persistenceEnabled$]=(0,sr.cc)(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const ve=d.runOutsideAngular(()=>ge.firestore());if(s&&ve.settings(s),ce&&ve.useEmulator(...ce),r&&!cl(c)){const Pe=()=>{try{return(0,gn.D)(ve.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(it){return"undefined"!=typeof console&&console.warn(it),ht(!1)}};return[ve,d.runOutsideAngular(Pe)]}return[ve,ht(!1)]},[s,ce,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=C5(r,i),d=this.schedulers.ngZone.run(()=>s);return new v5(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new pie(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new b5(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sr.Dh),l.LFG(sr.xv,8),l.LFG(w5,8),l.LFG(gie,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bD),l.LFG(E5,8),l.LFG(mie,8),l.LFG(sL,8),l.LFG(JF,8),l.LFG(XF,8),l.LFG(eL,8),l.LFG(tL,8),l.LFG(nL,8),l.LFG(iL,8),l.LFG(Ub,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yie=(()=>{class n{constructor(){sR.Z.registerVersion("angularfire",bk.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:w5,useValue:!0},{provide:E5,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[_ie]}),n})();const T5="@firebase/database",D5="0.13.10";let lL="";function I5(n){lL=n}class bie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,R.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,R.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,R.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const S5=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bie(e)}}catch(e){}return new wie},fg=S5("localStorage"),cL=S5("sessionStorage"),Ly=new Ls.Yd("@firebase/database"),A5=function(){let n=1;return function(){return n++}}(),x5=function(n){const e=(0,R.dS)(n),t=new R.gQ;t.update(e);const i=t.digest();return R.US.encodeByteArray(i)},$w=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=$w.apply(null,i):e+="object"==typeof i?(0,R.Wl)(i):i,e+=" "}return e};let pg=null,M5=!0;const N5=function(n,e){(0,R.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ly.logLevel=Ls.in.VERBOSE,pg=Ly.log.bind(Ly),e&&cL.set("logging_enabled",!0)):"function"==typeof n?pg=n:(pg=null,cL.remove("logging_enabled"))},hr=function(...n){if(!0===M5&&(M5=!1,null===pg&&!0===cL.get("logging_enabled")&&N5(!0)),pg){const e=$w.apply(null,n);pg(e)}},Ww=function(n){return function(...e){hr(n,...e)}},uL=function(...n){const e="FIREBASE INTERNAL ERROR: "+$w(...n);Ly.error(e)},mc=function(...n){const e=`FIREBASE FATAL ERROR: ${$w(...n)}`;throw Ly.error(e),new Error(e)},Wr=function(...n){const e="FIREBASE WARNING: "+$w(...n);Ly.warn(e)},JI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mu="[MIN_NAME]",_c="[MAX_NAME]",gg=function(n,e){if(n===e)return 0;if(n===Mu||e===_c)return-1;if(e===Mu||n===_c)return 1;{const t=XI(n),i=XI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Tie=function(n,e){return n===e?0:n<e?-1:1},qw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,R.Wl)(e))},dL=function(n){if("object"!=typeof n||null===n)return(0,R.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,R.Wl)(e[i]),t+=":",t+=dL(n[e[i]]);return t+="}",t},O5=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const k5=function(n){(0,R.hu)(!JI(n),"Invalid JSON number");const i=1023;let r,s,c,d,f;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(f=52;f;f-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const w=_.join("");let T="";for(f=0;f<64;f+=8){let I=parseInt(w.substr(f,8),2).toString(16);1===I.length&&(I="0"+I),T+=I}return T.toLowerCase()},Aie=new RegExp("^-?(0*)\\d{1,10}$"),R5=-2147483648,hL=2147483647,XI=function(n){if(Aie.test(n)){const e=Number(n);if(e>=R5&&e<=hL)return e}return null},By=function(n){try{n()}catch(e){setTimeout(()=>{throw Wr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},zw=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Mie{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nie{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wr(e)}}let Zw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const U5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H5="websocket",G5="long_polling";class pL{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $5(n,e,t){let i;if((0,R.hu)("string"==typeof e,"typeof type must == string"),(0,R.hu)("object"==typeof t,"typeof params must == object"),e===H5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==G5)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Oie(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return fr(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class kie{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,R.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,R.p$)(this.counters_)}}const gL={},mL={};function _L(n){const e=n.toString();return gL[e]||(gL[e]=new kie),gL[e]}class Pie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&By(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Uh{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ww(e),this.stats_=_L(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),$5(t,G5,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Pie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,R.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yL((...s)=>{const[c,d,f,_,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&U5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uh.forceAllow_=!0}static forceDisallow(){Uh.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Uh.forceAllow_&&(Uh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,R.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,R.h$)(t),r=O5(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,R.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class yL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=A5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=yL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){hr("frame writing exception"),d.stack&&hr(d.stack),hr(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||hr("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,R.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{hr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let tS=null;"undefined"!=typeof MozWebSocket?tS=MozWebSocket:"undefined"!=typeof WebSocket&&(tS=WebSocket);let Uy=(()=>{class n{constructor(t,i,r,s,c,d,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ww(this.connId),this.stats_=_L(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&U5.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),$5(t,H5,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fg.set("previous_websocket_failure",!0);try{let r;if((0,R.Yr)()){r={headers:{"User-Agent":`Firebase/5/${lL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new tS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==tS&&!n.forceDisallow_}static previouslyFailed(){return fg.isInMemoryStorage||!0===fg.get("previous_websocket_failure")}markConnectionHealthy(){fg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,R.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,R.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=O5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Q5=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Uh,Uy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Uy&&Uy.isAvailable();let r=i&&!Uy.previouslyFailed();if(t.webSocketOnly&&(i||Wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Uy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class r8{constructor(e,t,i,r,s,c,d,f,_,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ww("c:"+this.id+":"),this.transportManager_=new Q5(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=zw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=qw("t",e),i=qw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=qw("t",e),i=qw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=qw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?uL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),zw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s8{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class o8{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,R.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,R.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class nS extends o8{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nS}getInitialEvent(e){return(0,R.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class yn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ln(){return new yn("")}function Ht(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vh(n){return n.pieces_.length-n.pieceNum_}function On(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yn(n.pieces_,e)}function bL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Kw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function c8(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yn(e,0)}function Zn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof yn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new yn(t,0)}function Gt(n){return n.pieceNum_>=n.pieces_.length}function vs(n,e){const t=Ht(n),i=Ht(e);if(null===t)return e;if(t===i)return vs(On(n),On(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ire(n,e){const t=Kw(n,0),i=Kw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=gg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function wL(n,e){if(Vh(n)!==Vh(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function sa(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Vh(n)>Vh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class rre{constructor(e,t){this.errorPrefix_=t,this.parts_=Kw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,R.ug)(this.parts_[i]);u8(this)}}function u8(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+mg(n))}function mg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class EL extends o8{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new EL}getInitialEvent(e){return(0,R.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Yw=1e3;let rS,_g=(()=>{class n extends s8{constructor(t,i,r,s,c,d,f,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Ww("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&nS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,R.Wl)(c)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new R.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,R.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,f=>{const _=f.d,w=f.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,R.r3)(t,"w")){const r=(0,R.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,R.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,R.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,R.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,R.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):uL("Unrecognized action received from server: "+(0,R.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Y.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,_=null;const w=function(){_?_.close():(f=!0,s())};t.realtime_={close:w,sendRequest:function(M){(0,R.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(M)}};const I=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[M,k]=yield Promise.all([t.authTokenProvider_.getToken(I),t.appCheckTokenProvider_.getToken(I)]);f?hr("getToken() completed but was canceled"):(hr("getToken() completed. Creating connection."),t.authToken_=M&&M.accessToken,t.appCheckToken_=k&&k.token,_=new r8(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,L=>{Wr(L+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(M){t.log_("Failed to get token: "+M),f||(t.repoInfo_.nodeAdmin&&Wr(M),w())}}})()}interrupt(t){hr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){hr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>dL(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new yn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){hr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){hr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,R.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+lL.replace(/\./g,"-")]=1,(0,R.uI)()?t["framework.cordova"]=1:(0,R.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=nS.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class qt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qt(e,t)}}class iS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new qt(Mu,e),r=new qt(Mu,t);return 0!==this.compare(i,r)}minPost(){return qt.MIN}}class f8 extends iS{static get __EMPTY_NODE(){return rS}static set __EMPTY_NODE(e){rS=e}compare(e,t){return gg(e.name,t.name)}isDefinedOn(e){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qt.MIN}maxPost(){return new qt(_c,rS)}makePost(e,t){return(0,R.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new qt(e,rS)}toString(){return".key"}}const yc=new f8;class sS{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let TL,Qa=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Hs.EMPTY_NODE,this.right=null!=c?c:Hs.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Hs.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Hs{constructor(e,t=Hs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Hs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qa.BLACK,null,null))}remove(e){return new Hs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qa.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sS(this.root_,null,this.comparator_,!0,e)}}function hre(n,e){return gg(n.name,e.name)}function CL(n,e){return gg(n,e)}Hs.EMPTY_NODE=new class dre{copy(e,t,i,r,s){return this}insert(e,t,i){return new Qa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const p8=function(n){return"number"==typeof n?"number:"+k5(n):"string:"+n},g8=function(n){if(n.isLeafNode()){const e=n.val();(0,R.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,R.r3)(e,".sv"),"Priority must be a string or number.")}else(0,R.hu)(n===TL||n.isEmpty(),"priority of unexpected type.");(0,R.hu)(n===TL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let m8,_8,y8,Vy=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),g8(this.priorityNode_)}static set __childrenNodeConstructor(t){m8=t}static get __childrenNodeConstructor(){return m8}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Gt(t)?this:".priority"===Ht(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ht(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,R.hu)(".priority"!==r||1===Vh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(On(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+p8(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?k5(this.value_):this.value_,this.lazyHash_=x5(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,R.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,R.hu)(s>=0,"Unknown leaf type: "+i),(0,R.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Pn=new class mre extends iS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?gg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qt.MIN}maxPost(){return new qt(_c,new Vy("[PRIORITY-POST]",y8))}makePost(e,t){const i=_8(e);return new qt(t,new Vy("[PRIORITY-POST]",i))}toString(){return".priority"}},_re=Math.log(2);class yre{constructor(e){this.count=parseInt(Math.log(e+1)/_re,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const oS=function(n,e,t,i){n.sort(e);const r=function(f,_){const w=_-f;let T,I;if(0===w)return null;if(1===w)return T=n[f],I=t?t(T):T,new Qa(I,T.node,Qa.BLACK,null,null);{const M=parseInt(w/2,10)+f,k=r(f,M),L=r(M+1,_);return T=n[M],I=t?t(T):T,new Qa(I,T.node,Qa.BLACK,k,L)}},d=function(f){let _=null,w=null,T=n.length;const I=function(k,L){const G=T-k,se=T;T-=k;const ue=r(G+1,se),ge=n[G],ce=t?t(ge):ge;M(new Qa(ce,ge.node,L,null,ue))},M=function(k){_?(_.left=k,_=k):(w=k,_=k)};for(let k=0;k<f.count;++k){const L=f.nextBitIsOne(),G=Math.pow(2,f.count-(k+1));L?I(G,Qa.BLACK):(I(G,Qa.BLACK),I(G,Qa.RED))}return w}(new yre(n.length));return new Hs(i||e,d)};let DL;const jy={};class Nu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,R.hu)(jy&&Pn,"ChildrenNode.ts has not been loaded"),DL=DL||new Nu({".priority":jy},{".priority":Pn}),DL}get(e){const t=(0,R.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Hs?t:null}hasIndex(e){return(0,R.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,R.hu)(e!==yc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(qt.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?oS(i,e.getCompare()):jy;const f=e.toString(),_=Object.assign({},this.indexSet_);_[f]=e;const w=Object.assign({},this.indexes_);return w[f]=d,new Nu(w,_)}addToIndexes(e,t){const i=(0,R.UI)(this.indexes_,(r,s)=>{const c=(0,R.DV)(this.indexSet_,s);if((0,R.hu)(c,"Missing index implementation for "+s),r===jy){if(c.isDefinedOn(e.node)){const d=[],f=t.getIterator(qt.Wrap);let _=f.getNext();for(;_;)_.name!==e.name&&d.push(_),_=f.getNext();return d.push(e),oS(d,c.getCompare())}return jy}{const d=t.get(e.name);let f=r;return d&&(f=f.remove(new qt(e.name,d))),f.insert(e,e.node)}});return new Nu(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,R.UI)(this.indexes_,r=>{if(r===jy)return r;{const s=t.get(e.name);return s?r.remove(new qt(e.name,s)):r}});return new Nu(i,this.indexSet_)}}let Qw,kt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g8(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qw||(Qw=new n(new Hs(CL),null,Nu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Qw:i}}getChild(t){const i=Ht(t);return null===i?this:this.getImmediateChild(i).getChild(On(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,R.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new qt(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?Qw:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=Ht(t);if(null===r)return i;{(0,R.hu)(".priority"!==Ht(t)||1===Vh(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(On(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Pn,(d,f)=>{i[d]=f.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+p8(this.getPriority().val())+":"),this.forEachChild(Pn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":x5(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new qt(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new qt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new qt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,qt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,qt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Jw?-1:0}withIndex(t){if(t===yc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===yc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Pn),s=i.getIterator(Pn);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===yc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Jw=new class vre extends kt{constructor(){super(new Hs(CL),kt.EMPTY_NODE,Nu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return kt.EMPTY_NODE}isEmpty(){return!1}};function ei(n,e=null){if(null===n)return kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,R.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Vy(n,ei(e));if(n instanceof Array){let t=kt.EMPTY_NODE;return fr(n,(i,r)=>{if((0,R.r3)(n,i)&&"."!==i.substring(0,1)){const s=ei(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ei(e))}{const t=[];let i=!1;if(fr(n,(c,d)=>{if("."!==c.substring(0,1)){const f=ei(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new qt(c,f)))}}),0===t.length)return kt.EMPTY_NODE;const s=oS(t,hre,c=>c.name,CL);if(i){const c=oS(t,Pn.getCompare());return new kt(s,ei(e),new Nu({".priority":c},{".priority":Pn}))}return new kt(s,ei(e),Nu.Default)}}Object.defineProperties(qt,{MIN:{value:new qt(Mu,kt.EMPTY_NODE)},MAX:{value:new qt(_c,Jw)}}),f8.__EMPTY_NODE=kt.EMPTY_NODE,Vy.__childrenNodeConstructor=kt,function fre(n){TL=n}(Jw),function gre(n){y8=n}(Jw),function pre(n){_8=n}(ei);class IL extends iS{constructor(e){super(),this.indexPath_=e,(0,R.hu)(!Gt(e)&&".priority"!==Ht(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?gg(e.name,t.name):s}makePost(e,t){const i=ei(e),r=kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new qt(t,r)}maxPost(){const e=kt.EMPTY_NODE.updateChild(this.indexPath_,Jw);return new qt(_c,e)}toString(){return Kw(this.indexPath_,0).join("/")}}const SL=new class wre extends iS{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?gg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qt.MIN}maxPost(){return qt.MAX}makePost(e,t){const i=ei(e);return new qt(t,i)}toString(){return".value"}},Hy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ere=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Hy.charAt(t%64),t=Math.floor(t/64);(0,R.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Hy.charAt(e[r]);return(0,R.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),w8=function(n){if(n===""+hL)return"-";const e=XI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return _c;const s=Hy.charAt(Hy.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},E8=function(n){if(n===""+R5)return Mu;const e=XI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+hL:(delete t[t.length-1],t.join("")):(t[t.length-1]=Hy.charAt(Hy.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function C8(n){return{type:"value",snapshotNode:n}}function Gy(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Xw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function eE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class xL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,R.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Xw(t,d)):(0,R.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Gy(t,i)):c.trackChildChange(eE(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Pn,(r,s)=>{t.hasChild(r)||i.trackChildChange(Xw(r,s))}),t.isLeafNode()||t.forEachChild(Pn,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(eE(r,s,c))}else i.trackChildChange(Gy(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?kt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tE{constructor(e){this.indexedFilter_=new xL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tE.getStartPost_(e),this.endPost_=tE.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new qt(t,i))||(i=kt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=kt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(kt.EMPTY_NODE);const s=this;return t.forEachChild(Pn,(c,d)=>{s.matches(new qt(c,d))||(r=r.updateImmediateChild(c,kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Tre{constructor(e){this.rangedFilter_=new tE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new qt(t,i))||(i=kt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=kt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,f;if(r=t.withIndex(this.index_),r=r.updatePriority(kt.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();d=(I,M)=>T(M,I)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,w=!1;for(;f.hasNext();){const T=f.getNext();!w&&d(s,T)<=0&&(w=!0),w&&_<this.limit_&&d(T,c)<=0?_++:r=r.updateImmediateChild(T.name,kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const T=this.index_.getCompare();c=(I,M)=>T(M,I)}else c=this.index_.getCompare();const d=e;(0,R.hu)(d.numChildren()===this.limit_,"");const f=new qt(t,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(f);if(d.hasChild(t)){const T=d.getImmediateChild(t);let I=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=I&&(I.name===t||d.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const M=null==I?1:c(I,f);if(w&&!i.isEmpty()&&M>=0)return null!=s&&s.trackChildChange(eE(t,i,T)),d.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(Xw(t,T));const L=d.updateImmediateChild(t,kt.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(null!=s&&s.trackChildChange(Gy(I.name,I.node)),L.updateImmediateChild(I.name,I.node)):L}}return i.isEmpty()?e:w&&c(_,f)>=0?(null!=s&&(s.trackChildChange(Xw(_.name,_.node)),s.trackChildChange(Gy(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(_.name,kt.EMPTY_NODE)):e}}class aS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_c}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const e=new aS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ML(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function NL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function lS(n,e){const t=n.copy();return t.index_=e,t}function T8(n){const e={};if(n.isDefault())return e;let t;return n.index_===Pn?t="$priority":n.index_===SL?t="$value":n.index_===yc?t="$key":((0,R.hu)(n.index_ instanceof IL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,R.Wl)(t),n.startSet_&&(e.startAt=(0,R.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,R.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,R.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,R.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function D8(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Pn&&(e.i=n.index_.toString()),e}class cS extends s8{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ww("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,R.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=cS.getListenId_(e,i),d={};this.listens_[c]=d;const f=T8(e._queryParams);this.restRequest_(s+".json",f,(_,w)=>{let T=w;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(s,T,!1,i),(0,R.DV)(this.listens_,c)===d){let I;I=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(I,null)}})}unlisten(e,t){const i=cS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=T8(e._queryParams),i=e._path.toString(),r=new R.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,R.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,R.cI)(d.responseText)}catch(_){Wr("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Wr("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Mre{constructor(){this.rootNode_=kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function uS(){return{value:null,children:new Map}}function $y(n,e,t){if(Gt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Ht(e);n.children.has(i)||n.children.set(i,uS()),$y(n.children.get(i),e=On(e),t)}}function OL(n,e){if(Gt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Pn,(i,r)=>{$y(n,new yn(i),r)}),OL(n,e)}}if(n.children.size>0){const t=Ht(e);return e=On(e),n.children.has(t)&&OL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function kL(n,e,t){null!==n.value?t(e,n.value):function Nre(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{kL(r,new yn(e.toString()+"/"+i),t)})}class Ore{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Pre{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ore(e);const i=1e4+2e4*Math.random();zw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;fr(e,(r,s)=>{s>0&&(0,R.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),zw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var oa=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(oa||(oa={})),oa))();function FL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class dS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=oa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Gt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yn(e));return new dS(ln(),t,this.revert)}}return(0,R.hu)(Ht(this.path)===e,"operationForChild called for unrelated child."),new dS(On(this.path),this.affectedTree,this.revert)}}class nE{constructor(e,t){this.source=e,this.path=t,this.type=oa.LISTEN_COMPLETE}operationForChild(e){return Gt(this.path)?new nE(this.source,ln()):new nE(this.source,On(this.path))}}class yg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=oa.OVERWRITE}operationForChild(e){return Gt(this.path)?new yg(this.source,ln(),this.snap.getImmediateChild(e)):new yg(this.source,On(this.path),this.snap)}}class Wy{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=oa.MERGE}operationForChild(e){if(Gt(this.path)){const t=this.children.subtree(new yn(e));return t.isEmpty()?null:t.value?new yg(this.source,ln(),t.value):new Wy(this.source,ln(),t)}return(0,R.hu)(Ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wy(this.source,On(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Gt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ht(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Fre{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iE(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,f)=>function Ure(n,e,t){if(null==e.childName||null==t.childName)throw(0,R.g5)("Should only compare child_ events.");const i=new qt(e.childName,e.snapshotNode),r=new qt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function Bre(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(f,n.query_))})})}function hS(n,e){return{eventCache:n,serverCache:e}}function rE(n,e,t,i){return hS(new jh(e,t,i),n.serverCache)}function S8(n,e,t,i){return hS(n.eventCache,new jh(e,t,i))}function fS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let LL;class Fn{constructor(e,t=(()=>(LL||(LL=new Hs(Tie)),LL))()){this.value=e,this.children=t}static fromObject(e){let t=new Fn(null);return fr(e,(i,r)=>{t=t.set(new yn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ln(),value:this.value};if(Gt(e))return null;{const i=Ht(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(On(e),t);return null!=s?{path:Zn(new yn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Gt(e))return this;{const t=Ht(e),i=this.children.get(t);return null!==i?i.subtree(On(e)):new Fn(null)}}set(e,t){if(Gt(e))return new Fn(t,this.children);{const i=Ht(e),s=(this.children.get(i)||new Fn(null)).set(On(e),t),c=this.children.insert(i,s);return new Fn(this.value,c)}}remove(e){if(Gt(e))return this.children.isEmpty()?new Fn(null):new Fn(null,this.children);{const t=Ht(e),i=this.children.get(t);if(i){const r=i.remove(On(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Fn(null):new Fn(this.value,s)}return this}}get(e){if(Gt(e))return this.value;{const t=Ht(e),i=this.children.get(t);return i?i.get(On(e)):null}}setTree(e,t){if(Gt(e))return t;{const i=Ht(e),s=(this.children.get(i)||new Fn(null)).setTree(On(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Fn(this.value,c)}}fold(e){return this.fold_(ln(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Zn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ln(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Gt(e))return null;{const s=Ht(e),c=this.children.get(s);return c?c.findOnPath_(On(e),Zn(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ln(),t)}foreachOnPath_(e,t,i){if(Gt(e))return this;{this.value&&i(t,this.value);const r=Ht(e),s=this.children.get(r);return s?s.foreachOnPath_(On(e),Zn(t,r),i):new Fn(null)}}foreach(e){this.foreach_(ln(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Zn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ja{constructor(e){this.writeTree_=e}static empty(){return new Ja(new Fn(null))}}function sE(n,e,t){if(Gt(e))return new Ja(new Fn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=vs(r,e);return s=s.updateChild(c,t),new Ja(n.writeTree_.set(r,s))}{const r=new Fn(t),s=n.writeTree_.setTree(e,r);return new Ja(s)}}}function BL(n,e,t){let i=n;return fr(t,(r,s)=>{i=sE(i,Zn(e,r),s)}),i}function A8(n,e){if(Gt(e))return Ja.empty();{const t=n.writeTree_.setTree(e,new Fn(null));return new Ja(t)}}function UL(n,e){return null!=bg(n,e)}function bg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(vs(t.path,e)):null}function x8(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Pn,(i,r)=>{e.push(new qt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new qt(i,r.value))}),e}function Hh(n,e){if(Gt(e))return n;{const t=bg(n,e);return new Ja(null!=t?new Fn(t):n.writeTree_.subtree(e))}}function VL(n){return n.writeTree_.isEmpty()}function qy(n,e){return M8(ln(),n.writeTree_,e)}function M8(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,R.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=M8(Zn(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Zn(n,".priority"),i)),t}}function pS(n,e){return P8(e,n)}function Wre(n,e){if(n.snap)return sa(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&sa(Zn(n.path,t),e))return!0;return!1}function zre(n){return n.visible}function N8(n,e,t){let i=Ja.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)sa(t,c)?(d=vs(t,c),i=sE(i,d,s.snap)):sa(c,t)&&(d=vs(c,t),i=sE(i,ln(),s.snap.getChild(d)));else{if(!s.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(sa(t,c))d=vs(t,c),i=BL(i,d,s.children);else if(sa(c,t))if(d=vs(c,t),Gt(d))i=BL(i,ln(),s.children);else{const f=(0,R.DV)(s.children,Ht(d));if(f){const _=f.getChild(On(d));i=sE(i,ln(),_)}}}}}return i}function O8(n,e,t,i,r){if(i||r){const s=Hh(n.visibleWrites,e);return!r&&VL(s)?t:r||null!=t||UL(s,ln())?qy(N8(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(sa(_.path,e)||sa(e,_.path))},e),t||kt.EMPTY_NODE):null}{const s=bg(n.visibleWrites,e);if(null!=s)return s;{const c=Hh(n.visibleWrites,e);return VL(c)?t:null!=t||UL(c,ln())?qy(c,t||kt.EMPTY_NODE):null}}}function gS(n,e,t,i){return O8(n.writeTree,n.treePath,e,t,i)}function jL(n,e){return function Zre(n,e,t){let i=kt.EMPTY_NODE;const r=bg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Pn,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Hh(n.visibleWrites,e);return t.forEachChild(Pn,(c,d)=>{const f=qy(Hh(s,new yn(c)),d);i=i.updateImmediateChild(c,f)}),x8(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return x8(Hh(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function k8(n,e,t,i){return function Kre(n,e,t,i,r){(0,R.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Zn(e,t);if(UL(n.visibleWrites,s))return null;{const c=Hh(n.visibleWrites,s);return VL(c)?r.getChild(t):qy(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function mS(n,e){return function Qre(n,e){return bg(n.visibleWrites,e)}(n.writeTree,Zn(n.treePath,e))}function HL(n,e,t){return function Yre(n,e,t,i){const r=Zn(e,t),s=bg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?qy(Hh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function R8(n,e){return P8(Zn(n.treePath,e),n.writeTree)}function P8(n,e){return{treePath:n,writeTree:e}}class tse{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,R.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,eE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Xw(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Gy(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,R.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,eE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const F8=new class nse{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class GL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new jh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return HL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vg(this.viewCache_),s=function ese(n,e,t,i,r,s){return function Jre(n,e,t,i,r,s,c){let d;const f=Hh(n.visibleWrites,e),_=bg(f,ln());if(null!=_)d=_;else{if(null==t)return[];d=qy(f,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],T=c.getCompare(),I=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let M=I.getNext();for(;M&&w.length<r;)0!==T(M,i)&&w.push(M),M=I.getNext();return w}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function L8(n,e,t,i,r,s){const c=e.eventCache;if(null!=mS(i,t))return e;{let d,f;if(Gt(t))if((0,R.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=vg(e),T=jL(i,_ instanceof kt?_:kt.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),T,s)}else{const _=gS(i,vg(e));d=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Ht(t);if(".priority"===_){(0,R.hu)(1===Vh(t),"Can't have a priority with additional path components");const w=c.getNode();f=e.serverCache.getNode();const T=k8(i,t,w,f);d=null!=T?n.filter.updatePriority(w,T):c.getNode()}else{const w=On(t);let T;if(c.isCompleteForChild(_)){f=e.serverCache.getNode();const I=k8(i,t,c.getNode(),f);T=null!=I?c.getNode().getImmediateChild(_).updateChild(w,I):c.getNode().getImmediateChild(_)}else T=HL(i,_,e.serverCache);d=null!=T?n.filter.updateChild(c.getNode(),_,T,w,r,s):c.getNode()}}return rE(e,d,c.isFullyInitialized()||Gt(t),n.filter.filtersNodes())}}function _S(n,e,t,i,r,s,c,d){const f=e.serverCache;let _;const w=c?n.filter:n.filter.getIndexedFilter();if(Gt(t))_=w.updateFullNode(f.getNode(),i,null);else if(w.filtersNodes()&&!f.isFiltered()){const M=f.getNode().updateChild(t,i);_=w.updateFullNode(f.getNode(),M,null)}else{const M=Ht(t);if(!f.isCompleteForPath(t)&&Vh(t)>1)return e;const k=On(t),G=f.getNode().getImmediateChild(M).updateChild(k,i);_=".priority"===M?w.updatePriority(f.getNode(),G):w.updateChild(f.getNode(),M,G,k,F8,null)}const T=S8(e,_,f.isFullyInitialized()||Gt(t),w.filtersNodes());return L8(n,T,t,r,new GL(r,T,s),d)}function $L(n,e,t,i,r,s,c){const d=e.eventCache;let f,_;const w=new GL(r,e,s);if(Gt(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=rE(e,_,!0,n.filter.filtersNodes());else{const T=Ht(t);if(".priority"===T)_=n.filter.updatePriority(e.eventCache.getNode(),i),f=rE(e,_,d.isFullyInitialized(),d.isFiltered());else{const I=On(t),M=d.getNode().getImmediateChild(T);let k;if(Gt(I))k=i;else{const L=w.getCompleteChild(T);k=null!=L?".priority"===bL(I)&&L.getChild(c8(I)).isEmpty()?L:L.updateChild(I,i):kt.EMPTY_NODE}f=M.equals(k)?e:rE(e,n.filter.updateChild(d.getNode(),T,k,I,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function B8(n,e){return n.eventCache.isCompleteForChild(e)}function U8(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function WL(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,f=e;_=Gt(t)?i:new Fn(null).setTree(t,i);const w=e.serverCache.getNode();return _.children.inorderTraversal((T,I)=>{if(w.hasChild(T)){const k=U8(0,e.serverCache.getNode().getImmediateChild(T),I);f=_S(n,f,new yn(T),k,r,s,c,d)}}),_.children.inorderTraversal((T,I)=>{const M=!e.serverCache.isCompleteForChild(T)&&null===I.value;if(!w.hasChild(T)&&!M){const L=U8(0,e.serverCache.getNode().getImmediateChild(T),I);f=_S(n,f,new yn(T),L,r,s,c,d)}}),f}class dse{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new xL(i.getIndex()),s=function Dre(n){return n.loadsAllData()?new xL(n.getIndex()):n.hasLimit()?new Tre(n):new tE(n)}(i);this.processor_=function ise(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,f=r.updateFullNode(kt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(kt.EMPTY_NODE,d.getNode(),null),w=new jh(f,c.isFullyInitialized(),r.filtersNodes()),T=new jh(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=hS(T,w),this.eventGenerator_=new Fre(this.query_)}get query(){return this.query_}}function pse(n,e){const t=vg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Gt(e)&&!t.getImmediateChild(Ht(e)).isEmpty())?t.getChild(e):null}function V8(n){return 0===n.eventRegistrations_.length}function j8(n,e,t){const i=[];if(t){(0,R.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function H8(n,e,t,i){e.type===oa.MERGE&&null!==e.source.queryId&&((0,R.hu)(vg(n.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(fS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function sse(n,e,t,i,r){const s=new tse;let c,d;if(t.type===oa.OVERWRITE){const _=t;_.source.fromUser?c=$L(n,e,_.path,_.snap,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!Gt(_.path),c=_S(n,e,_.path,_.snap,i,r,d,s))}else if(t.type===oa.MERGE){const _=t;_.source.fromUser?c=function ase(n,e,t,i,r,s,c){let d=e;return i.foreach((f,_)=>{const w=Zn(t,f);B8(e,Ht(w))&&(d=$L(n,d,w,_,r,s,c))}),i.foreach((f,_)=>{const w=Zn(t,f);B8(e,Ht(w))||(d=$L(n,d,w,_,r,s,c))}),d}(n,e,_.path,_.children,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),c=WL(n,e,_.path,_.children,i,r,d,s))}else if(t.type===oa.ACK_USER_WRITE){const _=t;c=_.revert?function use(n,e,t,i,r,s){let c;if(null!=mS(i,t))return e;{const d=new GL(i,e,r),f=e.eventCache.getNode();let _;if(Gt(t)||".priority"===Ht(t)){let w;if(e.serverCache.isFullyInitialized())w=gS(i,vg(e));else{const T=e.serverCache.getNode();(0,R.hu)(T instanceof kt,"serverChildren would be complete if leaf node"),w=jL(i,T)}_=n.filter.updateFullNode(f,w,s)}else{const w=Ht(t);let T=HL(i,w,e.serverCache);null==T&&e.serverCache.isCompleteForChild(w)&&(T=f.getImmediateChild(w)),_=null!=T?n.filter.updateChild(f,w,T,On(t),d,s):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(f,w,kt.EMPTY_NODE,On(t),d,s):f,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=gS(i,vg(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=mS(i,ln()),rE(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function lse(n,e,t,i,r,s,c){if(null!=mS(r,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(Gt(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return _S(n,e,t,f.getNode().getChild(t),r,s,d,c);if(Gt(t)){let _=new Fn(null);return f.getNode().forEachChild(yc,(w,T)=>{_=_.set(new yn(w),T)}),WL(n,e,t,_,r,s,d,c)}return e}{let _=new Fn(null);return i.foreach((w,T)=>{const I=Zn(t,w);f.isCompleteForPath(I)&&(_=_.set(w,f.getNode().getChild(I)))}),WL(n,e,t,_,r,s,d,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==oa.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+t.type);c=function cse(n,e,t,i,r){const s=e.serverCache;return L8(n,S8(e,s.getNode(),s.isFullyInitialized()||Gt(t),s.isFiltered()),t,i,F8,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function ose(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=fS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(C8(fS(e)))}}(e,c,f),{viewCache:c,changes:f}}(n.processor_,r,e,t,i);return function rse(n,e){(0,R.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,R.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,G8(n,s.changes,s.viewCache.eventCache.getNode(),null)}function G8(n,e,t,i){return function Lre(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Cre(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),iE(n,r,"child_removed",e,i,t),iE(n,r,"child_added",e,i,t),iE(n,r,"child_moved",s,i,t),iE(n,r,"child_changed",e,i,t),iE(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let yS,bS;class $8{constructor(){this.views=new Map}}function qL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,R.hu)(null!=s,"SyncTree gave us an op for an invalid query."),H8(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(H8(c,e,t,i));return s}}function W8(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=gS(t,r?i:null),f=!1;d?f=!0:i instanceof kt?(d=jL(t,i),f=!1):(d=kt.EMPTY_NODE,f=!1);const _=hS(new jh(d,f,!1),new jh(i,r,!1));return new dse(e,_)}return c}function q8(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Gh(n,e){let t=null;for(const i of n.views.values())t=t||pse(i,e);return t}function z8(n,e){return e._queryParams.loadsAllData()?vS(n):n.views.get(e._queryIdentifier)}function Z8(n,e){return null!=z8(n,e)}function $h(n){return null!=vS(n)}function vS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Tse=1;class K8{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fn(null),this.pendingWriteTree_=function Xre(){return{visibleWrites:Ja.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zL(n,e,t,i,r){return function jre(n,e,t,i,r){(0,R.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=sE(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?zy(n,new yg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Wh(n,e,t=!1){const i=function Gre(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function $re(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,R.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&Wre(d,i.path)?r=!1:sa(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function qre(n){n.visibleWrites=N8(n.allWrites,zre,ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=A8(n.visibleWrites,i.path):fr(i.children,f=>{n.visibleWrites=A8(n.visibleWrites,Zn(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new Fn(null);return null!=i.snap?s=s.set(ln(),!0):fr(i.children,c=>{s=s.set(new yn(c),!0)}),zy(n,new dS(i.path,s,t))}return[]}function oE(n,e,t){return zy(n,new yg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function wS(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===e._queryIdentifier||Z8(c,e))){const f=function wse(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=$h(n);if("default"===r)for(const[f,_]of n.views.entries())c=c.concat(j8(_,t,i)),V8(_)&&(n.views.delete(f),_.query._queryParams.loadsAllData()||s.push(_.query));else{const f=n.views.get(r);f&&(c=c.concat(j8(f,t,i)),V8(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!$h(n)&&s.push(new(function yse(){return(0,R.hu)(yS,"Reference.ts has not been loaded"),yS}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function vse(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=f.removed;if(d=f.events,!r){const w=-1!==_.findIndex(I=>I._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(s,(I,M)=>$h(M));if(w&&!T){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const M=function Nse(n){return n.fold((e,t,i)=>{if(t&&$h(t))return[vS(t)];{let r=[];return t&&(r=q8(t)),fr(i,(s,c)=>{r=r.concat(c)}),r}})}(I);for(let k=0;k<M.length;++k){const L=M[k],G=L.query,se=X8(n,L);n.listenProvider_.startListening(lE(G),aE(n,G),se.hashFn,se.onComplete)}}}!T&&_.length>0&&!i&&(w?n.listenProvider_.stopListening(lE(e),null):_.forEach(I=>{const M=n.queryToTagMap.get(CS(I));n.listenProvider_.stopListening(lE(I),M)}))}!function Ose(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=CS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function Y8(n,e,t,i){const r=KL(n,i);if(null!=r){const s=YL(r),c=s.path,d=s.queryId,f=vs(c,e);return QL(n,c,new yg(FL(d),f,t))}return[]}function ZL(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(I,M)=>{const k=vs(I,r);s=s||Gh(M,k),c=c||$h(M)});let f,d=n.syncPointTree_.get(r);d?(c=c||$h(d),s=s||Gh(d,ln())):(d=new $8,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?f=!0:(f=!1,s=kt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((M,k)=>{const L=Gh(k,ln());L&&(s=s.updateImmediateChild(M,L))}));const _=Z8(d,e);if(!_&&!e._queryParams.loadsAllData()){const I=CS(e);(0,R.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const M=function kse(){return Tse++}();n.queryToTagMap.set(I,M),n.tagToQueryMap.set(M,I)}let T=function bse(n,e,t,i,r,s){const c=W8(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function gse(n,e){n.eventRegistrations_.push(e)}(c,t),function mse(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Pn,(s,c)=>{i.push(Gy(s,c))}),t.isFullyInitialized()&&i.push(C8(t.getNode())),G8(n,i,t.getNode(),e)}(c,t)}(d,e,t,pS(n.pendingWriteTree_,r),s,f);if(!_&&!c&&!i){const I=z8(d,e);T=T.concat(function Rse(n,e,t){const i=e._path,r=aE(n,e),s=X8(n,t),c=n.listenProvider_.startListening(lE(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,R.hu)(!$h(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((_,w,T)=>{if(!Gt(_)&&w&&$h(w))return[vS(w).query];{let I=[];return w&&(I=I.concat(q8(w).map(M=>M.query))),fr(T,(M,k)=>{I=I.concat(k)}),I}});for(let _=0;_<f.length;++_){const w=f[_];n.listenProvider_.stopListening(lE(w),aE(n,w))}}return c}(n,e,I))}return T}function ES(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const _=Gh(d,vs(c,e));if(_)return _});return O8(r,e,s,t,!0)}function zy(n,e){return Q8(e,n.syncPointTree_,null,pS(n.pendingWriteTree_,ln()))}function Q8(n,e,t,i){if(Gt(n.path))return J8(n,e,t,i);{const r=e.get(ln());null==t&&null!=r&&(t=Gh(r,ln()));let s=[];const c=Ht(n.path),d=n.operationForChild(c),f=e.children.get(c);if(f&&d){const _=t?t.getImmediateChild(c):null,w=R8(i,c);s=s.concat(Q8(d,f,_,w))}return r&&(s=s.concat(qL(r,n,i,t))),s}}function J8(n,e,t,i){const r=e.get(ln());null==t&&null!=r&&(t=Gh(r,ln()));let s=[];return e.children.inorderTraversal((c,d)=>{const f=t?t.getImmediateChild(c):null,_=R8(i,c),w=n.operationForChild(c);w&&(s=s.concat(J8(w,d,f,_)))}),r&&(s=s.concat(qL(r,n,i,t))),s}function X8(n,e){const t=e.query,i=aE(n,t);return{hashFn:()=>(function hse(n){return n.viewCache_.serverCache.getNode()}(e)||kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ase(n,e,t){const i=KL(n,t);if(i){const r=YL(i),s=r.path,c=r.queryId,d=vs(s,e);return QL(n,s,new nE(FL(c),d))}return[]}(n,t._path,i):function Sse(n,e){return zy(n,new nE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Sie(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return wS(n,t,null,s)}}}}function aE(n,e){const t=CS(e);return n.queryToTagMap.get(t)}function CS(n){return n._path.toString()+"$"+n._queryIdentifier}function KL(n,e){return n.tagToQueryMap.get(e)}function YL(n){const e=n.indexOf("$");return(0,R.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yn(n.substr(0,e))}}function QL(n,e,t){const i=n.syncPointTree_.get(e);return(0,R.hu)(i,"Missing sync point for query tag that we're tracking"),qL(i,t,pS(n.pendingWriteTree_,e),null)}function lE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Cse(){return(0,R.hu)(bS,"Reference.ts has not been loaded"),bS}())(n._repo,n._path):n}class JL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new JL(t)}node(){return this.node_}}class XL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zn(this.path_,e);return new XL(this.syncTree_,t)}node(){return ES(this.syncTree_,this.path_)}}const e4=function(n,e,t){return n&&"object"==typeof n?((0,R.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Fse(n[".sv"],e,t):"object"==typeof n[".sv"]?Lse(n[".sv"],e):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Fse=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,R.hu)(!1,"Unexpected server value: "+n)},Lse=function(n,e,t){n.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,R.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,R.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},t4=function(n,e,t,i){return t2(e,new XL(t,n),i)},e2=function(n,e,t){return t2(n,new JL(e),t)};function t2(n,e,t){const i=n.getPriority().val(),r=e4(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=e4(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new Vy(d,ei(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Vy(r))),c.forEachChild(Pn,(d,f)=>{const _=t2(f,e.getImmediateChild(d),t);_!==f&&(s=s.updateImmediateChild(d,_))}),s}}class n2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function TS(n,e){let t=e instanceof yn?e:new yn(e),i=n,r=Ht(t);for(;null!==r;){const s=(0,R.DV)(i.node.children,r)||{children:{},childCount:0};i=new n2(r,i,s),t=On(t),r=Ht(t)}return i}function wg(n){return n.node.value}function r2(n,e){n.node.value=e,s2(n)}function n4(n){return n.node.childCount>0}function DS(n,e){fr(n.node.children,(t,i)=>{e(new n2(t,n,i))})}function r4(n,e,t,i){t&&!i&&e(n),DS(n,r=>{r4(r,e,!0,i)}),t&&i&&e(n)}function cE(n){return new yn(null===n.parent?n.name:cE(n.parent)+"/"+n.name)}function s2(n){null!==n.parent&&function Vse(n,e,t){const i=function Bse(n){return void 0===wg(n)&&!n4(n)}(t),r=(0,R.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,s2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,s2(n))}(n.parent,n.name,n)}const jse=/[\[\].#$\/\u0000-\u001F\u007F]/,Hse=/[\[\].#$\u0000-\u001F\u007F]/,o2=10485760,IS=function(n){return"string"==typeof n&&0!==n.length&&!jse.test(n)},s4=function(n){return"string"==typeof n&&0!==n.length&&!Hse.test(n)},uE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!JI(n)||n&&"object"==typeof n&&(0,R.r3)(n,".sv")},vc=function(n,e,t,i){i&&void 0===e||dE((0,R.gK)(n,"value"),e,t)},dE=function(n,e,t){const i=t instanceof yn?new rre(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+mg(i));if("function"==typeof e)throw new Error(n+"contains a function "+mg(i)+" with contents = "+e.toString());if(JI(e))throw new Error(n+"contains "+e.toString()+" "+mg(i));if("string"==typeof e&&e.length>o2/3&&(0,R.ug)(e)>o2)throw new Error(n+"contains a string greater than "+o2+" utf8 bytes "+mg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(fr(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!IS(c)))throw new Error(n+" contains an invalid key ("+c+") "+mg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sre(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,R.ug)(e),u8(n)})(i,c),dE(n,d,i),function ore(n){const e=n.parts_.pop();n.byteLength_-=(0,R.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+mg(i)+" in addition to actual children.")}},o4=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,R.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];fr(e,(c,d)=>{const f=new yn(c);if(dE(r,d,Zn(t,f)),".priority"===bL(f)&&!uE(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=Kw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!IS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ire);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&sa(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},a2=function(n,e,t){if(!t||void 0!==e){if(JI(e))throw new Error((0,R.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uE(e))throw new Error((0,R.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hE=function(n,e,t,i){if(!(i&&void 0===t||IS(t)))throw new Error((0,R.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},fE=function(n,e,t,i){if(!(i&&void 0===t||s4(t)))throw new Error((0,R.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aa=function(n,e){if(".info"===Ht(e))throw new Error(n+" failed = Can't modify data under /.info/")},a4=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!IS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),s4(n)}(t))throw new Error((0,R.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!wL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function l4(n,e,t){SS(n,t),c4(n,i=>wL(i,e))}function Do(n,e,t){SS(n,t),c4(n,i=>sa(i,e)||sa(e,i))}function c4(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(zse(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function zse(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();pg&&hr("event: "+t.toString()),By(i)}}}const u4="repo_interrupt";class Kse{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uS(),this.transactionQueueTree_=new n2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d4(n){const t=n.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:d4(n)})}function h4(n,e,t,i,r){n.dataUpdateCount++;const s=new yn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=(0,R.UI)(t,_=>ei(_));c=function xse(n,e,t,i){const r=KL(n,i);if(r){const s=YL(r),c=s.path,d=s.queryId,f=vs(c,e),_=Fn.fromObject(t);return QL(n,c,new Wy(FL(d),f,_))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=ei(t);c=Y8(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,R.UI)(t,_=>ei(_));c=function Ise(n,e,t){const i=Fn.fromObject(t);return zy(n,new Wy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=ei(t);c=oE(n.serverSyncTree_,s,f)}let d=s;c.length>0&&(d=Ky(n,s)),Do(n.eventQueue_,d,c)}function f4(n,e){l2(n,"connected",e),!1===e&&function eoe(n){Zy(n,"onDisconnectEvents");const e=pE(n),t=uS();kL(n.onDisconnect_,ln(),(r,s)=>{const c=t4(r,s,n.serverSyncTree_,e);$y(t,r,c)});let i=[];kL(t,ln(),(r,s)=>{i=i.concat(oE(n.serverSyncTree_,r,s));const c=h2(n,r);Ky(n,c)}),n.onDisconnect_=uS(),Do(n.eventQueue_,ln(),i)}(n)}function l2(n,e,t){const i=new yn("/.info/"+e),r=ei(t);n.infoData_.updateSnapshot(i,r);const s=oE(n.infoSyncTree_,i,r);Do(n.eventQueue_,i,s)}function AS(n){return n.nextWriteId_++}function c2(n,e,t,i,r){Zy(n,"set",{path:e.toString(),value:t,priority:i});const s=pE(n),c=ei(t,i),d=ES(n.serverSyncTree_,e),f=e2(c,d,s),_=AS(n),w=zL(n.serverSyncTree_,e,f,_,!0);SS(n.eventQueue_,w),n.server_.put(e.toString(),c.val(!0),(I,M)=>{const k="ok"===I;k||Wr("set at "+e+" failed: "+I);const L=Wh(n.serverSyncTree_,_,!k);Do(n.eventQueue_,e,L),qh(0,r,I,M)});const T=h2(n,e);Ky(n,T),Do(n.eventQueue_,T,[])}function toe(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&OL(n.onDisconnect_,e),qh(0,t,i,r)})}function p4(n,e,t,i){const r=ei(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&$y(n.onDisconnect_,e,r),qh(0,i,s,c)})}function u2(n,e,t){let i;i=".info"===Ht(e._path)?wS(n.infoSyncTree_,e,t):wS(n.serverSyncTree_,e,t),l4(n.eventQueue_,e._path,i)}function g4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(u4)}function Zy(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),hr(t,...e)}function qh(n,e,t,i){e&&By(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function d2(n,e,t){return ES(n.serverSyncTree_,e,t)||kt.EMPTY_NODE}function xS(n,e=n.transactionQueueTree_){if(e||MS(n,e),wg(e)){const t=_4(n,e);(0,R.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function aoe(n,e,t){const i=t.map(_=>_.currentWriteId),r=d2(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const w=t[_];(0,R.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=vs(e,w.path);s=s.updateChild(T,w.currentOutputSnapshotRaw)}const d=s.val(!0),f=e;n.server_.put(f.toString(),d,_=>{Zy(n,"transaction put response",{path:f.toString(),status:_});let w=[];if("ok"===_){const T=[];for(let I=0;I<t.length;I++)t[I].status=2,w=w.concat(Wh(n.serverSyncTree_,t[I].currentWriteId)),t[I].onComplete&&T.push(()=>t[I].onComplete(null,!0,t[I].currentOutputSnapshotResolved)),t[I].unwatcher();MS(n,TS(n.transactionQueueTree_,e)),xS(n,n.transactionQueueTree_),Do(n.eventQueue_,e,w);for(let I=0;I<T.length;I++)By(T[I])}else{if("datastale"===_)for(let T=0;T<t.length;T++)t[T].status=3===t[T].status?4:0;else{Wr("transaction at "+f.toString()+" failed: "+_);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=_}Ky(n,e)}},c)}(n,cE(e),t)}else n4(e)&&DS(e,t=>{xS(n,t)})}function Ky(n,e){const t=m4(n,e),i=cE(t);return function loe(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],_=vs(t,f.path);let T,w=!1;if((0,R.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)w=!0,T=f.abortReason,r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)w=!0,T="maxretry",r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0));else{const I=d2(n,f.path,c);f.currentInputSnapshot=I;const M=e[d].update(I.val());if(void 0!==M){dE("transaction failed: Data returned ",M,f.path);let k=ei(M);"object"==typeof M&&null!=M&&(0,R.r3)(M,".priority")||(k=k.updatePriority(I.getPriority()));const G=f.currentWriteId,se=pE(n),ue=e2(k,I,se);f.currentOutputSnapshotRaw=k,f.currentOutputSnapshotResolved=ue,f.currentWriteId=AS(n),c.splice(c.indexOf(G),1),r=r.concat(zL(n.serverSyncTree_,f.path,ue,f.currentWriteId,f.applyLocally)),r=r.concat(Wh(n.serverSyncTree_,G,!0))}else w=!0,T="nodata",r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0))}Do(n.eventQueue_,t,r),r=[],w&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===T?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(T),!1,null)))}MS(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)By(i[d]);xS(n,n.transactionQueueTree_)}(n,_4(n,t),i),i}function m4(n,e){let t,i=n.transactionQueueTree_;for(t=Ht(e);null!==t&&void 0===wg(i);)i=TS(i,t),t=Ht(e=On(e));return i}function _4(n,e){const t=[];return y4(n,e,t),t.sort((i,r)=>i.order-r.order),t}function y4(n,e,t){const i=wg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);DS(e,r=>{y4(n,r,t)})}function MS(n,e){const t=wg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,r2(e,t.length>0?t:void 0)}DS(e,i=>{MS(n,i)})}function h2(n,e){const t=cE(m4(n,e)),i=TS(n.transactionQueueTree_,e);return function Use(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{f2(n,r)}),f2(n,i),r4(i,r=>{f2(n,r)}),t}function f2(n,e){const t=wg(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,R.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,R.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Wh(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?r2(e,void 0):t.length=s+1,Do(n.eventQueue_,cE(e),r);for(let c=0;c<i.length;c++)By(i[c])}}const p2=function(n,e){const t=doe(n),i=t.namespace;return"firebase.com"===t.domain&&mc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&mc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new yn(t.pathString)}},doe=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",f=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),e=n.substring(0,Math.min(w,T)),w<T&&(r=function coe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(w,T)));const I=function uoe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,T)));_=e.indexOf(":"),_>=0?(c="https"===d||"wss"===d,f=parseInt(e.substring(_+1),10)):_=e.length;const M=e.slice(0,_);if("localhost"===M.toLowerCase())t="localhost";else if(M.split(".").length<=2)t=M;else{const k=e.indexOf(".");i=e.substring(0,k).toLowerCase(),t=e.substring(k+1),s=i}"ns"in I&&(s=I.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class v4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class b4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class g2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class w4{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new R.BH;return toe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){aa("OnDisconnect.remove",this._path);const e=new R.BH;return p4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){aa("OnDisconnect.set",this._path),vc("OnDisconnect.set",e,this._path,!1);const t=new R.BH;return p4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){aa("OnDisconnect.setWithPriority",this._path),vc("OnDisconnect.setWithPriority",e,this._path,!1),a2("OnDisconnect.setWithPriority",t,!1);const i=new R.BH;return function noe(n,e,t,i,r){const s=ei(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&$y(n.onDisconnect_,e,s),qh(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){aa("OnDisconnect.update",this._path),o4("OnDisconnect.update",e,this._path,!1);const t=new R.BH;return function ioe(n,e,t,i){if((0,R.xb)(t))return hr("onDisconnect().update() called with empty data.  Don't do anything."),void qh(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&fr(t,(c,d)=>{const f=ei(d);$y(n.onDisconnect_,Zn(e,c),f)}),qh(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Gs{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Gt(this._path)?null:bL(this._path)}get ref(){return new la(this._repo,this._path)}get _queryIdentifier(){const e=D8(this._queryParams),t=dL(e);return"{}"===t?"default":t}get _queryObject(){return D8(this._queryParams)}isEqual(e){if(!((e=(0,R.m9)(e))instanceof Gs))return!1;const t=this._repo===e._repo,i=wL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function nre(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function NS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function zh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===yc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Mu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==_c)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Pn){if(null!=e&&!uE(e)||null!=t&&!uE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(n.getIndex()instanceof IL||n.getIndex()===SL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function OS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class la extends Gs{constructor(e,t){super(e,t,new aS,!1)}get parent(){const e=c8(this._path);return null===e?null:new la(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Eg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new yn(e),i=Cg(this.ref,e);return new Eg(this._node.getChild(t),i,Pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Eg(r,Cg(this.ref,i),Pn)))}hasChild(e){const t=new yn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function E4(n,e){return(n=(0,R.m9)(n))._checkNotDeleted("ref"),void 0!==e?Cg(n._root,e):n._root}function C4(n,e){(n=(0,R.m9)(n))._checkNotDeleted("refFromURL");const t=p2(e,n._repo.repoInfo_.nodeAdmin);a4("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&mc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),E4(n,t.path.toString())}function Cg(n,e){return null===Ht((n=(0,R.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fE("child","path",t,!1)):fE("child","path",e,!1),new la(n._repo,Zn(n._path,e));var t}function m2(n,e){n=(0,R.m9)(n),aa("set",n._path),vc("set",e,n._path,!1);const t=new R.BH;return c2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function moe(n,e){o4("update",e,n._path,!1);const t=new R.BH;return function Xse(n,e,t,i){Zy(n,"update",{path:e.toString(),value:t});let r=!0;const s=pE(n),c={};if(fr(t,(d,f)=>{r=!1,c[d]=t4(Zn(e,d),ei(f),n.serverSyncTree_,s)}),r)hr("update() called with empty data.  Don't do anything."),qh(0,i,"ok",void 0);else{const d=AS(n),f=function Dse(n,e,t,i){!function Hre(n,e,t,i){(0,R.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=BL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Fn.fromObject(t);return zy(n,new Wy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);SS(n.eventQueue_,f),n.server_.merge(e.toString(),t,(_,w)=>{const T="ok"===_;T||Wr("update at "+e+" failed: "+_);const I=Wh(n.serverSyncTree_,d,!T),M=I.length>0?Ky(n,e):e;Do(n.eventQueue_,M,I),qh(0,i,_,w)}),fr(t,_=>{const w=h2(n,Zn(e,_));Ky(n,w)}),Do(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function _oe(n){n=(0,R.m9)(n);const e=new g2(()=>{}),t=new gE(e);return function Jse(n,e,t){const i=function Mse(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,w)=>{const T=vs(_,t);i=i||Gh(w,T)});let r=n.syncPointTree_.get(t);r?i=i||Gh(r,ln()):(r=new $8,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new jh(i,!0,!1):null;return function fse(n){return fS(n.viewCache_)}(W8(r,e,pS(n.pendingWriteTree_,e._path),s?c.getNode():kt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=ei(r).withIndex(e._queryParams.getIndex());let c;if(ZL(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=oE(n.serverSyncTree_,e._path,s);else{const d=aE(n.serverSyncTree_,e);c=Y8(n.serverSyncTree_,e._path,s,d)}return Do(n.eventQueue_,e._path,c),wS(n.serverSyncTree_,e,t,null,!0),s},r=>(Zy(n,"get for query "+(0,R.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Eg(i,new la(n._repo,n._path),n._queryParams.getIndex()))}class gE{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new v4("value",this,new Eg(e.snapshotNode,new la(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b4(this,e,t):null}matches(e){return e instanceof gE&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class kS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b4(this,e,t):null}createEvent(e,t){(0,R.hu)(null!=e.childName,"Child events should have a childName.");const i=Cg(new la(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new v4(e.type,this,new Eg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof kS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function mE(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=t,_=(w,T)=>{u2(n._repo,n,d),f(w,T)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new g2(t,s||void 0),d="value"===e?new gE(c):new kS(e,c);return function roe(n,e,t){let i;i=".info"===Ht(e._path)?ZL(n.infoSyncTree_,e,t):ZL(n.serverSyncTree_,e,t),l4(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>u2(n._repo,n,d)}function _2(n,e,t,i){return mE(n,"value",e,t,i)}function T4(n,e,t,i){return mE(n,"child_added",e,t,i)}function D4(n,e,t,i){return mE(n,"child_changed",e,t,i)}function I4(n,e,t,i){return mE(n,"child_moved",e,t,i)}function S4(n,e,t,i){return mE(n,"child_removed",e,t,i)}function A4(n,e,t){let i=null;const r=t?new g2(t):null;"value"===e?i=new gE(r):e&&(i=new kS(e,r)),u2(n._repo,n,i)}class Xa{}class x4 extends Xa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){vc("endAt",this._value,e._path,!0);const t=NL(e._queryParams,this._value,this._key);if(OS(t),zh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gs(e._repo,e._path,t,e._orderByCalled)}}class voe extends Xa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){vc("endBefore",this._value,e._path,!1);const t=function xre(n,e,t){let i,r;return n.index_===yc?("string"==typeof e&&(e=E8(e)),r=NL(n,e,t)):(i=null==t?Mu:E8(t),r=NL(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(OS(t),zh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gs(e._repo,e._path,t,e._orderByCalled)}}class M4 extends Xa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){vc("startAt",this._value,e._path,!0);const t=ML(e._queryParams,this._value,this._key);if(OS(t),zh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gs(e._repo,e._path,t,e._orderByCalled)}}class Eoe extends Xa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){vc("startAfter",this._value,e._path,!1);const t=function Are(n,e,t){let i;if(n.index_===yc)"string"==typeof e&&(e=w8(e)),i=ML(n,e,t);else{let r;r=null==t?_c:w8(t),i=ML(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(OS(t),zh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gs(e._repo,e._path,t,e._orderByCalled)}}class Toe extends Xa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gs(e._repo,e._path,function Ire(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Ioe extends Xa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gs(e._repo,e._path,function Sre(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Aoe extends Xa{constructor(e){super(),this._path=e}_apply(e){NS(e,"orderByChild");const t=new yn(this._path);if(Gt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new IL(t),r=lS(e._queryParams,i);return zh(r),new Gs(e._repo,e._path,r,!0)}}class Moe extends Xa{_apply(e){NS(e,"orderByKey");const t=lS(e._queryParams,yc);return zh(t),new Gs(e._repo,e._path,t,!0)}}class Ooe extends Xa{_apply(e){NS(e,"orderByPriority");const t=lS(e._queryParams,Pn);return zh(t),new Gs(e._repo,e._path,t,!0)}}class Roe extends Xa{_apply(e){NS(e,"orderByValue");const t=lS(e._queryParams,SL);return zh(t),new Gs(e._repo,e._path,t,!0)}}class Foe extends Xa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(vc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new x4(this._value,this._key)._apply(new M4(this._value,this._key)._apply(e))}}function el(n,...e){let t=(0,R.m9)(n);for(const i of e)t=i._apply(t);return t}(function _se(n){(0,R.hu)(!yS,"__referenceConstructor has already been defined"),yS=n})(la),function Ese(n){(0,R.hu)(!bS,"__referenceConstructor has already been defined"),bS=n}(la);const y2={};function O4(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||mc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,_,c=p2(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(f=!0,s=`http://${_}?ns=${d.namespace}`,c=p2(s,r),d=c.repoInfo):f=!c.repoInfo.secure;const w=r&&f?new Zw(Zw.OWNER):new Nie(n.name,n.options,e);a4("Invalid Firebase Database URL",c),Gt(c.path)||mc("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function joe(n,e,t,i){let r=y2[e.name];r||(r={},y2[e.name]=r);let s=r[n.toURLString()];return s&&mc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Kse(n,false,t,i),r[n.toURLString()]=s,s}(d,n,w,new Mie(n.name,t));return new Goe(T,n)}class Goe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Yse(n,e,t){if(n.stats_=_L(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cS(n.repoInfo_,(i,r,s,c)=>{h4(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>f4(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _g(n.repoInfo_,e,(i,r,s,c)=>{h4(n,i,r,s,c)},i=>{f4(n,i)},i=>{!function Qse(n,e){fr(e,(t,i)=>{l2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Rie(n,e){const t=n.toString();return mL[t]||(mL[t]=e()),mL[t]}(n.repoInfo_,()=>new Pre(n.stats_,n.server_)),n.infoData_=new Mre,n.infoSyncTree_=new K8({startListening:(i,r,s,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=oE(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),l2(n,"connected",!1),n.serverSyncTree_=new K8({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,f)=>{const _=c(d,f);Do(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new la(this._repo,ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Voe(n,e){const t=y2[e];(!t||t[n.key]!==n)&&mc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),g4(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&mc("Cannot call "+e+" on a deleted database.")}}function k4(){Q5.IS_TRANSPORT_INITIALIZED&&Wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $oe(){k4(),Uh.forceDisallow()}function Woe(){k4(),Uy.forceDisallow(),Uh.forceAllow()}function Zoe(n,e){N5(n,e)}const Yoe={".sv":"timestamp"};class Xoe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_g.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},_g.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Koe(n){I5(Zt.SDK_VERSION),(0,Zt._registerComponent)(new rr.wA("database",(e,{instanceIdentifier:t})=>O4(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(T5,D5,n),(0,Zt.registerVersion)(T5,D5,"esm2017")}();const iae=new Ls.Yd("@firebase/database-compat"),P4=function(n){iae.warn("FIREBASE WARNING: "+n)};class oae{constructor(e){this._delegate=e}cancel(e){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,P4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class aae{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zh{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),fE("DataSnapshot.child","path",e,!1),new Zh(this._database,this._delegate.child(e))}hasChild(e){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),fE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Zh(this._database,t)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Io(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ar{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",t,!1);const c=Ar.getCancelAndContextArgs_("Query.on",i,r),d=(_,w)=>{t.call(c.context,new Zh(this.database,_),w)};d.userCallback=t,d.context=c.context;const f=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return _2(this._delegate,d,f),t;case"child_added":return T4(this._delegate,d,f),t;case"child_removed":return S4(this._delegate,d,f),t;case"child_changed":return D4(this._delegate,d,f),t;case"child_moved":return I4(this._delegate,d,f),t;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,R.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,R.Wj)("Query.off","callback",t,!0),(0,R.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,A4(this._delegate,e,r)}else A4(this._delegate,e)}get(){return _oe(this._delegate).then(e=>new Zh(this.database,e))}once(e,t,i,r){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",t,!0);const s=Ar.getCancelAndContextArgs_("Query.once",i,r),c=new R.BH,d=(_,w)=>{const T=new Zh(this.database,_);t&&t.call(s.context,T,w),c.resolve(T)};d.userCallback=t,d.context=s.context;const f=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":_2(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":T4(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":S4(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":D4(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":I4(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Ar(this.database,el(this._delegate,function Doe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Toe(n)}(e)))}limitToLast(e){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Ar(this.database,el(this._delegate,function Soe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ioe(n)}(e)))}orderByChild(e){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Ar(this.database,el(this._delegate,function xoe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fE("orderByChild","path",n,!1),new Aoe(n)}(e)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Ar(this.database,el(this._delegate,function Noe(){return new Moe}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Ar(this.database,el(this._delegate,function koe(){return new Ooe}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Ar(this.database,el(this._delegate,function Poe(){return new Roe}()))}startAt(e=null,t){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Ar(this.database,el(this._delegate,function woe(n=null,e){return hE("startAt","key",e,!0),new M4(n,e)}(e,t)))}startAfter(e=null,t){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Ar(this.database,el(this._delegate,function Coe(n,e){return hE("startAfter","key",e,!0),new Eoe(n,e)}(e,t)))}endAt(e=null,t){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Ar(this.database,el(this._delegate,function yoe(n,e){return hE("endAt","key",e,!0),new x4(n,e)}(e,t)))}endBefore(e=null,t){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Ar(this.database,el(this._delegate,function boe(n,e){return hE("endBefore","key",e,!0),new voe(n,e)}(e,t)))}equalTo(e,t){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Ar(this.database,el(this._delegate,function Loe(n,e){return hE("equalTo","key",e,!0),new Foe(n,e)}(e,t)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ar))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,R.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,R.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,R.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Io(this.database,new la(this._delegate._repo,this._delegate._path))}}class Io extends Ar{constructor(e,t){super(e,new Gs(t._repo,t._path,new aS,!1)),this.database=e,this._delegate=t}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Io(this.database,Cg(this._delegate,e))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Io(this.database,e):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Io(this.database,this._delegate.root)}set(e,t){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",t,!0);const i=m2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,P4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}aa("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",t,!0);const i=moe(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function goe(n,e,t){if(aa("setWithPriority",n._path),vc("setWithPriority",e,n._path,!1),a2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new R.BH;return c2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",e,!0);const t=function foe(n){return aa("remove",n._path),m2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,R.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function eae(n,e,t){var i;if(n=(0,R.m9)(n),aa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new R.BH,d=_2(n,()=>{});return function ooe(n,e,t,i,r,s){Zy(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:A5(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=d2(n,e,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{dE("transaction failed: Data returned ",f,c.path),c.status=0;const _=TS(n.transactionQueueTree_,e),w=wg(_)||[];let T;w.push(c),r2(_,w),"object"==typeof f&&null!==f&&(0,R.r3)(f,".priority")?(T=(0,R.DV)(f,".priority"),(0,R.hu)(uE(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(ES(n.serverSyncTree_,e)||kt.EMPTY_NODE).getPriority().val();const I=pE(n),M=ei(f,T),k=e2(M,d,I);c.currentOutputSnapshotRaw=M,c.currentOutputSnapshotResolved=k,c.currentWriteId=AS(n);const L=zL(n.serverSyncTree_,e,k,c.currentWriteId,c.applyLocally);Do(n.eventQueue_,e,L),xS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,_,w)=>{let T=null;f?s.reject(f):(T=new Eg(w,new la(n._repo,n._path),Pn),s.resolve(new Xoe(_,T)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new aae(s.committed,new Zh(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",t,!0);const i=function poe(n,e){n=(0,R.m9)(n),aa("setPriority",n._path),a2("setPriority",e,!1);const t=new R.BH;return c2(n._repo,Zn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",t,!0);const i=function hoe(n,e){n=(0,R.m9)(n),aa("push",n._path),vc("push",e,n._path,!0);const t=d4(n._repo),i=Ere(t),r=Cg(n,i),s=Cg(n,i);let c;return c=null!=e?m2(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new Io(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new Io(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return aa("Reference.onDisconnect",this._delegate._path),new oae(new w4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class _E{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$oe,forceLongPolling:Woe}}useEmulator(e,t,i={}){!function R4(n,e,t,i={}){(n=(0,R.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&mc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&mc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Zw(Zw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,R.Sg)(i.mockUserToken,n.app.options.projectId);s=new Zw(c)}!function Uoe(n,e,t,i){n.repoInfo_=new pL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,R.Dv)("database.ref",0,1,arguments.length),e instanceof Io){const t=C4(this._delegate,e.toString());return new Io(this,t)}{const t=E4(this._delegate,e);return new Io(this,t)}}refFromURL(e){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const i=C4(this._delegate,e);return new Io(this,i)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function qoe(n){(n=(0,R.m9)(n))._checkNotDeleted("goOffline"),g4(n._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function zoe(n){(n=(0,R.m9)(n))._checkNotDeleted("goOnline"),function soe(n){n.persistentConnection_&&n.persistentConnection_.resume(u4)}(n._repo)}(this._delegate)}}_E.ServerValue={TIMESTAMP:function Qoe(){return Yoe}(),increment:n=>function Joe(n){return{".sv":{increment:n}}}(n)};var cae=Object.freeze({__proto__:null,initStandalone:function lae({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){I5(t);const c=new rr.zt("auth-internal",new rr.H0("database-standalone"));return c.setComponent(new rr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new _E(O4(n,c,void 0,e,s),n),namespace:r}}});const uae=_E.ServerValue;function F4(n){return null==n}function L4(n){return"function"==typeof n.set}function B4(n,e){return L4(e)?e:n.ref(e)}function U4(n,e){if(function hae(n){return"string"==typeof n}(n))return e.stringCase();if(L4(n))return e.firebaseCase();if(function fae(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function yE(n,e,t="on",i=as){return new on.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,et.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,jm.B)())}function V4(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function mae(n,e){const{payload:t,prevKey:i,key:r}=e,s=V4(n,r),c=function gae(n,e){if(F4(e))return 0;{const t=V4(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const _={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function j4(n){return(F4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function H4(n,e,t){return function pae(n,e,t){return yE(n,"value","once",t).pipe(Mn(i=>{const r=[ht(i)];return e.forEach(s=>r.push(yE(n,s,"on",t))),(0,Ba.T)(...r).pipe(kr(mae,[]))}),Pd())}(n,e=j4(e),t)}function G4(n,e,t){const i=(e=j4(e)).map(r=>yE(n,r,"on",t));return(0,Ba.T)(...i)}function $4(n,e){return function(i,r){return U4(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function bae(n){return function(t){return t?U4(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function W4(n,e){return function(){return yE(n,"value","on",e)}}!function dae(n){n.INTERNAL.registerComponent(new rr.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new _E(r,i)},"PUBLIC").setServiceProps({Reference:Io,Query:Ar,Database:_E,DataSnapshot:Zh,enableLogging:Zoe,INTERNAL:cae,ServerValue:uae}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(Ak.Z);const Cae=new l.OlP("angularfire2.realtimeDatabaseURL"),Tae=new l.OlP("angularfire2.database.use-emulator");let Dae=(()=>{class n{constructor(t,i,r,s,c,d,f,_,w,T,I,M,k,L,G){this.schedulers=d;const se=f,ue=(0,sr.on)(t,c,i);_&&rL(ue,c,w,I,M,k,T,L),this.database=(0,sr.cc)(`${ue.name}.database.${r}`,"AngularFireDatabase",ue.name,()=>{const ge=c.runOutsideAngular(()=>ue.database(r||void 0));return se&&ge.useEmulator(...se),ge},[se])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,t));let s=r;return i&&(s=i(r)),function wae(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:$4(i,"update"),set:$4(i,"set"),push:r=>i.push(r),remove:bae(i),snapshotChanges:r=>H4(n,r,t).pipe(Ei),stateChanges:r=>G4(n,r,t).pipe(Ei),auditTrail:r=>function _ae(n,e,t){return function vae(n,e,t){return function yae(n,e){return yE(n,"value","on",e).pipe((0,et.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(Fd(e),(0,et.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function vie(n){return(0,Un.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Tn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,et.U)(r=>r.actions))}(n,G4(n,e).pipe(kr((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Ei),valueChanges:(r,s)=>H4(n,r,t).pipe((0,et.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),Ei)}}(s,this)}object(t){return function Eae(n,e){return{query:n,snapshotChanges:()=>W4(n,e.schedulers.outsideAngular)().pipe(Ei),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>W4(n,e.schedulers.outsideAngular)().pipe(Ei,(0,et.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sr.Dh),l.LFG(sr.xv,8),l.LFG(Cae,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bD),l.LFG(Tae,8),l.LFG(sL,8),l.LFG(JF,8),l.LFG(XF,8),l.LFG(eL,8),l.LFG(tL,8),l.LFG(nL,8),l.LFG(iL,8),l.LFG(Ub,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Iae=(()=>{class n{constructor(){sR.Z.registerVersion("angularfire",bk.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Dae]}),n})(),q4=(()=>{class n{constructor(t){this.tokenService=t}intercept(t,i){let r=t;const s=this.tokenService.getToken();return null!=s&&(r=t.clone({headers:t.headers.set("Authorization","Bearer "+s)})),i.handle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[WW]}),n.\u0275inj=l.cJS({providers:[{provide:$f,useClass:q4,multi:!0}],imports:[[pl,$W,hN,zS,zz,xA,qN,AZ,p0,yie,QQ,Iae,Tb.forRoot({})]]}),n})();(0,l.G48)(),pf().bootstrapModule(Aae).catch(n=>console.error(n))},127:(tt,be,F)=>{F.d(be,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(tt,be,F)=>{F.r(be);var l=F(5861),ie=F(3942),U=F(2090),me=F(9681),Ae=F(1877),Ie=F(655),Ce=F(4859);const Ve=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},te=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new Ae.Yd("@firebase/auth");function rt(v,...g){Je.logLevel<=Ae.in.ERROR&&Je.error(`Auth (${me.SDK_VERSION}): ${v}`,...g)}function Me(v,...g){throw ze(v,...g)}function de(v,...g){return ze(v,...g)}function ye(v,g,m){const E=Object.assign(Object.assign({},Ue()),{[g]:m});return new U.LL("auth","Firebase",E).create(g,{appName:v.name})}function Be(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Me(v,"argument-error"),ye(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...g){if("string"!=typeof v){const m=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return te.create(v,...g)}function H(v,g,...m){if(!v)throw ze(g,...m)}function _e(v){const g="INTERNAL ASSERTION FAILED: "+v;throw rt(g),new Error(g)}function K(v,g){v||_e(g)}const ee=new Map;function J(v){K(v instanceof Function,"Expected a class definition");let g=ee.get(v);return g?(K(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,ee.set(v,g),g)}function Fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function dt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class nn{constructor(g,m){this.shortDelay=g,this.longDelay=m,K(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(v,g){K(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Sn{static initialize(g,m,E){this.fetchImpl=g,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qi=new nn(3e4,6e4);function $t(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Ut(v,g,m,E){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(v,g,m,E,S={}){return ku(v,S,(0,l.Z)(function*(){let O={},W={};E&&("GET"===g?W=E:O={body:JSON.stringify(E)});const oe=(0,U.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),Re=yield v._getAdditionalHeaders();return Re["Content-Type"]="application/json",v.languageCode&&(Re["X-Firebase-Locale"]=v.languageCode),Sn.fetch()(Ws(v,v.config.apiHost,m,oe),Object.assign({method:g,headers:Re,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ku(v,g,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(v,g,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},rn),g);try{const S=new ua(v),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw qs(v,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const oe=O.ok?W.errorMessage:W.error.message,[Re,Ke]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw qs(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===Re)throw qs(v,"email-already-in-use",W);if("USER_DISABLED"===Re)throw qs(v,"user-disabled",W);const ft=E[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw ye(v,ft,Ke);Me(v,ft)}}catch(S){if(S instanceof U.ZR)throw S;Me(v,"network-request-failed")}})).apply(this,arguments)}function mr(v,g,m,E){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(v,g,m,E,S={}){const O=yield Ut(v,g,m,E,S);return"mfaPendingCredential"in O&&Me(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ws(v,g,m,E){const S=`${g}${m}?${E}`;return v.config.emulator?Yn(v.config,S):`${v.config.apiScheme}://${S}`}class ua{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(de(this.auth,"network-request-failed")),qi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qs(v,g,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=de(v,g,E);return S.customData._tokenResponse=m,S}function qr(){return(qr=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Gn(v,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nl(v,g){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Di(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function da(){return(da=(0,l.Z)(function*(v,g=!1){const m=(0,U.m9)(v),E=yield m.getIdToken(g),S=at(E);H(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:S,token:E,authTime:Di(Kt(S.auth_time)),issuedAtTime:Di(Kt(S.iat)),expirationTime:Di(Kt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(v){return 1e3*Number(v)}function at(v){var g;const[m,E,S]=v.split(".");if(void 0===m||void 0===E||void 0===S)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,U.tV)(E);return O?JSON.parse(O):(rt("Failed to decode base64 JWT payload"),null)}catch(O){return rt("Caught error parsing JWT payload as JSON",null===(g=O)||void 0===g?void 0:g.toString()),null}}function Li(v,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(E){throw E instanceof U.ZR&&zt(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function zt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ha{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(m=E)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Bi{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ui(v){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(v){var g;const m=v.auth,E=yield v.getIdToken(),S=yield Li(v,nl(m,{idToken:E}));H(null==S?void 0:S.users.length,m,"internal-error");const O=S.users[0];v._notifyReloadListener(O);const W=(null===(g=O.providerUserInfo)||void 0===g?void 0:g.length)?Qe(O.providerUserInfo):[],oe=pa(v.providerData,W),ft=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==oe?void 0:oe.length)),lt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:oe,metadata:new Bi(O.createdAt,O.lastLoginAt),isAnonymous:ft};Object.assign(v,lt)})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(v){const g=(0,U.m9)(v);yield Ui(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function pa(v,g){return[...v.filter(E=>!g.some(S=>S.providerId===E.providerId)),...g]}function Qe(v){return v.map(g=>{var{providerId:m}=g,E=(0,Ie._T)(g,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ze(){return(Ze=(0,l.Z)(function*(v,g){const m=yield ku(v,{},(0,l.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:O}=v.config,W=Ws(v,S,"/v1/token",`key=${O}`),oe=yield v._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(W,{method:"POST",headers:oe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){H(g.idToken,"internal-error"),H(void 0!==g.idToken,"internal-error"),H(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function vt(v){const g=at(v);return H(g,"internal-error"),H(void 0!==g.exp,"internal-error"),H(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var E=this;return(0,l.Z)(function*(){return H(!E.accessToken||E.refreshToken,g,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var E=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:W}=yield function we(v,g){return Ze.apply(this,arguments)}(g,m);E.updateTokensAndExpiration(S,O,Number(W))})()}updateTokensAndExpiration(g,m,E){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,m){const{refreshToken:E,accessToken:S,expirationTime:O}=m,W=new Et;return E&&(H("string"==typeof E,"internal-error",{appName:g}),W.refreshToken=E),S&&(H("string"==typeof S,"internal-error",{appName:g}),W.accessToken=S),O&&(H("number"==typeof O,"internal-error",{appName:g}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return _e("not implemented")}}function wt(v,g){H("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Bt{constructor(g){var{uid:m,auth:E,stsTokenManager:S}=g,O=(0,Ie._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ha(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Bi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const E=yield Li(m,m.stsTokenManager.getToken(m.auth,g));return H(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(g){return function Es(v){return da.apply(this,arguments)}(this,g)}reload(){return function fa(v){return Vt.apply(this,arguments)}(this)}_assign(g){this!==g&&(H(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Bt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var E=this;return(0,l.Z)(function*(){let S=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),S=!0),m&&(yield Ui(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield Li(g,function yt(v,g){return qr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var E,S,O,W,oe,Re,Ke,ft;const lt=null!==(E=m.displayName)&&void 0!==E?E:void 0,ci=null!==(S=m.email)&&void 0!==S?S:void 0,ki=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Pa=null!==(W=m.photoURL)&&void 0!==W?W:void 0,jf=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,Hf=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,_n=null!==(Ke=m.createdAt)&&void 0!==Ke?Ke:void 0,Tm=null!==(ft=m.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:Id,emailVerified:Sd,isAnonymous:Ad,providerData:zo,stsTokenManager:Dm}=m;H(Id&&Dm,g,"internal-error");const Im=Et.fromJSON(this.name,Dm);H("string"==typeof Id,g,"internal-error"),wt(lt,g.name),wt(ci,g.name),H("boolean"==typeof Sd,g,"internal-error"),H("boolean"==typeof Ad,g,"internal-error"),wt(ki,g.name),wt(Pa,g.name),wt(jf,g.name),wt(Hf,g.name),wt(_n,g.name),wt(Tm,g.name);const Hl=new Bt({uid:Id,auth:g,email:ci,emailVerified:Sd,displayName:lt,isAnonymous:Ad,photoURL:Pa,phoneNumber:ki,tenantId:jf,stsTokenManager:Im,createdAt:_n,lastLoginAt:Tm});return zo&&Array.isArray(zo)&&(Hl.providerData=zo.map(Sm=>Object.assign({},Sm))),Hf&&(Hl._redirectEventId=Hf),Hl}static _fromIdTokenResponse(g,m,E=!1){return(0,l.Z)(function*(){const S=new Et;S.updateFromServerResponse(m);const O=new Bt({uid:m.localId,auth:g,stsTokenManager:S,isAnonymous:E});return yield Ui(O),O})()}}const B=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,l.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,l.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,l.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function z(v,g,m){return`firebase:${v}:${g}:${m}`}class pe{constructor(g,m,E){this.persistence=g,this.auth=m,this.userKey=E;const{config:S,name:O}=this.auth;this.fullUserKey=z(this.userKey,S.apiKey,O),this.fullPersistenceKey=z("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Bt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,E="authUser"){return(0,l.Z)(function*(){if(!m.length)return new pe(J(B),g,E);const S=(yield Promise.all(m.map(function(){var Ke=(0,l.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let O=S[0]||J(B);const W=z(E,g.config.apiKey,g.name);let oe=null;for(const Ke of m)try{const ft=yield Ke._get(W);if(ft){const lt=Bt._fromJSON(g,ft);Ke!==O&&(oe=lt),O=Ke;break}}catch(ft){}const Re=S.filter(Ke=>Ke._shouldAllowMigration);return O._shouldAllowMigration&&Re.length?(O=Re[0],oe&&(yield O._set(W,oe.toJSON())),yield Promise.all(m.map(function(){var Ke=(0,l.Z)(function*(ft){if(ft!==O)try{yield ft._remove(W)}catch(lt){}});return function(ft){return Ke.apply(this,arguments)}}())),new pe(O,g,E)):new pe(O,g,E)})()}}function ne(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(nt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ri(g))return"Blackberry";if(It(g))return"Webos";if(At(g))return"Safari";if((g.includes("chrome/")||bn(g))&&!g.includes("edge/"))return"Chrome";if(fn(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function nt(v=(0,U.z$)()){return/firefox\//i.test(v)}function At(v=(0,U.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function bn(v=(0,U.z$)()){return/crios\//i.test(v)}function Xt(v=(0,U.z$)()){return/iemobile/i.test(v)}function fn(v=(0,U.z$)()){return/android/i.test(v)}function ri(v=(0,U.z$)()){return/blackberry/i.test(v)}function It(v=(0,U.z$)()){return/webos/i.test(v)}function An(v=(0,U.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function zs(v=(0,U.z$)()){return An(v)||fn(v)||It(v)||ri(v)||/windows phone/i.test(v)||Xt(v)}function Ru(v,g=[]){let m;switch(v){case"Browser":m=ne((0,U.z$)());break;case"Worker":m=`${ne((0,U.z$)())}-${v}`;break;default:m=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${me.SDK_VERSION}/${E}`}class Mr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const E=O=>new Promise((W,oe)=>{try{W(g(O))}catch(Re){oe(Re)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){var E;if(m.auth.currentUser===g)return;const S=[];try{for(const O of m.queue)yield O(g),O.onAbort&&S.push(O.onAbort)}catch(O){S.reverse();for(const W of S)try{W()}catch(oe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=O)||void 0===E?void 0:E.message})}})()}}class We{constructor(g,m,E){this.app=g,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cn(this),this.idTokenSubscription=new cn(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,m){var E=this;return m&&(this._popupRedirectResolver=J(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,O;if(!E._deleted&&(E.persistenceManager=yield pe.create(E,g),!E._deleted)){if(null===(S=E._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(W){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let O=S,W=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const oe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Re=null==O?void 0:O._redirectEventId,Ke=yield m.tryRedirectSignIn(g);(!oe||oe===Re)&&(null==Ke?void 0:Ke.user)&&(O=Ke.user,W=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(O)}catch(oe){O=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(oe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(S){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){var E;try{yield Ui(g)}catch(S){if("auth/network-request-failed"!==(null===(E=S)||void 0===E?void 0:E.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const E=g?(0,U.m9)(g):null;return E&&H(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(g,m=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return g&&H(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(J(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,m,E){return this.registerStateListener(this.authStateSubscription,g,m,E)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,E){return this.registerStateListener(this.idTokenSubscription,g,m,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var E=this;return(0,l.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const E=g&&J(g)||m._popupRedirectResolver;H(E,m,"argument-error"),m.redirectPersistenceManager=yield pe.create(m,[J(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===g?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,E,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return H(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,E,S):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ru(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function ut(v){return(0,U.m9)(v)}class cn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xo(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Cs(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class zr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(g){return _e("not implemented")}_linkToIdToken(g,m){return _e("not implemented")}_getReauthenticationResolver(g){return _e("not implemented")}}function ma(v,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:resetPassword",$t(v,g))})).apply(this,arguments)}function sl(v,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Kh(v,g){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:update",$t(v,g))})).apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithPassword",$t(v,g))})).apply(this,arguments)}function ko(v,g){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:sendOobCode",$t(v,g))})).apply(this,arguments)}function pn(v,g){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(v,g){return ko(v,g)})).apply(this,arguments)}function Yh(v,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(v,g){return ko(v,g)})).apply(this,arguments)}function Zr(v,g){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(v,g){return ko(v,g)})).apply(this,arguments)}function Qh(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(v,g){return ko(v,g)})).apply(this,arguments)}function Jh(){return(Jh=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,g))})).apply(this,arguments)}function Sg(){return(Sg=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,g))})).apply(this,arguments)}class Vi extends zr{constructor(g,m,E,S=null){super("password",E),this._email=g,this._password=m,this._tenantId=S}static _fromEmailAndPassword(g,m){return new Vi(g,m,"password")}static _fromEmailAndCode(g,m,E=null){return new Vi(g,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function wn(v,g){return Oo.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Kr(v,g){return Jh.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Me(g,"internal-error")}})()}_linkToIdToken(g,m){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return sl(g,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Fu(v,g){return Sg.apply(this,arguments)}(g,{idToken:m,email:E._email,oobCode:E._password});default:Me(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ro(v,g){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithIdp",$t(v,g))})).apply(this,arguments)}class Zs extends zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Zs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S}=m,O=(0,Ie._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const W=new Zs(E,S);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(g){return Ro(g,this.buildRequest())}_linkToIdToken(g,m){const E=this.buildRequest();return E.idToken=m,Ro(g,E)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ro(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,U.xO)(m)}return g}}function bE(v,g){return xg.apply(this,arguments)}function xg(){return(xg=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:sendVerificationCode",$t(v,g))})).apply(this,arguments)}function Mg(){return(Mg=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,g))})).apply(this,arguments)}function Ng(){return(Ng=(0,l.Z)(function*(v,g){const m=yield mr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,g));if(m.temporaryProof)throw qs(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const CE={USER_NOT_FOUND:"user-not-found"};function Og(){return(Og=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),CE)})).apply(this,arguments)}class ol extends zr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new ol({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new ol({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function wE(v,g){return Mg.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function EE(v,g){return Ng.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function TE(v,g){return Og.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:O}=g;return E||m||S||O?new ol({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:O}):null}}class Lu{constructor(g){var m,E,S,O,W,oe;const Re=(0,U.zd)((0,U.pd)(g)),Ke=null!==(m=Re.apiKey)&&void 0!==m?m:null,ft=null!==(E=Re.oobCode)&&void 0!==E?E:null,lt=function Cc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);H(Ke&&ft&&lt,"argument-error"),this.apiKey=Ke,this.operation=lt,this.code=ft,this.continueUrl=null!==(O=Re.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=Re.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(oe=Re.tenantId)&&void 0!==oe?oe:null}static parseLink(g){const m=function Xh(v){const g=(0,U.zd)((0,U.pd)(v)).link,m=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(v)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||m||g||v}(g);try{return new Lu(m)}catch(E){return null}}}let kg=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Vi._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=Lu.parseLink(E);return H(S,"argument-error"),Vi._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ji{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class al extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ts extends al{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return H("providerId"in m&&"signInMethod"in m,"argument-error"),Zs._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return H(g.idToken||g.accessToken,"argument-error"),Zs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ts.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ts.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:O,nonce:W,providerId:oe}=g;if(!E&&!S&&!m&&!O||!oe)return null;try{return new Ts(oe)._credential({idToken:m,accessToken:E,nonce:W,pendingToken:O})}catch(Re){return null}}}let Tc=(()=>{class v extends al{constructor(){super("facebook.com")}static credential(m){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Rg=(()=>{class v extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return v.credential(E,S)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Yy=(()=>{class v extends al{constructor(){super("github.com")}static credential(m){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Po extends zr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Ro(g,this.buildRequest())}_linkToIdToken(g,m){const E=this.buildRequest();return E.idToken=m,Ro(g,E)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ro(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S,pendingToken:O}=m;return E&&S&&O&&E===S?new Po(E,O):null}static _create(g,m){return new Po(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ll extends ji{constructor(g){H(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ll.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ll.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Po.fromJSON(g);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:E}=g;if(!m||!E)return null;try{return Po._create(E,m)}catch(S){return null}}}let Pg=(()=>{class v extends al{constructor(){super("twitter.com")}static credential(m,E){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return v.credential(E,S)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ki(v,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signUp",$t(v,g))})).apply(this,arguments)}class Yr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,E,S=!1){return(0,l.Z)(function*(){const O=yield Bt._fromIdTokenResponse(g,E,S),W=ef(E);return new Yr({user:O,providerId:W,_tokenResponse:E,operationType:m})})()}static _forOperation(g,m,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const S=ef(E);return new Yr({user:g,providerId:S,_tokenResponse:E,operationType:m})})()}}function ef(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function tf(){return(tf=(0,l.Z)(function*(v){var g;const m=ut(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Yr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ki(m,{returnSecureToken:!0}),S=yield Yr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ul extends U.ZR{constructor(g,m,E,S){var O;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,ul.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,m,E,S){return new ul(g,m,E,S)}}function nf(v,g,m,E){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ul._fromErrorAndOperation(v,O,g,E):O})}function Bu(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function En(){return(En=(0,l.Z)(function*(v,g){const m=(0,U.m9)(v);yield dn(!0,m,g);const{providerUserInfo:E}=yield Gn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),S=Bu(E||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Uu(v,g){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(v,g,m=!1){const E=yield Li(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Yr._forOperation(v,"link",E)})).apply(this,arguments)}function dn(v,g,m){return rf.apply(this,arguments)}function rf(){return(rf=(0,l.Z)(function*(v,g,m){yield Ui(g);const S=!1===v?"provider-already-linked":"no-such-provider";H(Bu(g.providerData).has(m)===v,g.auth,S)})).apply(this,arguments)}function Vu(v,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(v,g,m=!1){var E;const{auth:S}=v,O="reauthenticate";try{const W=yield Li(v,nf(S,O,g,v),m);H(W.idToken,S,"internal-error");const oe=at(W.idToken);H(oe,S,"internal-error");const{sub:Re}=oe;return H(v.uid===Re,S,"user-mismatch"),Yr._forOperation(v,O,W)}catch(W){throw"auth/user-not-found"===(null===(E=W)||void 0===E?void 0:E.code)&&Me(S,"user-mismatch"),W}})).apply(this,arguments)}function Yi(v,g){return sf.apply(this,arguments)}function sf(){return(sf=(0,l.Z)(function*(v,g,m=!1){const E="signIn",S=yield nf(v,E,g),O=yield Yr._fromIdTokenResponse(v,E,S);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function hl(v,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(v,g){return Yi(ut(v),g)})).apply(this,arguments)}function Qi(v,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(v,g){const m=(0,U.m9)(v);return yield dn(!1,m,g.providerId),Uu(m,g)})).apply(this,arguments)}function va(v,g){return ju.apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(v,g){return Vu((0,U.m9)(v),g)})).apply(this,arguments)}function Ks(v,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(v,g){return mr(v,"POST","/v1/accounts:signInWithCustomToken",$t(v,g))})).apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(v,g){const m=ut(v),E=yield Ks(m,{token:g,returnSecureToken:!0}),S=yield Yr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ba{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?af._fromServerResponse(g,m):Me(g,"internal-error")}}class af extends ba{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new af(m)}}function Ic(v,g,m){var E;H((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),H(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function lf(){return(lf=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v),S={requestType:"PASSWORD_RESET",email:g};m&&Ic(E,S,m),yield Yh(E,S)})).apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(v,g,m){yield ma((0,U.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,l.Z)(function*(v,g){yield Kh((0,U.m9)(v),{oobCode:g})})).apply(this,arguments)}function Wt(v,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(v,g){const m=(0,U.m9)(v),E=yield ma(m,{oobCode:g}),S=E.requestType;switch(H(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(E.mfaInfo,m,"internal-error");default:H(E.email,m,"internal-error")}let O=null;return E.mfaInfo&&(O=ba._fromServerResponse(ut(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function $u(){return($u=(0,l.Z)(function*(v,g){const{data:m}=yield Wt((0,U.m9)(v),g);return m.email})).apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(v,g,m){const E=ut(v),S=yield Ki(E,{returnSecureToken:!0,email:g,password:m}),O=yield Yr._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}function hf(){return(hf=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v),S={requestType:"EMAIL_SIGNIN",email:g};H(m.handleCodeInApp,E,"argument-error"),m&&Ic(E,S,m),yield Zr(E,S)})).apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v),S=kg.credentialWithLink(g,m||Fe());return H(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),hl(E,S)})).apply(this,arguments)}function Hi(v,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:createAuthUri",$t(v,g))})).apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(v,g){const E={identifier:g,continueUri:dt()?Fe():"http://localhost"},{signinMethods:S}=yield Hi((0,U.m9)(v),E);return S||[]})).apply(this,arguments)}function ff(){return(ff=(0,l.Z)(function*(v,g){const m=(0,U.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Ic(m.auth,S,g);const{email:O}=yield pn(m.auth,S);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function pf(){return(pf=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Ic(E.auth,O,m);const{email:W}=yield Qh(E.auth,O);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function ev(v,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(v,g){return Ut(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const E=(0,U.m9)(v),O={idToken:yield E.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},W=yield Li(E,ev(E.auth,O));E.displayName=W.displayName||null,E.photoURL=W.photoUrl||null;const oe=E.providerData.find(({providerId:Re})=>"password"===Re);oe&&(oe.displayName=E.displayName,oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(W)})).apply(this,arguments)}function gf(v,g,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(v,g,m){const{auth:E}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const W=yield Li(v,sl(E,O));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ml{constructor(g,m,E={}){this.isNewUser=g,this.providerId=m,this.profile=E}}class Hg extends ml{constructor(g,m,E,S){super(g,m,E),this.username=S}}class mf extends ml{constructor(g,m){super(g,"facebook.com",m)}}class Jr extends Hg{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class tv extends ml{constructor(g,m){super(g,"google.com",m)}}class nv extends Hg{constructor(g,m,E){super(g,"twitter.com",m,E)}}function yi(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function jg(v){var g,m;if(!v)return null;const{providerId:E}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const W=null===(m=null===(g=at(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new ml(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!E)return null;switch(E){case"facebook.com":return new mf(O,S);case"github.com":return new Jr(O,S);case"google.com":return new tv(O,S);case"twitter.com":return new nv(O,S,v.screenName||null);case"custom":case"anonymous":return new ml(O,null);default:return new ml(O,E,S)}}(m)}class Qs{constructor(g,m,E){this.type=g,this.credential=m,this.auth=E}static _fromIdtoken(g,m){return new Qs("enroll",g,m)}static _fromMfaPendingCredential(g){return new Qs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,E;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Qs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return Qs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class _l{constructor(g,m,E){this.session=g,this.hints=m,this.signInResolver=E}static _fromError(g,m){const E=ut(g),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(oe=>ba._fromServerResponse(E,oe));H(S.mfaPendingCredential,E,"internal-error");const W=Qs._fromMfaPendingCredential(S.mfaPendingCredential);return new _l(W,O,function(){var oe=(0,l.Z)(function*(Re){const Ke=yield Re._process(E,W);delete S.mfaInfo,delete S.mfaPendingCredential;const ft=Object.assign(Object.assign({},S),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(m.operationType){case"signIn":const lt=yield Yr._fromIdTokenResponse(E,m.operationType,ft);return yield E._updateCurrentUser(lt.user),lt;case"reauthenticate":return H(m.user,E,"internal-error"),Yr._forOperation(m.user,m.operationType,ft);default:Me(E,"internal-error")}});return function(Re){return oe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function sv(v,g){return Ut(v,"POST","/v2/accounts/mfaEnrollment:start",$t(v,g))}class yl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>ba._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new yl(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Qs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var E=this;return(0,l.Z)(function*(){const S=g,O=yield E.getSession(),W=yield Li(E.user,S._process(E.user.auth,O,m));return yield E.user._updateTokensIfNecessary(W),E.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){var E;const S="string"==typeof g?g:g.uid,O=yield m.user.getIdToken(),W=yield Li(m.user,function Ca(v,g){return Ut(v,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(v,g))}(m.user.auth,{idToken:O,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:oe})=>oe!==S),yield m.user._updateTokensIfNecessary(W);try{yield m.user.reload()}catch(oe){if("auth/user-token-expired"!==(null===(E=oe)||void 0===E?void 0:E.code))throw oe}})()}}const $g=new WeakMap,Ta="__sak";class qu{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const hn=(()=>{class v extends qu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function OE(){const v=(0,U.z$)();return At(v)||An(v)}()&&function Ii(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=zs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),O=this.localCache[E];S!==O&&m(E,O,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((oe,Re,Ke)=>{this.notifyListeners(oe,Ke)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const O=()=>{const oe=this.storage.getItem(S);!E&&this.localCache[S]===oe||this.notifyListeners(S,oe)},W=this.storage.getItem(S);!function rl(){return(0,U.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,O=this;return(0,l.Z)(function*(){yield S().call(O,m,E),O.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,l.Z)(function*(){const O=yield E().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var E=()=>super._remove,S=this;return(0,l.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),on=(()=>{class v extends qu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let Wg=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(O=>O.isListeningto(m));if(E)return E;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,l.Z)(function*(){const S=m,{eventId:O,eventType:W,data:oe}=S.data,Re=E.handlersMap[W];if(!(null==Re?void 0:Re.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const Ke=Array.from(Re).map(function(){var lt=(0,l.Z)(function*(ci){return ci(S.origin,oe)});return function(ci){return lt.apply(this,arguments)}}()),ft=yield function zu(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return g.apply(this,arguments)}}()))}(Ke);S.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:ft})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function vl(v="",g=10){let m="";for(let E=0;E<g;E++)m+=Math.floor(10*Math.random());return v+m}class bl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,E=50){var S=this;return(0,l.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,oe;return new Promise((Re,Ke)=>{const ft=vl("",20);O.port1.start();const lt=setTimeout(()=>{Ke(new Error("unsupported_event"))},E);oe={messageChannel:O,onMessage(ci){const ki=ci;if(ki.data.eventId===ft)switch(ki.data.status){case"ack":clearTimeout(lt),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Re(ki.data.response);break;default:clearTimeout(lt),clearTimeout(W),Ke(new Error("invalid_response"))}}},S.handlers.add(oe),O.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:g,eventId:ft,data:m},[O.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function $n(){return window}function Xr(){return void 0!==$n().WorkerGlobalScope&&"function"==typeof $n().importScripts}function qg(){return(qg=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const _f="firebaseLocalStorageDb",Uo="firebaseLocalStorage",El="fbase_key";class Ia{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Vo(v,g){return v.transaction([Uo],g?"readwrite":"readonly").objectStore(Uo)}function Cl(){const v=indexedDB.open(_f,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Uo,{keyPath:El})}catch(S){m(S)}}),v.addEventListener("success",(0,l.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Uo)?g(E):(E.close(),yield function Ji(){const v=indexedDB.deleteDatabase(_f);return new Ia(v).toPromise()}(),g(yield Cl()))}))})}function yf(v,g,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(v,g,m){const E=Vo(v,!0).put({[El]:g,value:m});return new Ia(E).toPromise()})).apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(v,g){const m=Vo(v,!1).get(g),E=yield new Ia(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Tl(v,g){const m=Vo(v,!0).delete(g);return new Ia(m).toPromise()}const jo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Cl()),m.db})()}_withRetries(m){var E=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const O=yield E._openDb();return yield m(O)}catch(O){if(S++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Xr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Wg._getInstance(function Zu(){return Xr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function et(){return qg.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new bl(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(E=O[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function zg(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Cl();return yield yf(m,Ta,"1"),yield Tl(m,Ta),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(O=>yf(O,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,l.Z)(function*(){const S=yield E._withRetries(O=>function Ac(v,g){return Ku.apply(this,arguments)}(O,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(S=>Tl(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const E=yield m._withRetries(W=>{const oe=Vo(W,!1).getAll();return new Ia(oe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:W,value:oe}of E)O.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(oe)&&(m.notifyListeners(W,oe),S.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!O.has(W)&&(m.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Un(v,g){return Ut(v,"POST","/v2/accounts/mfaSignIn:start",$t(v,g))}function Mn(){return(Mn=(0,l.Z)(function*(v){return(yield Ut(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ss(v){return new Promise((g,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=S=>{const O=de("internal-error");O.customData=S,m(O)},E.type="text/javascript",E.charset="UTF-8",function ai(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function Aa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Rr=1e12;class Vn{constructor(g){this.auth=g,this.counter=Rr,this._widgets=new Map}render(g,m){const E=this.counter;return this._widgets.set(E,new es(g,this.auth.name,m||{})),this.counter++,E}reset(g){var m;const E=g||Rr;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Rr))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var E;return null===(E=m._widgets.get(g||Rr))||void 0===E||E.execute(),""})()}}class es{constructor(g,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;H(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zg(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yu=Aa("rcb"),kn=new nn(3e4,6e4);class kE{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(g=$n().grecaptcha)||void 0===g?void 0:g.render)}load(g,m=""){return H(function Il(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($n().grecaptcha):new Promise((E,S)=>{const O=$n().setTimeout(()=>{S(de(g,"network-request-failed"))},kn.get());$n()[Yu]=()=>{$n().clearTimeout(O),delete $n()[Yu];const oe=$n().grecaptcha;if(!oe)return void S(de(g,"internal-error"));const Re=oe.render;oe.render=(Ke,ft)=>{const lt=Re(Ke,ft);return this.counter++,lt},this.hostLanguage=m,E(oe)},Ss(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Yu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(de(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!!(null===(m=$n().grecaptcha)||void 0===m?void 0:m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ai{load(g){return(0,l.Z)(function*(){return new Vn(g)})()}clearedOneInstance(){}}const ov="recaptcha",Ho={theme:"light",type:"image"};class Yg{constructor(g,m=Object.assign({},Ho),E){this.parameters=m,this.type=ov,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ut(E),this.isInvisible="invisible"===this.parameters.size,H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;H(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ai:new kE,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(m)||new Promise(O=>{const W=oe=>{!oe||(g.tokenChangeListeners.delete(W),O(oe))};g.tokenChangeListeners.add(W),g.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof g)g(m);else if("string"==typeof g){const E=$n()[g];"function"==typeof E&&E(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){H(dt()&&!Xr(),g.auth,"internal-error"),yield function Js(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Dl(v){return Mn.apply(this,arguments)}(g.auth);H(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bf{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=ol._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Mc(){return(Mc=(0,l.Z)(function*(v,g,m){const E=ut(v),S=yield er(E,g,(0,U.m9)(m));return new bf(S,O=>hl(E,O))})).apply(this,arguments)}function Qg(){return(Qg=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v);yield dn(!1,E,"phone");const S=yield er(E.auth,g,(0,U.m9)(m));return new bf(S,O=>Qi(E,O))})).apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v),S=yield er(E.auth,g,(0,U.m9)(m));return new bf(S,O=>va(E,O))})).apply(this,arguments)}function er(v,g,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(v,g,m){var E;const S=yield m.verify();try{let O;if(H("string"==typeof S,v,"argument-error"),H(m.type===ov,v,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const W=O.session;if("phoneNumber"in O)return H("enroll"===W.type,v,"internal-error"),(yield sv(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{H("signin"===W.type,v,"internal-error");const oe=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return H(oe,v,"missing-multi-factor-info"),(yield Un(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield bE(v,{phoneNumber:O.phoneNumber,recaptchaToken:S});return W}}finally{m._reset()}})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(v,g){yield Uu((0,U.m9)(v),g)})).apply(this,arguments)}let Sl=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ut(m)}verifyPhoneNumber(m,E){return er(this.auth,m,(0,U.m9)(E))}static credential(m,E){return ol._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?ol._fromTokenResponse(E,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ma(v,g){return g?J(g):(H(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ju extends zr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ro(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Ro(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Ro(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Pt(v){return Yi(v.auth,new Ju(v),v.bypassAuthState)}function RE(v){const{auth:g,user:m}=v;return H(m,g,"internal-error"),Vu(m,new Ju(v),v.bypassAuthState)}function Na(v){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v){const{auth:g,user:m}=v;return H(m,g,"internal-error"),Uu(m,new Ju(v),v.bypassAuthState)})).apply(this,arguments)}class Al{constructor(g,m,E,S,O=!1){this.auth=g,this.resolver=E,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(E,S){g.pendingPromise={resolve:E,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:O,tenantId:W,error:oe,type:Re}=g;if(oe)return void m.reject(oe);const Ke={auth:m.auth,requestUri:E,sessionId:S,tenantId:W||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(Ke))}catch(ft){m.reject(ft)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Na;case"reauthViaPopup":case"reauthViaRedirect":return RE;default:Me(this.auth,"internal-error")}}resolve(g){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new nn(2e3,1e4);function Xu(){return(Xu=(0,l.Z)(function*(v,g,m){const E=ut(v);Be(v,g,ji);const S=Ma(E,m);return new Xg(E,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function ed(){return(ed=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v);Be(E.auth,g,ji);const S=Ma(E.auth,m);return new Xg(E.auth,"reauthViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}function td(){return(td=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v);Be(E.auth,g,ji);const S=Ma(E.auth,m);return new Xg(E.auth,"linkViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}let Xg=(()=>{class v extends Al{constructor(m,E,S,O,W){super(m,E,O,W),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const E=yield m.execute();return H(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,l.Z)(function*(){K(1===m.filter.length,"Popup operations only handle one event");const E=vl();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(de(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=(null===(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,xl.get())};m()}}return v.currentPopupAction=null,v})();const Mi=new Map;class nd extends Al{constructor(g,m,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let E=Mi.get(m.auth._key());if(!E){try{const O=(yield function FE(v,g){return Go.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;E=()=>Promise.resolve(O)}catch(S){E=()=>Promise.reject(S)}Mi.set(m.auth._key(),E)}return m.bypassAuthState||Mi.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(E,g);if("unknown"!==g.type){if(g.eventId){const S=yield E.auth._redirectUserForId(g.eventId);if(S)return E.user=S,m().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Go(){return(Go=(0,l.Z)(function*(v,g){const m=id(g),E=Ef(v);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function Ml(v,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(v,g){return Ef(v)._set(id(g),"true")})).apply(this,arguments)}function wf(v,g){Mi.set(v._key(),g)}function Ef(v){return J(v._redirectPersistence)}function id(v){return z("pendingRedirect",v.config.apiKey,v.name)}function Ot(){return(Ot=(0,l.Z)(function*(v,g,m){const E=ut(v);Be(v,g,ji);const S=Ma(E,m);return yield Ml(S,E),S._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v);Be(E.auth,g,ji);const S=Ma(E.auth,m);yield Ml(S,E.auth);const O=yield Xs(E);return S._openRedirect(E.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,g,m){const E=(0,U.m9)(v);Be(E.auth,g,ji);const S=Ma(E.auth,m);yield dn(!1,E,g.providerId),yield Ml(S,E.auth);const O=yield Xs(E);return S._openRedirect(E.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,g){return yield ut(v)._initializationPromise,Wo(v,g,!1)})).apply(this,arguments)}function Wo(v,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,g,m=!1){const E=ut(v),S=Ma(E,g),W=yield new nd(E,S,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield E._persistUserIfCurrent(W.user),yield E._setRedirectUser(null,g)),W})).apply(this,arguments)}function Xs(v){return od.apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(v){const g=vl(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Rc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(m=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ld(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pc(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var E;if(g.error&&!Pc(g)){const S=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(de(this.auth,S))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const E=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ad(g))}saveEventToCache(g){this.cachedEventUids.add(ad(g)),this.lastProcessedEventTime=Date.now()}}function ad(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Pc({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Cf(v){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,l.Z)(function*(v,g={}){return Ut(v,"GET","/v1/projects",g)})).apply(this,arguments)}const cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kl=/^https?/;function Df(){return(Df=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Cf(v);for(const m of g)try{if(LE(m))return}catch(E){}Me(v,"unauthorized-domain")})).apply(this,arguments)}function LE(v){const g=Fe(),{protocol:m,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===E}if(!kl.test(m))return!1;if(cd.test(v))return E===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const nm=new nn(3e4,6e4);function If(){const v=$n().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Rl=null;function eo(v){return Rl=Rl||function im(v){return new Promise((g,m)=>{var E,S,O;function W(){If(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{If(),m(de(v,"network-request-failed"))},timeout:nm.get()})}if(null===(S=null===(E=$n().gapi)||void 0===E?void 0:E.iframes)||void 0===S?void 0:S.Iframe)g(gapi.iframes.getContext());else{if(!(null===(O=$n().gapi)||void 0===O?void 0:O.load)){const oe=Aa("iframefcb");return $n()[oe]=()=>{gapi.load?W():m(de(v,"network-request-failed"))},Ss(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Re=>m(Re))}W()}}).catch(g=>{throw Rl=null,g})}(v),Rl}const Pl=new nn(5e3,15e3),Fl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rm(v){const g=v.config;H(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?Yn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:me.SDK_VERSION},S=Ll.get(v.config.apiHost);S&&(E.eid=S);const O=v._getFrameworks();return O.length&&(E.fw=O.join(",")),`${m}?${(0,U.xO)(E).slice(1)}`}function to(){return to=(0,l.Z)(function*(v){const g=yield eo(v),m=$n().gapi;return H(m,v,"internal-error"),g.open({where:document.body,url:rm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fl,dontclear:!0},E=>new Promise(function(){var S=(0,l.Z)(function*(O,W){yield E.restyle({setHideOnLeave:!1});const oe=de(v,"network-request-failed"),Re=$n().setTimeout(()=>{W(oe)},Pl.get());function Ke(){$n().clearTimeout(Re),O(E)}E.ping(Ke).then(Ke,()=>{W(oe)})});return function(O,W){return S.apply(this,arguments)}}()))}),to.apply(this,arguments)}const dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sm{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function yr(v,g,m,E,S,O){H(v.config.authDomain,v,"auth-domain-config-required"),H(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:me.SDK_VERSION,eventId:S};if(g instanceof ji){g.setDefaultLanguage(v.languageCode),W.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(W.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Re,Ke]of Object.entries(O||{}))W[Re]=Ke}if(g instanceof al){const Re=g.getScopes().filter(Ke=>""!==Ke);Re.length>0&&(W.scopes=Re.join(","))}v.tenantId&&(W.tid=v.tenantId);const oe=W;for(const Re of Object.keys(oe))void 0===oe[Re]&&delete oe[Re];return`${function no({config:v}){return v.emulator?Yn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,U.xO)(oe).slice(1)}`}const Uc="webStorageSupport";class gd extends class UE{constructor(g){this.factorId=g}_process(g,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,E);case"signin":return this._finalizeSignIn(g,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new gd(g)}_finalizeEnroll(g,m,E){return function ME(v,g){return Ut(v,"POST","/v2/accounts/mfaEnrollment:finalize",$t(v,g))}(g,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function vf(v,g){return Ut(v,"POST","/v2/accounts/mfaSignIn:finalize",$t(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let VE=(()=>{class v{constructor(){}static assertion(m){return gd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Af="@firebase/auth",am="0.20.11";class lm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(E=>{var S;g((null===(S=E)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ns(){return window}function is(){return(is=(0,l.Z)(function*(v,g,m){var E;const{BuildInfo:S}=ns();K(g.sessionId,"AuthEvent did not contain a session ID");const O=yield yd(g.sessionId),W={};return An()?W.ibi=S.packageName:fn()?W.apn=S.packageName:Me(v,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=O,yr(v,m,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,W)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(v){const{BuildInfo:g}=ns(),m={};An()?m.iosBundleId=g.packageName:fn()?m.androidPackageName=g.packageName:Me(v,"operation-not-supported-in-this-environment"),yield Cf(v,m)})).apply(this,arguments)}function Vc(){return(Vc=(0,l.Z)(function*(v,g,m){const{cordova:E}=ns();let S=()=>{};try{yield new Promise((O,W)=>{let oe=null;function Re(){var lt;O();const ci=null===(lt=E.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof ci&&ci(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ke(){oe||(oe=window.setTimeout(()=>{W(de(v,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}g.addPassiveListener(Re),document.addEventListener("resume",Ke,!1),fn()&&document.addEventListener("visibilitychange",ft,!1),S=()=>{g.removePassiveListener(Re),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",ft,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function yd(v){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(v){const g=dm(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dm(v){if(K(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let E=0;E<v.length;E++)m[E]=v.charCodeAt(E);return m}(0,U.Pz)("authIdTokenMaxAge"),function fv(v){(0,me._registerComponent)(new Ce.wA("auth",(g,{options:m})=>{const E=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),{apiKey:O,authDomain:W}=E.options;return((oe,Re)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:oe.name}),H(!(null==W?void 0:W.includes(":")),"argument-error",{appName:oe.name});const Ke={apiKey:O,authDomain:W,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ru(v)},ft=new We(oe,Re,Ke);return function ae(v,g){const m=(null==g?void 0:g.persistence)||[],E=(Array.isArray(m)?m:[m]).map(J);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(ft,m),ft})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,E)=>{g.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new Ce.wA("auth-internal",g=>{const m=ut(g.getProvider("auth").getImmediate());return new lm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Af,am,function md(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,me.registerVersion)(Af,am,"esm2017")}("Browser");class Of extends Rc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function vd(v){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(v){const g=yield tr()._get(Nn(v));return g&&(yield tr()._remove(Nn(v))),g})).apply(this,arguments)}function Hc(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*g.length);v.push(g.charAt(E))}return v.join("")}function tr(){return J(hn)}function Nn(v){return z("authEvent",v.config.apiKey,v.name)}function ro(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,U.zd)(m.join("?"))}function gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:de("no-auth-event")}}function Ms(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Gc(v=(0,U.z$)()){return!("file:"!==Ms()&&"ionic:"!==Ms()&&"capacitor:"!==Ms()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ed(){try{const v=self.localStorage,g=vl();if(v)return v.setItem(g,"1"),v.removeItem(g),!function $c(v=(0,U.z$)()){return function ym(){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ni(v=(0,U.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,U.hl)()}catch(v){return Wc()&&(0,U.hl)()}return!1}function Wc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rf(){return(function Jn(){return"http:"===Ms()||"https:"===Ms()}()||(0,U.ru)()||Gc())&&!function _m(){return(0,U.b$)()||(0,U.UG)()}()&&Ed()&&!Wc()}function Cd(){return Gc()&&"undefined"!=typeof document}function Dd(){return(Dd=(0,l.Z)(function*(){return!!Cd()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},qc=H,jl="persistence";function Ff(v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v){yield v._initializationPromise;const g=vm(),m=z(jl,v.config.apiKey,v.name);g&&g.setItem(m,v._getPersistence())})).apply(this,arguments)}function vm(){var v;try{return(null===(v=function bv(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const wv=H;class rs{constructor(){this.browserResolver=J(class hv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=Wo,this._overrideRedirectResult=wf}_openPopup(g,m,E,S){var O=this;return(0,l.Z)(function*(){var W;K(null===(W=O.eventManagers[g._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const oe=yr(g,m,E,Fe(),S);return function Bc(v,g,m,E=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-E)/2,0).toString();let oe="";const Re=Object.assign(Object.assign({},dd),{width:E.toString(),height:S.toString(),top:O,left:W}),Ke=(0,U.z$)().toLowerCase();m&&(oe=bn(Ke)?"_blank":m),nt(Ke)&&(g=g||"http://localhost",Re.scrollbars="yes");const ft=Object.entries(Re).reduce((ci,[ki,Pa])=>`${ci}${ki}=${Pa},`,"");if(function ga(v=(0,U.z$)()){var g;return An(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ke)&&"_self"!==oe)return function cv(v,g){const m=document.createElement("a");m.href=v,m.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(g||"",oe),new sm(null);const lt=window.open(g||"",oe,ft);H(lt,v,"popup-blocked");try{lt.focus()}catch(ci){}return new sm(lt)}(g,oe,vl())})()}_openRedirect(g,m,E,S){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(g),function wl(v){$n().location.href=v}(yr(g,m,E,Fe(),S)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(K(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(g);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const E=yield function BE(v){return to.apply(this,arguments)}(g),S=new Rc(g);return E.register("authEvent",O=>(H(null==O?void 0:O.authEvent,g,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:S},m.iframes[g._key()]=E,S})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Uc,{type:Uc},S=>{var O;const W=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[Uc];void 0!==W&&m(!!W),Me(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Fc(v){return Df.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return zs()||At()||An()}}),this.cordovaResolver=J(class _v{constructor(){this._redirectPersistence=on,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wo,this._overrideRedirectResult=wf}_initialize(g){var m=this;return(0,l.Z)(function*(){const E=g._key();let S=m.eventManagers.get(E);return S||(S=new Of(g),m.eventManagers.set(E,S),m.attachCallbackListeners(g,S)),S})()}_openPopup(g){Me(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,E,S){var O=this;return(0,l.Z)(function*(){!function Nf(v){var g,m,E,S,O,W,oe,Re,Ke,ft;const lt=ns();H("function"==typeof(null===(g=null==lt?void 0:lt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(void 0!==(null===(m=null==lt?void 0:lt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(S=null===(E=null==lt?void 0:lt.cordova)||void 0===E?void 0:E.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Re=null===(oe=null===(W=null==lt?void 0:lt.cordova)||void 0===W?void 0:W.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Re?void 0:Re.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(ft=null===(Ke=null==lt?void 0:lt.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===ft?void 0:ft.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const W=yield O._initialize(g);yield W.initialized(),W.resetRedirect(),function em(){Mi.clear()}(),yield O._originValidation(g);const oe=function gv(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Hc(),postBody:null,tenantId:v.tenantId,error:de(v,"no-auth-event")}}(g,E,S);yield function hm(v,g){return tr()._set(Nn(v),g)}(g,oe);const Re=yield function _d(v,g,m){return is.apply(this,arguments)}(g,oe,m),Ke=yield function HE(v){const{cordova:g}=ns();return new Promise(m=>{g.plugins.browsertab.isAvailable(E=>{let S=null;E?g.plugins.browsertab.openUrl(v):S=g.InAppBrowser.open(v,function Ao(v=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function Mf(v,g,m){return Vc.apply(this,arguments)}(g,W,Ke)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jE(v){return qo.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:E,handleOpenURL:S,BuildInfo:O}=ns(),W=setTimeout((0,l.Z)(function*(){yield vd(g),m.onEvent(gm())}),500),oe=function(){var ft=(0,l.Z)(function*(lt){clearTimeout(W);const ci=yield vd(g);let ki=null;ci&&(null==lt?void 0:lt.url)&&(ki=function mv(v,g){var m,E;const S=function bd(v){const g=ro(v),m=g.link?decodeURIComponent(g.link):void 0,E=ro(m).link,S=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return ro(S).link||S||E||m||v}(g);if(S.includes("/__/auth/callback")){const O=ro(S),W=O.firebaseError?function fm(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(O.firebaseError)):null,oe=null===(E=null===(m=null==W?void 0:W.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Re=oe?de(oe):null;return Re?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(ci,lt.url)),m.onEvent(ki||gm())});return function(ci){return ft.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,oe);const Re=S,Ke=`${O.packageName.toLowerCase()}://`;ns().handleOpenURL=function(){var ft=(0,l.Z)(function*(lt){if(lt.toLowerCase().startsWith(Ke)&&oe({url:lt}),"function"==typeof Re)try{Re(lt)}catch(ci){console.error(ci)}});return function(lt){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=on,this._completeRedirectFn=Wo,this._overrideRedirectResult=wf}_initialize(g){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,E,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(g,m,E,S)})()}_openRedirect(g,m,E,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(g,m,E,S)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Cd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Td(){return Dd.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function bm(v){return v.unwrap()}function Cv(v){return wm(v)}function wm(v){const{_tokenResponse:g}=v instanceof U.ZR?v.customData:v;if(!g)return null;if(!(v instanceof U.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Sl.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Rg;break;case"facebook.com":E=Tc;break;case"github.com":E=Yy;break;case"twitter.com":E=Pg;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:oe,nonce:Re}=g;return O||W||S||oe?oe?m.startsWith("saml.")?Po._create(m,oe):Zs._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:S,accessToken:O}):new Ts(m).credential({idToken:S,accessToken:O,rawNonce:Re}):null}return v instanceof U.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function Oi(v,g){return g.catch(m=>{throw m instanceof U.ZR&&function Tv(v,g){var m,E;const S=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=g)||void 0===E?void 0:E.code))g.resolver=new Dv(v,function Gg(v,g){var m;const E=(0,U.m9)(v),S=g;return H(g.customData.operationType,E,"argument-error"),H(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),_l._fromError(E,S)}(v,g));else if(S){const O=wm(g),W=g;O&&(W.credential=O,W.tenantId=S.tenantId||void 0,W.email=S.email||void 0,W.phoneNumber=S.phoneNumber||void 0)}}(v,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Cv(m),additionalUserInfo:yi(m),user:so.getOrCreate(S)}})}function Bf(v,g){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,l.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:E=>Oi(v,m.confirm(E))}})).apply(this,arguments)}class Dv{constructor(g,m){this.resolver=m,this.auth=function Ev(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Oi(bm(this.auth),this.resolver.resolveSignIn(g))}}class so{constructor(g){this._delegate=g,this.multiFactor=function NE(v){const g=(0,U.m9)(v);return $g.has(g)||$g.set(g,yl._fromUser(g)),$g.get(g)}(g)}static getOrCreate(g){return so.USER_MAP.has(g)||so.USER_MAP.set(g,new so(g)),so.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,l.Z)(function*(){return Oi(m.auth,Qi(m._delegate,g))})()}linkWithPhoneNumber(g,m){var E=this;return(0,l.Z)(function*(){return Bf(E.auth,function Nc(v,g,m){return Qg.apply(this,arguments)}(E._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,l.Z)(function*(){return Oi(m.auth,function Jg(v,g,m){return td.apply(this,arguments)}(m._delegate,g,rs))})()}linkWithRedirect(g){var m=this;return(0,l.Z)(function*(){return yield Ff(ut(m.auth)),function tm(v,g,m){return function sd(v,g,m){return $o.apply(this,arguments)}(v,g,m)}(m._delegate,g,rs)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,l.Z)(function*(){return Oi(m.auth,va(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Bf(this.auth,function av(v,g,m){return Xi.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Oi(this.auth,function As(v,g,m){return ed.apply(this,arguments)}(this._delegate,g,rs))}reauthenticateWithRedirect(g){var m=this;return(0,l.Z)(function*(){return yield Ff(ut(m.auth)),function kc(v,g,m){return function vi(v,g,m){return xs.apply(this,arguments)}(v,g,m)}(m._delegate,g,rs)})()}sendEmailVerification(g){return function Ys(v,g){return ff.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,l.Z)(function*(){return yield function PS(v,g){return En.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function Vg(v,g){return gf((0,U.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function AE(v,g){return gf((0,U.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Qu(v,g){return xa.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ug(v,g){return Wu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Bg(v,g,m){return pf.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}so.USER_MAP=new WeakMap;const zc=H;let Vf=(()=>{class v{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;zc(S,"invalid-api-key",{appName:m.name}),zc(S,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?rs:void 0;this._delegate=E.initialize({options:{persistence:Em(S,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?so.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function zi(v,g,m){const E=ut(v);H(E._canInitEmulator,E,"emulator-config-failed"),H(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),O=xo(g),{host:W,port:oe}=function si(v){const g=xo(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const O=S[1];return{host:O,port:Cs(E.substr(O.length+1))}}{const[O,W]=E.split(":");return{host:O,port:Cs(W)}}}(g);E.config.emulator={url:`${O}//${W}${null===oe?"":`:${oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:W,port:oe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function xn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,E)}applyActionCode(m){return function Gu(v,g){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Wt(this._delegate,m)}confirmPasswordReset(m,E){return function Fg(v,g,m){return cf.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var S=this;return(0,l.Z)(function*(){return Oi(S._delegate,function fl(v,g,m){return Nr.apply(this,arguments)}(S._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Lg(v,g){return Lo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Xy(v,g){const m=Lu.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){zc(Rf(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function lv(v,g){return Ol.apply(this,arguments)}(m._delegate,rs);return E?Oi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function wd(v,g){ut(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,E,S){const{next:O,error:W,complete:oe}=Iv(m,E,S);return this._delegate.onAuthStateChanged(O,W,oe)}onIdTokenChanged(m,E,S){const{next:O,error:W,complete:oe}=Iv(m,E,S);return this._delegate.onIdTokenChanged(O,W,oe)}sendSignInLinkToEmail(m,E){return function df(v,g,m){return hf.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Jy(v,g,m){return lf.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,l.Z)(function*(){let S;switch(function Pf(v,g){qc(Object.values(bi).includes(g),v,"invalid-persistence-type"),(0,U.b$)()?qc(g!==bi.SESSION,v,"unsupported-persistence-type"):(0,U.UG)()?qc(g===bi.NONE,v,"unsupported-persistence-type"):Wc()?qc(g===bi.NONE||g===bi.LOCAL&&(0,U.hl)(),v,"unsupported-persistence-type"):qc(g===bi.NONE||Ed(),v,"unsupported-persistence-type")}(E._delegate,m),m){case bi.SESSION:S=on;break;case bi.LOCAL:S=(yield J(jo)._isAvailable())?jo:hn;break;case bi.NONE:S=B;break;default:return Me("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Oi(this._delegate,function IE(v){return tf.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Oi(this._delegate,hl(this._delegate,m))}signInWithCustomToken(m){return Oi(this._delegate,function Hu(v,g){return bt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return Oi(this._delegate,function uf(v,g,m){return hl((0,U.m9)(v),kg.credential(g,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return Oi(this._delegate,function SE(v,g,m){return Ea.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return Bf(this._delegate,function Qn(v,g,m){return Mc.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,l.Z)(function*(){return zc(Rf(),E._delegate,"operation-not-supported-in-this-environment"),Oi(E._delegate,function PE(v,g,m){return Xu.apply(this,arguments)}(E._delegate,m,rs))})()}signInWithRedirect(m){var E=this;return(0,l.Z)(function*(){return zc(Rf(),E._delegate,"operation-not-supported-in-this-environment"),yield Ff(E._delegate),function rd(v,g,m){return function ts(v,g,m){return Ot.apply(this,arguments)}(v,g,m)}(E._delegate,m,rs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ln(v,g){return $u.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=bi,v})();function Iv(v,g,m){let E=v;"function"!=typeof v&&({next:E,error:g,complete:m}=v);const S=E;return{next:W=>S(W&&so.getOrCreate(W)),error:g,complete:m}}function Em(v,g){const m=function Lf(v,g){const m=vm();if(!m)return[];const E=z(jl,v,g);switch(m.getItem(E)){case bi.NONE:return[B];case bi.LOCAL:return[jo,on];case bi.SESSION:return[on];default:return[]}}(v,g);if("undefined"!=typeof self&&!m.includes(jo)&&m.push(jo),"undefined"!=typeof window)for(const E of[hn,on])m.includes(E)||m.push(E);return m.includes(B)||m.push(B),m}class oo{constructor(){this.providerId="phone",this._delegate=new Sl(bm(ie.Z.auth()))}static credential(g,m){return Sl.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}oo.PHONE_SIGN_IN_METHOD=Sl.PHONE_SIGN_IN_METHOD,oo.PROVIDER_ID=Sl.PROVIDER_ID;const ss=H;class Sv{constructor(g,m,E=ie.Z.app()){var S;ss(null===(S=E.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Yg(g,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cm(v){v.INTERNAL.registerComponent(new Ce.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new Vf(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kg,FacebookAuthProvider:Tc,GithubAuthProvider:Yy,GoogleAuthProvider:Rg,OAuthProvider:Ts,SAMLAuthProvider:ll,PhoneAuthProvider:oo,PhoneMultiFactorGenerator:VE,RecaptchaVerifier:Sv,TwitterAuthProvider:Pg,Auth:Vf,AuthCredential:zr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.24")}(ie.Z)},8306:(tt,be,F)=>{F.d(be,{y:()=>$});var l=F(930),ie=F(727),U=F(8822),me=F(4671);var Ce=F(2416),Te=F(576),Ne=F(2806);let $=(()=>{class Oe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const te=new Oe;return te.source=this,te.operator=Ue,te}subscribe(Ue,te,Se){const Je=function He(Oe){return Oe&&Oe instanceof l.Lv||function X(Oe){return Oe&&(0,Te.m)(Oe.next)&&(0,Te.m)(Oe.error)&&(0,Te.m)(Oe.complete)}(Oe)&&(0,ie.Nn)(Oe)}(Ue)?Ue:new l.Hp(Ue,te,Se);return(0,Ne.x)(()=>{const{operator:rt,source:Me}=this;Je.add(rt?rt.call(Je,Me):Me?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(te){Ue.error(te)}}forEach(Ue,te){return new(te=q(te))((Se,Je)=>{const rt=new l.Hp({next:Me=>{try{Ue(Me)}catch(de){Je(de),rt.unsubscribe()}},error:Je,complete:Se});this.subscribe(rt)})}_subscribe(Ue){var te;return null===(te=this.source)||void 0===te?void 0:te.subscribe(Ue)}[U.L](){return this}pipe(...Ue){return function Ie(Oe){return 0===Oe.length?me.y:1===Oe.length?Oe[0]:function(Ue){return Oe.reduce((te,Se)=>Se(te),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=q(Ue))((te,Se)=>{let Je;this.subscribe(rt=>Je=rt,rt=>Se(rt),()=>te(Je))})}}return Oe.create=Ve=>new Oe(Ve),Oe})();function q(Oe){var Ve;return null!==(Ve=null!=Oe?Oe:Ce.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(tt,be,F)=>{F.d(be,{x:()=>Ce});var l=F(8306),ie=F(727);const me=(0,F(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=F(8737),Ie=F(2806);let Ce=(()=>{class Ne extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const X=new Te(this,this);return X.operator=q,X}_throwIfClosed(){if(this.closed)throw new me}next(q){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(q)}})}error(q){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:X}=this;for(;X.length;)X.shift().error(q)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:X,isStopped:He,observers:Oe}=this;return X||He?ie.Lc:(this.currentObservers=null,Oe.push(q),new ie.w0(()=>{this.currentObservers=null,(0,Ae.P)(Oe,q)}))}_checkFinalizedStatuses(q){const{hasError:X,thrownError:He,isStopped:Oe}=this;X?q.error(He):Oe&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return Ne.create=($,q)=>new Te($,q),Ne})();class Te extends Ce{constructor($,q){super(),this.destination=$,this.source=q}next($){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===X||X.call(q,$)}error($){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===X||X.call(q,$)}complete(){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===q||q.call($)}_subscribe($){var q,X;return null!==(X=null===(q=this.source)||void 0===q?void 0:q.subscribe($))&&void 0!==X?X:ie.Lc}}},930:(tt,be,F)=>{F.d(be,{Hp:()=>Ue,Lv:()=>X});var l=F(576),ie=F(727),U=F(2416),me=F(7849),Ae=F(5032);const Ie=Ne("C",void 0,void 0);function Ne(Me,de,ye){return{kind:Me,value:de,error:ye}}var $=F(3410),q=F(2806);class X extends ie.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,ie.Nn)(de)&&de.add(this)):this.destination=rt}static create(de,ye,Be){return new Ue(de,ye,Be)}next(de){this.isStopped?Je(function Te(Me){return Ne("N",Me,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Je(function Ce(Me){return Ne("E",void 0,Me)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Je(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Oe(Me,de){return He.call(Me,de)}class Ve{constructor(de){this.partialObserver=de}next(de){const{partialObserver:ye}=this;if(ye.next)try{ye.next(de)}catch(Be){te(Be)}}error(de){const{partialObserver:ye}=this;if(ye.error)try{ye.error(de)}catch(Be){te(Be)}else te(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(ye){te(ye)}}}class Ue extends X{constructor(de,ye,Be){let ze;if(super(),(0,l.m)(de)||!de)ze={next:null!=de?de:void 0,error:null!=ye?ye:void 0,complete:null!=Be?Be:void 0};else{let H;this&&U.v.useDeprecatedNextContext?(H=Object.create(de),H.unsubscribe=()=>this.unsubscribe(),ze={next:de.next&&Oe(de.next,H),error:de.error&&Oe(de.error,H),complete:de.complete&&Oe(de.complete,H)}):ze=de}this.destination=new Ve(ze)}}function te(Me){U.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Me):(0,me.h)(Me)}function Je(Me,de){const{onStoppedNotification:ye}=U.v;ye&&$.z.setTimeout(()=>ye(Me,de))}const rt={closed:!0,next:Ae.Z,error:function Se(Me){throw Me},complete:Ae.Z}},727:(tt,be,F)=>{F.d(be,{Lc:()=>Ie,w0:()=>Ae,Nn:()=>Ce});var l=F(576);const U=(0,F(3888).d)(Ne=>function(q){Ne(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((X,He)=>`${He+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var me=F(8737);class Ae{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Oe of q)Oe.remove(this);else q.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(Oe){$=Oe instanceof U?Oe.errors:[Oe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Oe of He)try{Te(Oe)}catch(Ve){$=null!=$?$:[],Ve instanceof U?$=[...$,...Ve.errors]:$.push(Ve)}}if($)throw new U($)}}add($){var q;if($&&$!==this)if(this.closed)Te($);else{if($ instanceof Ae){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push($)}}_hasParent($){const{_parentage:q}=this;return q===$||Array.isArray(q)&&q.includes($)}_addParent($){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push($),q):q?[q,$]:$}_removeParent($){const{_parentage:q}=this;q===$?this._parentage=null:Array.isArray(q)&&(0,me.P)(q,$)}remove($){const{_finalizers:q}=this;q&&(0,me.P)(q,$),$ instanceof Ae&&$._removeParent(this)}}Ae.EMPTY=(()=>{const Ne=new Ae;return Ne.closed=!0,Ne})();const Ie=Ae.EMPTY;function Ce(Ne){return Ne instanceof Ae||Ne&&"closed"in Ne&&(0,l.m)(Ne.remove)&&(0,l.m)(Ne.add)&&(0,l.m)(Ne.unsubscribe)}function Te(Ne){(0,l.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(tt,be,F)=>{F.d(be,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,be,F)=>{F.d(be,{E:()=>ie});const ie=new(F(8306).y)(Ae=>Ae.complete())},8996:(tt,be,F)=>{F.d(be,{D:()=>de});var l=F(8421),ie=F(5363),U=F(9468),Ie=F(8306),Te=F(2202),Ne=F(576),$=F(9672);function X(ye,Be){if(!ye)throw new Error("Iterable cannot be null");return new Ie.y(ze=>{(0,$.f)(ze,Be,()=>{const H=ye[Symbol.asyncIterator]();(0,$.f)(ze,Be,()=>{H.next().then(_e=>{_e.done?ze.complete():ze.next(_e.value)})},0,!0)})})}var He=F(3670),Oe=F(8239),Ve=F(1144),Ue=F(6495),te=F(2206),Se=F(4532),Je=F(3260);function de(ye,Be){return Be?function Me(ye,Be){if(null!=ye){if((0,He.c)(ye))return function me(ye,Be){return(0,l.Xf)(ye).pipe((0,U.R)(Be),(0,ie.Q)(Be))}(ye,Be);if((0,Ve.z)(ye))return function Ce(ye,Be){return new Ie.y(ze=>{let H=0;return Be.schedule(function(){H===ye.length?ze.complete():(ze.next(ye[H++]),ze.closed||this.schedule())})})}(ye,Be);if((0,Oe.t)(ye))return function Ae(ye,Be){return(0,l.Xf)(ye).pipe((0,U.R)(Be),(0,ie.Q)(Be))}(ye,Be);if((0,te.D)(ye))return X(ye,Be);if((0,Ue.T)(ye))return function q(ye,Be){return new Ie.y(ze=>{let H;return(0,$.f)(ze,Be,()=>{H=ye[Te.h](),(0,$.f)(ze,Be,()=>{let _e,K;try{({value:_e,done:K}=H.next())}catch(ee){return void ze.error(ee)}K?ze.complete():ze.next(_e)},0,!0)}),()=>(0,Ne.m)(null==H?void 0:H.return)&&H.return()})}(ye,Be);if((0,Je.L)(ye))return function rt(ye,Be){return X((0,Je.Q)(ye),Be)}(ye,Be)}throw(0,Se.z)(ye)}(ye,Be):(0,l.Xf)(ye)}},8421:(tt,be,F)=>{F.d(be,{Xf:()=>He});var l=F(655),ie=F(1144),U=F(8239),me=F(8306),Ae=F(3670),Ie=F(2206),Ce=F(4532),Te=F(6495),Ne=F(3260),$=F(576),q=F(7849),X=F(8822);function He(Me){if(Me instanceof me.y)return Me;if(null!=Me){if((0,Ae.c)(Me))return function Oe(Me){return new me.y(de=>{const ye=Me[X.L]();if((0,$.m)(ye.subscribe))return ye.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ie.z)(Me))return function Ve(Me){return new me.y(de=>{for(let ye=0;ye<Me.length&&!de.closed;ye++)de.next(Me[ye]);de.complete()})}(Me);if((0,U.t)(Me))return function Ue(Me){return new me.y(de=>{Me.then(ye=>{de.closed||(de.next(ye),de.complete())},ye=>de.error(ye)).then(null,q.h)})}(Me);if((0,Ie.D)(Me))return Se(Me);if((0,Te.T)(Me))return function te(Me){return new me.y(de=>{for(const ye of Me)if(de.next(ye),de.closed)return;de.complete()})}(Me);if((0,Ne.L)(Me))return function Je(Me){return Se((0,Ne.Q)(Me))}(Me)}throw(0,Ce.z)(Me)}function Se(Me){return new me.y(de=>{(function rt(Me,de){var ye,Be,ze,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ye=(0,l.KL)(Me);!(Be=yield ye.next()).done;)if(de.next(Be.value),de.closed)return}catch(_e){ze={error:_e}}finally{try{Be&&!Be.done&&(H=ye.return)&&(yield H.call(ye))}finally{if(ze)throw ze.error}}de.complete()})})(Me,de).catch(ye=>de.error(ye))})}},6451:(tt,be,F)=>{F.d(be,{T:()=>Ie});var l=F(8189),ie=F(8421),U=F(515),me=F(3269),Ae=F(8996);function Ie(...Ce){const Te=(0,me.yG)(Ce),Ne=(0,me._6)(Ce,1/0),$=Ce;return $.length?1===$.length?(0,ie.Xf)($[0]):(0,l.J)(Ne)((0,Ae.D)($,Te)):U.E}},5403:(tt,be,F)=>{F.d(be,{x:()=>ie});var l=F(930);function ie(me,Ae,Ie,Ce,Te){return new U(me,Ae,Ie,Ce,Te)}class U extends l.Lv{constructor(Ae,Ie,Ce,Te,Ne,$){super(Ae),this.onFinalize=Ne,this.shouldUnsubscribe=$,this._next=Ie?function(q){try{Ie(q)}catch(X){Ae.error(X)}}:super._next,this._error=Te?function(q){try{Te(q)}catch(X){Ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(q){Ae.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4004:(tt,be,F)=>{F.d(be,{U:()=>U});var l=F(4482),ie=F(5403);function U(me,Ae){return(0,l.e)((Ie,Ce)=>{let Te=0;Ie.subscribe((0,ie.x)(Ce,Ne=>{Ce.next(me.call(Ae,Ne,Te++))}))})}},8189:(tt,be,F)=>{F.d(be,{J:()=>U});var l=F(5577),ie=F(4671);function U(me=1/0){return(0,l.z)(ie.y,me)}},5577:(tt,be,F)=>{F.d(be,{z:()=>Te});var l=F(4004),ie=F(8421),U=F(4482),me=F(9672),Ae=F(5403),Ce=F(576);function Te(Ne,$,q=1/0){return(0,Ce.m)($)?Te((X,He)=>(0,l.U)((Oe,Ve)=>$(X,Oe,He,Ve))((0,ie.Xf)(Ne(X,He))),q):("number"==typeof $&&(q=$),(0,U.e)((X,He)=>function Ie(Ne,$,q,X,He,Oe,Ve,Ue){const te=[];let Se=0,Je=0,rt=!1;const Me=()=>{rt&&!te.length&&!Se&&$.complete()},de=Be=>Se<X?ye(Be):te.push(Be),ye=Be=>{Oe&&$.next(Be),Se++;let ze=!1;(0,ie.Xf)(q(Be,Je++)).subscribe((0,Ae.x)($,H=>{null==He||He(H),Oe?de(H):$.next(H)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Se--;te.length&&Se<X;){const H=te.shift();Ve?(0,me.f)($,Ve,()=>ye(H)):ye(H)}Me()}catch(H){$.error(H)}}))};return Ne.subscribe((0,Ae.x)($,de,()=>{rt=!0,Me()})),()=>{null==Ue||Ue()}}(X,He,Ne,q)))}},5363:(tt,be,F)=>{F.d(be,{Q:()=>me});var l=F(9672),ie=F(4482),U=F(5403);function me(Ae,Ie=0){return(0,ie.e)((Ce,Te)=>{Ce.subscribe((0,U.x)(Te,Ne=>(0,l.f)(Te,Ae,()=>Te.next(Ne),Ie),()=>(0,l.f)(Te,Ae,()=>Te.complete(),Ie),Ne=>(0,l.f)(Te,Ae,()=>Te.error(Ne),Ie)))})}},3099:(tt,be,F)=>{F.d(be,{B:()=>Ae});var l=F(8421),ie=F(7579),U=F(930),me=F(4482);function Ae(Ce={}){const{connector:Te=(()=>new ie.x),resetOnError:Ne=!0,resetOnComplete:$=!0,resetOnRefCountZero:q=!0}=Ce;return X=>{let He,Oe,Ve,Ue=0,te=!1,Se=!1;const Je=()=>{null==Oe||Oe.unsubscribe(),Oe=void 0},rt=()=>{Je(),He=Ve=void 0,te=Se=!1},Me=()=>{const de=He;rt(),null==de||de.unsubscribe()};return(0,me.e)((de,ye)=>{Ue++,!Se&&!te&&Je();const Be=Ve=null!=Ve?Ve:Te();ye.add(()=>{Ue--,0===Ue&&!Se&&!te&&(Oe=Ie(Me,q))}),Be.subscribe(ye),!He&&Ue>0&&(He=new U.Hp({next:ze=>Be.next(ze),error:ze=>{Se=!0,Je(),Oe=Ie(rt,Ne,ze),Be.error(ze)},complete:()=>{te=!0,Je(),Oe=Ie(rt,$),Be.complete()}}),(0,l.Xf)(de).subscribe(He))})(X)}}function Ie(Ce,Te,...Ne){if(!0===Te)return void Ce();if(!1===Te)return;const $=new U.Hp({next:()=>{$.unsubscribe(),Ce()}});return Te(...Ne).subscribe($)}},9468:(tt,be,F)=>{F.d(be,{R:()=>ie});var l=F(4482);function ie(U,me=0){return(0,l.e)((Ae,Ie)=>{Ie.add(U.schedule(()=>Ae.subscribe(Ie),me))})}},3410:(tt,be,F)=>{F.d(be,{z:()=>l});const l={setTimeout(ie,U,...me){const{delegate:Ae}=l;return(null==Ae?void 0:Ae.setTimeout)?Ae.setTimeout(ie,U,...me):setTimeout(ie,U,...me)},clearTimeout(ie){const{delegate:U}=l;return((null==U?void 0:U.clearTimeout)||clearTimeout)(ie)},delegate:void 0}},2202:(tt,be,F)=>{F.d(be,{h:()=>ie});const ie=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,be,F)=>{F.d(be,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,be,F)=>{F.d(be,{_6:()=>Ie,jO:()=>me,yG:()=>Ae});var l=F(576),ie=F(3532);function U(Ce){return Ce[Ce.length-1]}function me(Ce){return(0,l.m)(U(Ce))?Ce.pop():void 0}function Ae(Ce){return(0,ie.K)(U(Ce))?Ce.pop():void 0}function Ie(Ce,Te){return"number"==typeof U(Ce)?Ce.pop():Te}},8737:(tt,be,F)=>{function l(ie,U){if(ie){const me=ie.indexOf(U);0<=me&&ie.splice(me,1)}}F.d(be,{P:()=>l})},3888:(tt,be,F)=>{function l(ie){const me=ie(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}F.d(be,{d:()=>l})},2806:(tt,be,F)=>{F.d(be,{O:()=>me,x:()=>U});var l=F(2416);let ie=null;function U(Ae){if(l.v.useDeprecatedSynchronousErrorHandling){const Ie=!ie;if(Ie&&(ie={errorThrown:!1,error:null}),Ae(),Ie){const{errorThrown:Ce,error:Te}=ie;if(ie=null,Ce)throw Te}}else Ae()}function me(Ae){l.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=Ae)}},9672:(tt,be,F)=>{function l(ie,U,me,Ae=0,Ie=!1){const Ce=U.schedule(function(){me(),Ie?ie.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(ie.add(Ce),!Ie)return Ce}F.d(be,{f:()=>l})},4671:(tt,be,F)=>{function l(ie){return ie}F.d(be,{y:()=>l})},1144:(tt,be,F)=>{F.d(be,{z:()=>l});const l=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(tt,be,F)=>{F.d(be,{D:()=>ie});var l=F(576);function ie(U){return Symbol.asyncIterator&&(0,l.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(tt,be,F)=>{function l(ie){return"function"==typeof ie}F.d(be,{m:()=>l})},3670:(tt,be,F)=>{F.d(be,{c:()=>U});var l=F(8822),ie=F(576);function U(me){return(0,ie.m)(me[l.L])}},6495:(tt,be,F)=>{F.d(be,{T:()=>U});var l=F(2202),ie=F(576);function U(me){return(0,ie.m)(null==me?void 0:me[l.h])}},8239:(tt,be,F)=>{F.d(be,{t:()=>ie});var l=F(576);function ie(U){return(0,l.m)(null==U?void 0:U.then)}},3260:(tt,be,F)=>{F.d(be,{L:()=>me,Q:()=>U});var l=F(655),ie=F(576);function U(Ae){return(0,l.FC)(this,arguments,function*(){const Ce=Ae.getReader();try{for(;;){const{value:Te,done:Ne}=yield(0,l.qq)(Ce.read());if(Ne)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Te)}}finally{Ce.releaseLock()}})}function me(Ae){return(0,ie.m)(null==Ae?void 0:Ae.getReader)}},3532:(tt,be,F)=>{F.d(be,{K:()=>ie});var l=F(576);function ie(U){return U&&(0,l.m)(U.schedule)}},4482:(tt,be,F)=>{F.d(be,{A:()=>ie,e:()=>U});var l=F(576);function ie(me){return(0,l.m)(null==me?void 0:me.lift)}function U(me){return Ae=>{if(ie(Ae))return Ae.lift(function(Ie){try{return me(Ie,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,be,F)=>{function l(){}F.d(be,{Z:()=>l})},7849:(tt,be,F)=>{F.d(be,{h:()=>U});var l=F(2416),ie=F(3410);function U(me){ie.z.setTimeout(()=>{const{onUnhandledError:Ae}=l.v;if(!Ae)throw me;Ae(me)})}},4532:(tt,be,F)=>{function l(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>l})},655:(tt,be,F)=>{function me(K,ee){var J={};for(var fe in K)Object.prototype.hasOwnProperty.call(K,fe)&&ee.indexOf(fe)<0&&(J[fe]=K[fe]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(fe=Object.getOwnPropertySymbols(K);ae<fe.length;ae++)ee.indexOf(fe[ae])<0&&Object.prototype.propertyIsEnumerable.call(K,fe[ae])&&(J[fe[ae]]=K[fe[ae]])}return J}function Te(K,ee,J,fe){return new(J||(J=Promise))(function(Fe,dt){function Jt(nn){try{Ye(fe.next(nn))}catch(Yn){dt(Yn)}}function Lt(nn){try{Ye(fe.throw(nn))}catch(Yn){dt(Yn)}}function Ye(nn){nn.done?Fe(nn.value):function ae(Fe){return Fe instanceof J?Fe:new J(function(dt){dt(Fe)})}(nn.value).then(Jt,Lt)}Ye((fe=fe.apply(K,ee||[])).next())})}function te(K){return this instanceof te?(this.v=K,this):new te(K)}function Se(K,ee,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,fe=J.apply(K,ee||[]),Fe=[];return ae={},dt("next"),dt("throw"),dt("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function dt(Sn){fe[Sn]&&(ae[Sn]=function(rn){return new Promise(function(qi,$t){Fe.push([Sn,rn,qi,$t])>1||Jt(Sn,rn)})})}function Jt(Sn,rn){try{!function Lt(Sn){Sn.value instanceof te?Promise.resolve(Sn.value.v).then(Ye,nn):Yn(Fe[0][2],Sn)}(fe[Sn](rn))}catch(qi){Yn(Fe[0][3],qi)}}function Ye(Sn){Jt("next",Sn)}function nn(Sn){Jt("throw",Sn)}function Yn(Sn,rn){Sn(rn),Fe.shift(),Fe.length&&Jt(Fe[0][0],Fe[0][1])}}function rt(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ee=K[Symbol.asyncIterator];return ee?ee.call(K):(K=function X(K){var ee="function"==typeof Symbol&&Symbol.iterator,J=ee&&K[ee],fe=0;if(J)return J.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&fe>=K.length&&(K=void 0),{value:K&&K[fe++],done:!K}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),J={},fe("next"),fe("throw"),fe("return"),J[Symbol.asyncIterator]=function(){return this},J);function fe(Fe){J[Fe]=K[Fe]&&function(dt){return new Promise(function(Jt,Lt){!function ae(Fe,dt,Jt,Lt){Promise.resolve(Lt).then(function(Ye){Fe({value:Ye,done:Jt})},dt)}(Jt,Lt,(dt=K[Fe](dt)).done,dt.value)})}}}F.d(be,{FC:()=>Se,KL:()=>rt,_T:()=>me,mG:()=>Te,qq:()=>te})},5e3:(tt,be,F)=>{F.d(be,{$8M:()=>Ss,$Z:()=>u1,AFp:()=>WM,ALo:()=>lT,AaK:()=>Te,AsE:()=>x0,BQk:()=>p_,CHM:()=>wa,CRH:()=>xM,CZH:()=>hh,CqO:()=>cs,EJc:()=>ZM,EpF:()=>h1,F$t:()=>g_,F4k:()=>tc,FYo:()=>H0,FiY:()=>Xs,G48:()=>iN,Gf:()=>SM,GfV:()=>G0,Gpc:()=>q,Hsn:()=>m_,Ikx:()=>N0,JOm:()=>g,LFG:()=>vi,LSH:()=>ro,Lbi:()=>wT,MAs:()=>s1,MGl:()=>Ps,NdJ:()=>rp,O4$:()=>iv,OlP:()=>kn,Oqu:()=>A0,PXZ:()=>RT,Q2q:()=>r0,Q6J:()=>c_,QGY:()=>Ur,Qsj:()=>CB,QtT:()=>rh,R0b:()=>_o,RDi:()=>nf,Rgc:()=>ah,SBq:()=>cu,SDv:()=>P0,Sil:()=>YM,Suo:()=>AM,TTD:()=>Ts,TgZ:()=>d_,Tol:()=>b1,Udp:()=>ou,VKq:()=>oT,VLi:()=>NT,W1O:()=>kM,WLB:()=>aT,X6Q:()=>dU,XFs:()=>yt,Xpm:()=>wt,Y36:()=>Wa,YKP:()=>sM,YNc:()=>n1,Yjl:()=>bn,Yz7:()=>rn,ZZ4:()=>yb,_Bn:()=>N_,_UZ:()=>m0,_Vd:()=>j0,_c5:()=>gN,_uU:()=>C1,aQg:()=>Dp,c2e:()=>qM,cJS:()=>$t,cg1:()=>O0,dDg:()=>ub,deG:()=>Kg,dqk:()=>zt,eFA:()=>PT,ekj:()=>T0,f3M:()=>tm,g9A:()=>bT,h0i:()=>br,hGG:()=>W_,hij:()=>w_,iGM:()=>IM,ifc:()=>Kt,ip1:()=>vT,kEZ:()=>cM,kL8:()=>px,kYT:()=>ne,kcU:()=>rv,lG2:()=>At,lcZ:()=>mM,n5z:()=>Mn,oAB:()=>pe,oxw:()=>_0,pQV:()=>F0,qLn:()=>rs,qOj:()=>n_,qZA:()=>h_,s9C:()=>y0,sBO:()=>hU,sIi:()=>$a,s_b:()=>P_,soG:()=>rb,tBr:()=>Oa,tb:()=>ET,tp0:()=>ka,uIk:()=>r_,vHH:()=>Ve,vpe:()=>go,wAp:()=>mt,xp6:()=>Wl,ynx:()=>f_,z2F:()=>LT,zSh:()=>Yv,zs3:()=>Ha});var l=F(7579),ie=F(727),U=F(8306),me=F(6451),Ae=F(3099);function Ie(o){for(let a in o)if(o[a]===Ie)return a;throw Error("Could not find renamed property on target object.")}function Ce(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function Te(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Te).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Ne(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const $=Ie({__forward_ref__:Ie});function q(o){return o.__forward_ref__=q,o.toString=function(){return Te(this())},o}function X(o){return He(o)?o():o}function He(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===q}class Ve extends Error{constructor(a,u){super(function Ue(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function te(o){return"string"==typeof o?o:null==o?"":String(o)}function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():te(o)}function de(o,a){const u=a?` in ${a}`:"";throw new Ve(-201,`No provider for ${Se(o)} found${u}`)}function Ye(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function $t(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ut(o){return pr(o,ws)||pr(o,ua)}function pr(o,a){return o.hasOwnProperty(a)?o[a]:null}function mr(o){return o&&(o.hasOwnProperty(Ws)||o.hasOwnProperty(qs))?o[Ws]:null}const ws=Ie({\u0275prov:Ie}),Ws=Ie({\u0275inj:Ie}),ua=Ie({ngInjectableDef:Ie}),qs=Ie({ngInjectorDef:Ie});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let qr;function Fi(o){const a=qr;return qr=o,a}function nl(o,a,u){const h=Ut(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&yt.Optional?null:void 0!==a?a:void de(Te(o),"Injector")}function Di(o){return{toString:o}.toString()}var ii=(()=>((ii=ii||{})[ii.OnPush=0]="OnPush",ii[ii.Default=1]="Default",ii))(),Kt=(()=>{return(o=Kt||(Kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Kt;var o})();const at="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,Li="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=at||"undefined"!=typeof global&&global||vt||Li,Ui={},gt=[],fa=Ie({\u0275cmp:Ie}),Vt=Ie({\u0275dir:Ie}),pa=Ie({\u0275pipe:Ie}),Qe=Ie({\u0275mod:Ie}),we=Ie({\u0275fac:Ie}),Ze=Ie({__NG_ELEMENT_ID__:Ie});let Et=0;function wt(o){return Di(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ii.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,y=o.features,b=o.pipes;return h.id+=Et++,h.inputs=nt(o.inputs,u),h.outputs=nt(o.outputs),y&&y.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(V):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(B):null,h})}function V(o){return Xt(o)||function fn(o){return o[Vt]||null}(o)}function B(o){return function ri(o){return o[pa]||null}(o)}const z={};function pe(o){return Di(()=>{const a={type:o.type,bootstrap:o.bootstrap||gt,declarations:o.declarations||gt,imports:o.imports||gt,exports:o.exports||gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(z[o.id]=o.type),a})}function ne(o,a){return Di(()=>{const u=It(o,!0);u.declarations=a.declarations||gt,u.imports=a.imports||gt,u.exports=a.exports||gt})}function nt(o,a){if(null==o)return Ui;const u={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),u[p]=h,a&&(a[p]=y)}return u}const At=wt;function bn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Xt(o){return o[fa]||null}function It(o,a){const u=o[Qe]||null;if(!u&&!0===a)throw new Error(`Type ${Te(o)} does not have '\u0275mod' property.`);return u}function Zi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Zr(o){return Array.isArray(o)&&!0===o[1]}function Ec(o){return 0!=(8&o.flags)}function Qh(o){return 2==(2&o.flags)}function _a(o){return 1==(1&o.flags)}function Kr(o){return null!==o.template}function Jh(o){return 0!=(512&o[2])}function ji(o,a){return o.hasOwnProperty(we)?o[we]:null}class al{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ts(){return Tc}function Tc(o){return o.type.prototype.ngOnChanges&&(o.setInput=Yy),Rg}function Rg(){const o=Po(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Ui)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Yy(o,a,u,h){const p=Po(o)||function Qy(o,a){return o[Si]=a}(o,{previous:Ui,current:null}),y=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[u],D=b[C];y[C]=new al(D&&D.currentValue,a,b===Ui),o[h]=a}Ts.ngInherit=!0;const Si="__ngSimpleChanges__";function Po(o){return o[Si]||null}let ul;function nf(o){ul=o}function Bu(){return void 0!==ul?ul:"undefined"!=typeof document?document:void 0}function En(o){return!!o.listen}const Uu={createRenderer:(o,a)=>Bu()};function dn(o){for(;Array.isArray(o);)o=o[0];return o}function dl(o,a){return dn(a[o])}function Yi(o,a){return dn(a[o.index])}function hl(o,a){return o.data[a]}function Ds(o,a){return o[a]}function Qi(o,a){const u=a[o];return Zi(u)?u:u[0]}function ya(o){return 4==(4&o[2])}function va(o){return 128==(128&o[2])}function Ks(o,a){return null==a?null:o[a]}function Fo(o){o[18]=0}function Hu(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const bt={lFrame:ml(null),bindingsEnabled:!0};function Fg(){return bt.bindingsEnabled}function De(){return bt.lFrame.lView}function Wt(){return bt.lFrame.tView}function wa(o){return bt.lFrame.contextLView=o,o[8]}function Ln(){let o=$u();for(;null!==o&&64===o.type;)o=o.parent;return o}function $u(){return bt.lFrame.currentTNode}function fl(){const o=bt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Nr(o,a){const u=bt.lFrame;u.currentTNode=o,u.isParent=a}function uf(){return bt.lFrame.isParent}function df(){bt.lFrame.isParent=!1}function Hi(){const o=bt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Qr(){return bt.lFrame.bindingIndex}function Lo(){return bt.lFrame.bindingIndex++}function Ys(o){const a=bt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Bg(o){bt.lFrame.inI18n=o}function pf(o,a){const u=bt.lFrame;u.bindingIndex=u.bindingRootIndex=o,pl(a)}function pl(o){bt.lFrame.currentDirectiveIndex=o}function Wu(){return bt.lFrame.currentQueryIndex}function Vg(o){bt.lFrame.currentQueryIndex=o}function AE(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function gf(o,a,u){if(u&yt.SkipSelf){let p=a,y=o;for(;!(p=p.parent,null!==p||u&yt.Host||(p=AE(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;a=p,o=y}const h=bt.lFrame=jg();return h.currentTNode=a,h.lView=o,!0}function gl(o){const a=jg(),u=o[1];bt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function jg(){const o=bt.lFrame,a=null===o?null:o.child;return null===a?ml(o):a}function ml(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Hg(){const o=bt.lFrame;return bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const mf=Hg;function Jr(){const o=Hg();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function yi(){return bt.lFrame.selectedIndex}function Bo(o){bt.lFrame.selectedIndex=o}function Bn(){const o=bt.lFrame;return hl(o.tView,o.selectedIndex)}function iv(){bt.lFrame.currentNamespace="svg"}function rv(){!function LS(){bt.lFrame.currentNamespace=null}()}function Sc(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const y=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:N}=y;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),D&&(o.viewHooks||(o.viewHooks=[])).push(-u,D),x&&((o.viewHooks||(o.viewHooks=[])).push(u,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,x)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(u,N)}}function Qs(o,a,u){sv(o,a,3,u)}function _l(o,a,u,h){(3&o[2])===u&&sv(o,a,u,h)}function Gg(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function sv(o,a,u,h){const y=null!=h?h:-1,b=a.length-1;let C=0;for(let D=void 0!==h?65535&o[18]:0;D<b;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=h&&C>=h)break}else a[D]<0&&(o[18]+=65536),(C<y||-1==y)&&(ME(o,u,a,D),o[18]=(4294901760&o[18])+D+2),D++}function ME(o,a,u,h){const p=u[h]<0,y=u[h+1],C=o[p?-u[h]:u[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{y.call(C)}finally{}}}else try{y.call(C)}finally{}}class yl{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function hn(o,a,u){const h=En(o);let p=0;for(;p<u.length;){const y=u[p];if("number"==typeof y){if(0!==y)break;p++;const b=u[p++],C=u[p++],D=u[p++];h?o.setAttribute(a,C,D,b):a.setAttributeNS(b,C,D)}else{const b=y,C=u[++p];on(b)?h&&o.setProperty(a,b,C):h?o.setAttribute(a,b,C):a.setAttribute(b,C),p++}}return p}function oi(o){return 3===o||4===o||6===o}function on(o){return 64===o.charCodeAt(0)}function zu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?u=p:0===u||Wg(o,u,p,null,-1===u||2===u?a[++h]:null)}}return o}function Wg(o,a,u,h,p){let y=0,b=o.length;if(-1===a)b=-1;else for(;y<o.length;){const C=o[y++];if("number"==typeof C){if(C===a){b=-1;break}if(C>a){b=y-1;break}}}for(;y<o.length;){const C=o[y];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==p&&(o[y+1]=p));if(h===o[y+1])return void(o[y+2]=p)}y++,null!==h&&y++,null!==p&&y++}-1!==b&&(o.splice(b,0,a),y=b+1),o.splice(y++,0,u),null!==h&&o.splice(y++,0,h),null!==p&&o.splice(y++,0,p)}function vl(o){return-1!==o}function bl(o){return 32767&o}function wl(o,a){let u=function $n(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Xr=!0;function et(o){const a=Xr;return Xr=o,a}let _f=0;function Uo(o,a){const u=Ia(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,El(h.data,o),El(a,null),El(h.blueprint,null));const p=Vo(o,a),y=o.injectorIndex;if(vl(p)){const b=bl(p),C=wl(p,a),D=C[1].data;for(let x=0;x<8;x++)a[y+x]=C[b+x]|D[b+x]}return a[y+8]=p,y}function El(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ia(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Vo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,p=a;for(;null!==p;){const y=p[1],b=y.type;if(h=2===b?y.declTNode:1===b?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ji(o,a,u){!function Tn(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Ze)&&(h=u[Ze]),null==h&&(h=u[Ze]=_f++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,u)}function yf(o,a,u){if(u&yt.Optional)return o;de(a,"NodeInjector")}function Sa(o,a,u,h){if(u&yt.Optional&&void 0===h&&(h=null),0==(u&(yt.Self|yt.Host))){const p=o[9],y=Fi(void 0);try{return p?p.get(a,h,u&yt.Optional):nl(a,h,u&yt.Optional)}finally{Fi(y)}}return yf(h,a,u)}function Ac(o,a,u,h=yt.Default,p){if(null!==o){const y=function jo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ze)?o[Ze]:void 0;return"number"==typeof a?a>=0?255&a:Tl:a}(u);if("function"==typeof y){if(!gf(a,o,h))return h&yt.Host?yf(p,u,h):Sa(a,u,h,p);try{const b=y(h);if(null!=b||h&yt.Optional)return b;de(u)}finally{mf()}}else if("number"==typeof y){let b=null,C=Ia(o,a),D=-1,x=h&yt.Host?a[16][6]:null;for((-1===C||h&yt.SkipSelf)&&(D=-1===C?Vo(o,a):a[C+8],-1!==D&&vf(h,!1)?(b=a[1],C=bl(D),a=wl(D,a)):C=-1);-1!==C;){const N=a[1];if(Un(y,C,N.data)){const P=Is(C,a,u,b,h,x);if(P!==Ku)return P}D=a[C+8],-1!==D&&vf(h,a[1].data[C+8]===x)&&Un(y,C,a)?(b=N,C=bl(D),a=wl(D,a)):C=-1}}}return Sa(a,u,h,p)}const Ku={};function Tl(){return new Dl(Ln(),De())}function Is(o,a,u,h,p,y){const b=a[1],C=b.data[o+8],N=xc(C,b,u,null==h?Qh(C)&&Xr:h!=b&&0!=(3&C.type),p&yt.Host&&y===C);return null!==N?Or(a,b,N,C):Ku}function xc(o,a,u,h,p){const y=o.providerIndexes,b=a.data,C=1048575&y,D=o.directiveStart,N=y>>20,j=p?C+N:o.directiveEnd;for(let Q=h?C:C+N;Q<j;Q++){const he=b[Q];if(Q<D&&u===he||Q>=D&&he.type===u)return Q}if(p){const Q=b[D];if(Q&&Kr(Q)&&Q.type===u)return D}return null}function Or(o,a,u,h){let p=o[u];const y=a.data;if(function $g(o){return o instanceof yl}(p)){const b=p;b.resolving&&function Je(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${o}${u}`)}(Se(y[u]));const C=et(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?Fi(b.injectImpl):null;gf(o,h,yt.Default);try{p=o[u]=b.factory(void 0,y,o,h),a.firstCreatePass&&u>=h.directiveStart&&function BS(o,a,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:y}=a.type.prototype;if(h){const b=Tc(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y))}(u,y[u],a)}finally{null!==D&&Fi(D),et(C),b.resolving=!1,mf()}}return p}function Un(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function vf(o,a){return!(o&yt.Self||o&yt.Host&&a)}class Dl{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Ac(this._tNode,this._lView,a,h,u)}}function Mn(o){return Di(()=>{const a=o.prototype.constructor,u=a[we]||ai(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const y=p[we]||ai(p);if(y&&y!==u)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function ai(o){return He(o)?()=>{const a=ai(X(o));return a&&a()}:ji(o)}function Ss(o){return function Cl(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const y=u[p];if(oi(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(y===a)return u[p+1];p+=2}}}return null}(Ln(),o)}const kr="__parameters__";function es(o,a,u){return Di(()=>{const h=function Vn(o){return function(...u){if(o){const h=o(...u);for(const p in h)this[p]=h[p]}}}(a);function p(...y){if(this instanceof p)return h.apply(this,y),this;const b=new p(...y);return C.annotation=b,C;function C(D,x,N){const P=D.hasOwnProperty(kr)?D[kr]:Object.defineProperty(D,kr,{value:[]})[kr];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(b),D}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class kn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kg=new kn("AnalyzeForEntryComponents");function Xi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),Xi(h,a)):a!==o&&a.push(h)}return a}function er(o,a){o.forEach(u=>Array.isArray(u)?er(u,a):a(u))}function Oc(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Qu(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function xa(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function xi(o,a,u){let h=xl(o,a);return h>=0?o[1|h]=u:(h=~h,function Ju(o,a,u,h){let p=o.length;if(p==a)o.push(u,h);else if(1===p)o.push(h,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function Al(o,a){const u=xl(o,a);if(u>=0)return o[1|u]}function xl(o,a){return function Xu(o,a,u){let h=0,p=o.length>>u;for(;p!==h;){const y=h+(p-h>>1),b=o[y<<u];if(a===b)return y<<u;b>a?p=y:h=y+1}return~(p<<u)}(o,a,1)}const Go={},Ml="__NG_DI_FLAG__",Nl="ngTempTokenPath",wf=/\n/gm,id="__source",rd=Ie({provide:String,useValue:Ie});let ts;function Ot(o){const a=ts;return ts=o,a}function kc(o,a=yt.Default){if(void 0===ts)throw new Ve(203,"");return null===ts?nl(o,void 0,a):ts.get(o,a&yt.Optional?null:void 0,a)}function vi(o,a=yt.Default){return(function Gn(){return qr}()||kc)(X(o),a)}const tm=vi;function sd(o){const a=[];for(let u=0;u<o.length;u++){const h=X(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Ve(900,"");let p,y=yt.Default;for(let b=0;b<h.length;b++){const C=h[b],D=lv(C);"number"==typeof D?-1===D?p=C.token:y|=D:p=C}a.push(vi(p,y))}else a.push(vi(h))}return a}function $o(o,a){return o[Ml]=a,o.prototype[Ml]=a,o}function lv(o){return o[Ml]}const Oa=$o(es("Inject",o=>({token:o})),-1),Xs=$o(es("Optional"),8),ka=$o(es("SkipSelf"),4);let Lc;function Fl(o){var a;return(null===(a=function ud(){if(void 0===Lc&&(Lc=null,zt.trustedTypes))try{Lc=zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Lc}())||void 0===a?void 0:a.createHTML(o))||o}class pd{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yr(o){return o instanceof pd?o.changingThisBreaksApplicationSecurity:o}class am{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Fl(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class lm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Fl(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Fl(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let p=u.length-1;0<p;p--){const b=u.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const fv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bl(o){return(o=String(o)).match(fv)||o.match(pv)?o:"unsafe:"+o}function xf(o){return(o=String(o)).split(",").map(a=>Bl(a.trim())).join(", ")}function io(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function ns(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const um=io("area,br,col,hr,img,wbr"),_d=io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),is=io("rp,rt"),Mf=ns(um,ns(_d,io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ns(is,io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ns(is,_d)),Vc=io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nf=io("srcset"),dm=ns(Vc,Nf,io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function ro(o){const a=function Ms(){const o=De();return o&&o[12]}();return a?a.sanitize(Nn.URL,o)||"":function no(o,a){const u=function Uc(o){return o instanceof pd&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}(o,"URL")?yr(o):Bl(te(o))}const ym="__ngContext__";function Ni(o,a){o[ym]=a}function Ed(o){const a=function $c(o){return o[ym]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Lf(o){return o.ngOriginalError}function wv(o,...a){o.error(...a)}class rs{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function vm(o){return o&&o.ngErrorLogger||wv}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Lf(a);for(;u&&Lf(u);)u=Lf(u);return u||null}}const Cv=/^>|^->|<!--|-->|--!>|<!-$/g,Tv=/(<|>)/;const zc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function ss(o){return o instanceof Function?o():o}var g=(()=>((g=g||{})[g.Important=1]="Important",g[g.DashCase=2]="DashCase",g))();let m;function E(o,a){return m(o,a)}function W(o){const a=o[3];return Zr(a)?a[3]:a}function Ke(o){return lt(o[13])}function ft(o){return lt(o[4])}function lt(o){for(;null!==o&&!Zr(o);)o=o[4];return o}function ki(o,a,u,h,p){if(null!=h){let y,b=!1;Zr(h)?y=h:Zi(h)&&(b=!0,h=h[0]);const C=dn(h);0===o&&null!==u?null==p?WE(a,u,C):$l(a,u,C,p||null,!0):1===o&&null!==u?$l(a,u,C,p||null,!0):2===o?JE(a,C,b):3===o&&a.destroyNode(C),null!=y&&function eC(o,a,u,h,p){const y=u[7];y!==dn(u)&&ki(a,o,h,y,p);for(let C=10;C<u.length;C++){const D=u[C];Md(D[1],D,o,a,h,y)}}(a,o,y,u,p)}}function Pa(o,a){return En(o)?o.createText(a):o.createTextNode(a)}function jf(o,a,u){En(o)?o.setValue(a,u):a.textContent=u}function Hf(o,a){return o.createComment(function Oi(o){return o.replace(Cv,a=>a.replace(Tv,"\u200b$1\u200b"))}(a))}function _n(o,a,u){if(En(o))return o.createElement(a,u);{const h=null!==u?function tf(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(a):o.createElementNS(h,a)}}function Im(o,a){const u=o[9],h=u.indexOf(a),p=a[3];1024&a[2]&&(a[2]&=-1025,Hu(p,-1)),u.splice(h,1)}function Hl(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const p=h[17];null!==p&&p!==o&&Im(p,h),a>0&&(o[u-1][4]=h[4]);const y=Qu(o,10+a);!function Tm(o,a){Md(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=y[19];null!==b&&b.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Sm(o,a){if(!(256&a[2])){const u=a[11];En(u)&&u.destroyNode&&Md(o,a,u,3,null,null),function Ad(o){let a=o[13];if(!a)return Am(o[1],o);for(;a;){let u=null;if(Zi(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)Zi(a)&&Am(a[1],a),a=a[3];null===a&&(a=o),Zi(a)&&Am(a[1],a),u=a&&a[4]}a=u}}(a)}}function Am(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Av(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const p=a[u[h]];if(!(p instanceof yl)){const y=u[h+1];if(Array.isArray(y))for(let b=0;b<y.length;b+=2){const C=p[y[b]],D=y[b+1];try{D.call(C)}finally{}}else try{y.call(p)}finally{}}}}(o,a),function $E(o,a){const u=o.cleanup,h=a[7];let p=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const b=u[y+1],C="function"==typeof b?b(a):dn(a[b]),D=h[p=u[y+2]],x=u[y+3];"boolean"==typeof x?C.removeEventListener(u[y],D,x):x>=0?h[p=x]():h[p=-x].unsubscribe(),y+=2}else{const b=h[p=u[y+1]];u[y].call(b)}if(null!==h){for(let y=p+1;y<h.length;y++)h[y]();a[7]=null}}(o,a),1===a[1].type&&En(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Zr(a[3])){u!==a[3]&&Im(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function US(o,a,u){return Gl(o,a.parent,u)}function Gl(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===Kt.None||p===Kt.Emulated)return null}return Yi(h,u)}function $l(o,a,u,h,p){En(o)?o.insertBefore(a,u,h,p):a.insertBefore(u,h,p)}function WE(o,a,u){En(o)?o.appendChild(a,u):a.appendChild(u)}function qE(o,a,u,h,p){null!==h?$l(o,a,u,h,p):WE(o,a,u)}function xm(o,a){return En(o)?o.parentNode(a):a.parentNode}function ZE(o,a,u){return KE(o,a,u)}function xv(o,a,u){return 40&o.type?Yi(o,u):null}let Mv,KE=xv;function YE(o,a){KE=o,Mv=a}function xd(o,a,u,h){const p=US(o,h,a),y=a[11],C=ZE(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(u))for(let D=0;D<u.length;D++)qE(y,p,u[D],C,!1);else qE(y,p,u,C,!1);void 0!==Mv&&Mv(y,h,a,u,p)}function Mm(o,a){if(null!==a){const u=a.type;if(3&u)return Yi(a,o);if(4&u)return Nm(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return Mm(o,h);{const p=o[a.index];return Zr(p)?Nm(-1,p):dn(p)}}if(32&u)return E(a,o)()||dn(o[a.index]);{const h=QE(o,a);return null!==h?Array.isArray(h)?h[0]:Mm(W(o[16]),h):Mm(o,a.next)}}return null}function QE(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Nm(o,a){const u=10+o+1;if(u<a.length){const h=a[u],p=h[1].firstChild;if(null!==p)return Mm(h,p)}return a[7]}function JE(o,a,u){const h=xm(o,a);h&&function zE(o,a,u,h){En(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}function XE(o,a,u,h,p,y,b){for(;null!=u;){const C=h[u.index],D=u.type;if(b&&0===a&&(C&&Ni(dn(C),h),u.flags|=4),64!=(64&u.flags))if(8&D)XE(o,a,u.child,h,p,y,!1),ki(a,o,p,C,y);else if(32&D){const x=E(u,h);let N;for(;N=x();)ki(a,o,p,N,y);ki(a,o,p,C,y)}else 16&D?Nv(o,a,h,u,p,y):ki(a,o,p,C,y);u=b?u.projectionNext:u.next}}function Md(o,a,u,h,p,y){XE(u,h,o.firstChild,a,p,y,!1)}function Nv(o,a,u,h,p,y){const b=u[16],D=b[6].projection[h.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)ki(a,o,p,D[x],y);else XE(o,a,D,b[3],p,y,!0)}function tC(o,a,u){En(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function Ov(o,a,u){En(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function nC(o,a,u){let h=o.length;for(;;){const p=o.indexOf(a,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const y=a.length;if(p+y===h||o.charCodeAt(p+y)<=32)return p}u=p+1}}const kv="ng-template";function iC(o,a,u){let h=0;for(;h<o.length;){let p=o[h++];if(u&&"class"===p){if(p=o[h],-1!==nC(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function Fa(o){return 4===o.type&&o.value!==kv}function w2(o,a,u){return a===(4!==o.type||u?o.value:kv)}function jS(o,a,u){let h=4;const p=o.attrs||[],y=function HS(o){for(let a=0;a<o.length;a++)if(oi(o[a]))return a;return o.length}(p);let b=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!b)if(4&h){if(h=2|1&h,""!==D&&!w2(o,D,u)||""===D&&1===a.length){if(lo(h))return!1;b=!0}}else{const x=8&h?D:a[++C];if(8&h&&null!==o.attrs){if(!iC(o.attrs,x,u)){if(lo(h))return!1;b=!0}continue}const P=rC(8&h?"class":D,p,Fa(o),u);if(-1===P){if(lo(h))return!1;b=!0;continue}if(""!==x){let j;j=P>y?"":p[P+1].toLowerCase();const Q=8&h?j:null;if(Q&&-1!==nC(Q,x,0)||2&h&&x!==j){if(lo(h))return!1;b=!0}}}}else{if(!b&&!lo(h)&&!lo(D))return!1;if(b&&lo(D))continue;b=!1,h=D|1&h}}return lo(h)||b}function lo(o){return 0==(1&o)}function rC(o,a,u,h){if(null===a)return-1;let p=0;if(h||!u){let y=!1;for(;p<a.length;){const b=a[p];if(b===o)return p;if(3===b||6===b)y=!0;else{if(1===b||2===b){let C=a[++p];for(;"string"==typeof C;)C=a[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=y?1:2}return-1}return function Gf(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function Rv(o,a,u=!1){for(let h=0;h<a.length;h++)if(jS(o,a[h],u))return!0;return!1}function ui(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function Om(o,a){return o?":not("+a.trim()+")":a}function Pv(o){let a=o[0],u=1,h=2,p="",y=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&h){const C=o[++u];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!lo(b)&&(a+=Om(y,p),p=""),h=b,y=y||!lo(h);u++}return""!==p&&(a+=Om(y,p)),a}const St={};function Wl(o){Fv(Wt(),De(),yi()+o,!1)}function Fv(o,a,u,h){if(!h)if(3==(3&a[2])){const y=o.preOrderCheckHooks;null!==y&&Qs(a,y,u)}else{const y=o.preOrderHooks;null!==y&&_l(a,y,0,u)}Bo(u)}function Rm(o,a){return o<<17|a<<2}function Zo(o){return o>>17&32767}function aC(o){return 2|o}function ql(o){return(131068&o)>>2}function lC(o,a){return-131069&o|a<<2}function cC(o){return 1|o}function gC(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],y=u[h+1];if(-1!==y){const b=o.data[y];Vg(p),b.contentQueries(2,a[y],y)}}}function zf(o,a,u,h,p,y,b,C,D,x){const N=a.blueprint.slice();return N[0]=p,N[2]=140|h,Fo(N),N[3]=N[15]=o,N[8]=u,N[10]=b||o&&o[10],N[11]=C||o&&o[11],N[12]=D||o&&o[12]||null,N[9]=x||o&&o[9]||null,N[6]=y,N[16]=2==a.type?o[16]:N,N}function La(o,a,u,h,p){let y=o.data[a];if(null===y)y=Um(o,a,u,h,p),function ff(){return bt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=h,y.attrs=p;const b=fl();y.injectorIndex=null===b?-1:b.injectorIndex}return Nr(y,!0),y}function Um(o,a,u,h,p){const y=$u(),b=uf(),D=o.data[a]=function wC(o,a,u,h,p,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?y:y&&y.parent,u,a,h,p);return null===o.firstChild&&(o.firstChild=D),null!==y&&(b?null==y.child&&null!==D.parent&&(y.child=D):null===y.next&&(y.next=D)),D}function Zf(o,a,u,h){if(0===u)return-1;const p=a.length;for(let y=0;y<u;y++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function Zl(o,a,u){gl(a);try{const h=o.viewQuery;null!==h&&RC(1,h,u);const p=o.template;null!==p&&di(o,a,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&gC(o,a),o.staticViewQueries&&RC(2,o.viewQuery,u);const y=o.components;null!==y&&function _C(o,a){for(let u=0;u<a.length;u++)NC(o,a[u])}(a,y)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Jr()}}function Ba(o,a,u,h){const p=a[2];if(256!=(256&p)){gl(a);try{Fo(a),function Lg(o){return bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&di(o,a,u,2,h);const b=3==(3&p);if(b){const x=o.preOrderCheckHooks;null!==x&&Qs(a,x,null)}else{const x=o.preOrderHooks;null!==x&&_l(a,x,0,null),Gg(a,0)}if(function MC(o){for(let a=Ke(o);null!==a;a=ft(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const p=u[h],y=p[3];0==(1024&p[2])&&Hu(y,1),p[2]|=1024}}}(a),function zv(o){for(let a=Ke(o);null!==a;a=ft(a))for(let u=10;u<a.length;u++){const h=a[u],p=h[1];va(h)&&Ba(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&gC(o,a),b){const x=o.contentCheckHooks;null!==x&&Qs(a,x)}else{const x=o.contentHooks;null!==x&&_l(a,x,1),Gg(a,1)}!function Rd(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Bo(~p);else{const y=p,b=u[++h],C=u[++h];pf(b,y),C(2,a[y])}}}finally{Bo(-1)}}(o,a);const C=o.components;null!==C&&function mC(o,a){for(let u=0;u<a.length;u++)Zv(o,a[u])}(a,C);const D=o.viewQuery;if(null!==D&&RC(2,D,h),b){const x=o.viewCheckHooks;null!==x&&Qs(a,x)}else{const x=o.viewHooks;null!==x&&_l(a,x,2),Gg(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-73,1024&a[2]&&(a[2]&=-1025,Hu(a[3],-1))}finally{Jr()}}}function JS(o,a,u,h){const p=a[10],b=ya(a);try{!b&&p.begin&&p.begin(),b&&Zl(o,a,h),Ba(o,a,u,h)}finally{!b&&p.end&&p.end()}}function di(o,a,u,h,p){const y=yi(),b=2&h;try{Bo(-1),b&&a.length>20&&Fv(o,a,20,!1),u(h,p)}finally{Bo(y)}}function Pd(o,a,u){if(Ec(a)){const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const b=o.data[y];b.contentQueries&&b.contentQueries(1,u[y],y)}}}function jv(o,a,u){!Fg()||(function CC(o,a,u,h){const p=u.directiveStart,y=u.directiveEnd;o.firstCreatePass||Uo(u,a),Ni(h,a);const b=u.initialInputs;for(let C=p;C<y;C++){const D=o.data[C],x=Kr(D);x&&AC(a,u,D);const N=Or(a,o,C,u);Ni(N,a),null!==b&&xC(0,C-p,N,D,0,b),x&&(Qi(u.index,a)[8]=N)}}(o,a,u,Yi(u,a)),128==(128&u.flags)&&function TC(o,a,u){const h=u.directiveStart,p=u.directiveEnd,b=u.index,C=function ev(){return bt.lFrame.currentDirectiveIndex}();try{Bo(b);for(let D=h;D<p;D++){const x=o.data[D],N=a[D];pl(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Gv(x,N)}}finally{Bo(-1),pl(C)}}(o,a,u))}function Fd(o,a,u=Yi){const h=a.localNames;if(null!==h){let p=a.index+1;for(let y=0;y<h.length;y+=2){const b=h[y+1],C=-1===b?u(a,o):o[b];o[p++]=C}}}function yC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Vm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Vm(o,a,u,h,p,y,b,C,D,x){const N=20+h,P=N+p,j=function vC(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:St);return u}(N,P),Q="function"==typeof x?x():x;return j[1]={type:o,blueprint:j,template:u,queries:null,viewQuery:C,declTNode:a,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function bC(o,a,u,h){const p=Vd(a);null===u?p.push(h):(p.push(u),o.firstCreatePass&&qm(o).push(h,p.length-1))}function Kl(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,p):u[h]=[a,p]}return u}function Fr(o,a,u,h,p,y,b,C){const D=Yi(a,u);let N,x=a.inputs;!C&&null!=x&&(N=x[h])?(zm(o,u,N,h,p),Qh(a)&&function eA(o,a){const u=Qi(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function XS(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=b?b(p,a.value||"",h):p,En(y)?y.setProperty(D,h,p):on(h)||(D.setProperty?D.setProperty(h,p):D[h]=p))}function Yo(o,a,u,h){let p=!1;if(Fg()){const y=function DC(o,a,u){const h=o.directiveRegistry;let p=null;if(h)for(let y=0;y<h.length;y++){const b=h[y];Rv(u,b.selectors,!1)&&(p||(p=[]),Ji(Uo(u,a),o,b.type),Kr(b)?($v(o,u),p.unshift(b)):p.push(b))}return p}(o,a,u),b=null===h?null:{"":-1};if(null!==y){p=!0,Wv(u,o.data.length,y.length);for(let N=0;N<y.length;N++){const P=y[N];P.providersResolver&&P.providersResolver(P)}let C=!1,D=!1,x=Zf(o,a,y.length,null);for(let N=0;N<y.length;N++){const P=y[N];u.mergedAttrs=zu(u.mergedAttrs,P.hostAttrs),Kf(o,u,a,x,P),SC(x,P,b),null!==P.contentQueries&&(u.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=128);const j=P.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),C=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),D=!0),x++}!function Ns(o,a){const h=a.directiveEnd,p=o.data,y=a.attrs,b=[];let C=null,D=null;for(let x=a.directiveStart;x<h;x++){const N=p[x],P=N.inputs,j=null===y||Fa(a)?null:iA(P,y);b.push(j),C=Kl(P,x,C),D=Kl(N.outputs,x,D)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=C,a.outputs=D}(o,u)}b&&function IC(o,a,u){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const y=u[a[p+1]];if(null==y)throw new Ve(-301,!1);h.push(a[p],y)}}}(u,h,b)}return u.mergedAttrs=zu(u.mergedAttrs,u.attrs),p}function EC(o,a,u,h,p,y){const b=y.hostBindings;if(b){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const D=~a.index;(function F2(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(C)!=D&&C.push(D),C.push(h,p,b)}}function Gv(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function $v(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function SC(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;Kr(a)&&(u[""]=o)}}function Wv(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function Kf(o,a,u,h,p){o.data[h]=p;const y=p.factory||(p.factory=ji(p.type)),b=new yl(y,Kr(p),null);o.blueprint[h]=b,u[h]=b,EC(o,a,0,h,Zf(o,u,p.hostVars,St),p)}function AC(o,a,u){const h=Yi(a,o),p=yC(u),y=o[10],b=Bd(o,zf(o,p,null,u.onPush?64:16,h,a,y,y.createRenderer(h,u),null,null));o[a.index]=b}function co(o,a,u,h,p,y){const b=Yi(o,a);Hm(a[11],b,y,o.value,u,h,p)}function Hm(o,a,u,h,p,y,b){if(null==y)En(o)?o.removeAttribute(a,p,u):a.removeAttribute(p);else{const C=null==b?te(y):b(y,h||"",p);En(o)?o.setAttribute(a,p,C,u):u?a.setAttributeNS(u,p,C):a.setAttribute(p,C)}}function xC(o,a,u,h,p,y){const b=y[a];if(null!==b){const C=h.setInput;for(let D=0;D<b.length;){const x=b[D++],N=b[D++],P=b[D++];null!==C?h.setInput(u,P,x,N):u[N]=P}}}function iA(o,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return u}function qv(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function Zv(o,a){const u=Qi(a,o);if(va(u)){const h=u[1];80&u[2]?Ba(h,u,h.template,u[8]):u[5]>0&&Gm(u)}}function Gm(o){for(let h=Ke(o);null!==h;h=ft(h))for(let p=10;p<h.length;p++){const y=h[p];if(1024&y[2]){const b=y[1];Ba(b,y,b.template,y[8])}else y[5]>0&&Gm(y)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Qi(u[h],o);va(p)&&p[5]>0&&Gm(p)}}function NC(o,a){const u=Qi(a,o),h=u[1];(function OC(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),Zl(h,u,u[8])}function Bd(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Ud(o){for(;o;){o[2]|=64;const a=W(o);if(Jh(o)&&!a)return o;o=a}return null}function Va(o){!function $m(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=Ed(u),p=h[1];JS(p,h,p.template,u)}}(o[8])}function RC(o,a,u){Vg(0),a(o,u)}const Yf=(()=>Promise.resolve(null))();function Vd(o){return o[7]||(o[7]=[])}function qm(o){return o.cleanup||(o.cleanup=[])}function PC(o,a){const u=o[9],h=u?u.get(rs,null):null;h&&h.handleError(a)}function zm(o,a,u,h,p){for(let y=0;y<u.length;){const b=u[y++],C=u[y++],D=a[b],x=o.data[b];null!==x.setInput?x.setInput(D,p,h,C):D[C]=p}}function ja(o,a,u){const h=dl(a,o);jf(o[11],h,u)}function Kv(o,a,u){let h=u?o.styles:null,p=u?o.classes:null,y=0;if(null!==a)for(let b=0;b<a.length;b++){const C=a[b];"number"==typeof C?y=C:1==y?p=Ne(p,C):2==y&&(h=Ne(h,C+": "+a[++b]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=p:o.classesWithoutHost=p}const FC=new kn("INJECTOR",-1);class oA{get(a,u=Go){if(u===Go){const h=new Error(`NullInjectorError: No provider for ${Te(a)}!`);throw h.name="NullInjectorError",h}return u}}const Yv=new kn("Set Injector scope."),jd={},aA={};let Qv;function LC(){return void 0===Qv&&(Qv=new oA),Qv}function Jf(o,a=null,u=null,h){const p=Hd(o,a,u,h);return p._resolveInjectorDefTypes(),p}function Hd(o,a=null,u=null,h){return new Zm(o,u,a||LC(),h)}class Zm{constructor(a,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&er(u,C=>this.processProvider(C,a,u)),er([a],C=>this.processInjectorType(C,[],y)),this.records.set(FC,$d(void 0,this));const b=this.records.get(Yv);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof a?null:Te(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Go,h=yt.Default){this.assertNotDestroyed();const p=Ot(this),y=Fi(void 0);try{if(!(h&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const D=function VC(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(a)&&Ut(a);C=D&&this.injectableDefInScope(D)?$d(Gd(a),jd):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&yt.Self?LC():this.parent).get(a,u=h&yt.Optional&&u===Go?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Nl]=b[Nl]||[]).unshift(Te(a)),p)throw b;return function Ol(o,a,u,h){const p=o[Nl];throw a[id]&&p.unshift(a[id]),o.message=function Wo(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=Te(a);if(Array.isArray(a))p=a.map(Te).join(" -> ");else if("object"==typeof a){let y=[];for(let b in a)if(a.hasOwnProperty(b)){let C=a[b];y.push(b+":"+("string"==typeof C?JSON.stringify(C):Te(C)))}p=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${o.replace(wf,"\n  ")}`}("\n"+o.message,p,u,h),o.ngTokenPath=p,o[Nl]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{Fi(y),Ot(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,p)=>a.push(Te(p))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(a,u,h){if(!(a=X(a)))return!1;let p=mr(a);const y=null==p&&a.ngModule||void 0,b=void 0===y?a:y,C=-1!==h.indexOf(b);if(void 0!==y&&(p=mr(y)),null==p)return!1;if(null!=p.imports&&!C){let N;h.push(b);try{er(p.imports,P=>{this.processInjectorType(P,u,h)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:Q}=N[P];er(Q,he=>this.processProvider(he,j,Q||gt))}}this.injectorDefTypes.add(b);const D=ji(b)||(()=>new b);this.records.set(b,$d(D,jd));const x=p.providers;if(null!=x&&!C){const N=a;er(x,P=>this.processProvider(P,N,x))}return void 0!==y&&void 0!==a.providers}processProvider(a,u,h){let p=Yc(a=X(a))?a:X(a&&a.provide);const y=function Jv(o,a,u){return BC(o)?$d(void 0,o.useValue):$d(Xf(o),jd)}(a);if(Yc(a)||!0!==a.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=$d(void 0,jd,!0),b.factory=()=>sd(b.multi),this.records.set(p,b)),p=a,b.multi.push(a)}this.records.set(p,y)}hydrate(a,u){return u.value===jd&&(u.value=aA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function dA(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=X(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Gd(o){const a=Ut(o),u=null!==a?a.factory:ji(o);if(null!==u)return u;if(o instanceof kn)throw new Ve(204,!1);if(o instanceof Function)return function lA(o){const a=o.length;if(a>0)throw xa(a,"?"),new Ve(204,!1);const u=function ku(o){const a=o&&(o[ws]||o[ua]);if(a){const u=function gr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ve(204,!1)}function Xf(o,a,u){let h;if(Yc(o)){const p=X(o);return ji(p)||Gd(p)}if(BC(o))h=()=>X(o.useValue);else if(function cA(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...sd(o.deps||[]));else if(function UC(o){return!(!o||!o.useExisting)}(o))h=()=>vi(X(o.useExisting));else{const p=X(o&&(o.useClass||o.provide));if(!function U2(o){return!!o.deps}(o))return ji(p)||Gd(p);h=()=>new p(...sd(o.deps))}return h}function $d(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function BC(o){return null!==o&&"object"==typeof o&&rd in o}function Yc(o){return"function"==typeof o}let Ha=(()=>{class o{static create(u,h){var p;if(Array.isArray(u))return Jf({name:""},h,u,"");{const y=null!==(p=u.name)&&void 0!==p?p:"";return Jf({name:y},u.parent,u.providers,y)}}}return o.THROW_IF_NOT_FOUND=Go,o.NULL=new oA,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>vi(FC)}),o.__NG_ELEMENT_ID__=-1,o})();function gA(o,a){Sc(Ed(o)[1],Ln())}function n_(o){let a=function Yl(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let p;if(Kr(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ve(903,"");p=a.\u0275dir}if(p){if(u){h.push(p);const b=o;b.inputs=KC(o.inputs),b.declaredInputs=KC(o.declaredInputs),b.outputs=KC(o.outputs);const C=p.hostBindings;C&&mA(o,C);const D=p.viewQuery,x=p.contentQueries;if(D&&H2(o,D),x&&G2(o,x),Ce(o.inputs,p.inputs),Ce(o.declaredInputs,p.declaredInputs),Ce(o.outputs,p.outputs),Kr(p)&&p.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let b=0;b<y.length;b++){const C=y[b];C&&C.ngInherit&&C(o),C===n_&&(u=!1)}}a=Object.getPrototypeOf(a)}!function j2(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=zu(p.hostAttrs,u=zu(u,p.hostAttrs))}}(h)}function KC(o){return o===Ui?{}:o===gt?[]:o}function H2(o,a){const u=o.viewQuery;o.viewQuery=u?(h,p)=>{a(h,p),u(h,p)}:a}function G2(o,a){const u=o.contentQueries;o.contentQueries=u?(h,p,y)=>{a(h,p,y),u(h,p,y)}:a}function mA(o,a){const u=o.hostBindings;o.hostBindings=u?(h,p)=>{a(h,p),u(h,p)}:a}let Ga=null;function Qo(){if(!Ga){const o=zt.Symbol;if(o&&o.iterator)Ga=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Ga=h)}}}return Ga}function $a(o){return!!i_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Qo()in o)}function i_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Jo(o,a,u){return o[a]=u}function ir(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Ql(o,a,u,h){const p=ir(o,a,u);return ir(o,a+1,h)||p}function r_(o,a,u,h){const p=De();return ir(p,Lo(),a)&&(Wt(),co(Bn(),p,o,a,u,h)),r_}function Jl(o,a,u,h){return ir(o,Lo(),u)?a+te(u)+h:St}function r0(o,a,u,h,p,y){const b=De(),C=Jl(b,a,u,h);return C!==St&&co(Bn(),b,o,C,p,y),r0}function n1(o,a,u,h,p,y,b,C){const D=De(),x=Wt(),N=o+20,P=x.firstCreatePass?function a0(o,a,u,h,p,y,b,C,D){const x=a.consts,N=La(a,o,4,b||null,Ks(x,C));Yo(a,u,N,Ks(x,D)),Sc(a,N);const P=N.tViews=Vm(2,N,h,p,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,N),P.queries=a.queries.embeddedTView(N)),N}(N,x,D,a,u,h,p,y,b):x.data[N];Nr(P,!1);const j=D[11].createComment("");xd(x,D,j,P),Ni(j,D),Bd(D,D[N]=qv(j,D,j,P)),_a(P)&&jv(x,D,P),null!=b&&Fd(D,P,C)}function s1(o){return Ds(function Xy(){return bt.lFrame.contextLView}(),20+o)}function Wa(o,a=yt.Default){const u=De();return null===u?vi(o,a):Ac(Ln(),u,X(o),a)}function u1(){throw new Error("invalid")}function c_(o,a,u){const h=De();return ir(h,Lo(),a)&&Fr(Wt(),Bn(),h,o,a,h[11],u,!1),c_}function u_(o,a,u,h,p){const b=p?"class":"style";zm(o,u,a.inputs[b],b,h)}function d_(o,a,u,h){const p=De(),y=Wt(),b=20+o,C=p[11],D=p[b]=_n(C,a,function xE(){return bt.lFrame.currentNamespace}()),x=y.firstCreatePass?function RA(o,a,u,h,p,y,b){const C=a.consts,x=La(a,o,2,p,Ks(C,y));return Yo(a,u,x,Ks(C,b)),null!==x.attrs&&Kv(x,x.attrs,!1),null!==x.mergedAttrs&&Kv(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(b,y,p,0,a,u,h):y.data[b];Nr(x,!0);const N=x.mergedAttrs;null!==N&&hn(C,D,N);const P=x.classes;null!==P&&Ov(C,D,P);const j=x.styles;return null!==j&&tC(C,D,j),64!=(64&x.flags)&&xd(y,p,D,x),0===function Ic(){return bt.lFrame.elementDepthCount}()&&Ni(D,p),function Jy(){bt.lFrame.elementDepthCount++}(),_a(x)&&(jv(y,p,x),Pd(y,x,p)),null!==h&&Fd(p,x),d_}function h_(){let o=Ln();uf()?df():(o=o.parent,Nr(o,!1));const a=o;!function lf(){bt.lFrame.elementDepthCount--}();const u=Wt();return u.firstCreatePass&&(Sc(u,o),Ec(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function OE(o){return 0!=(16&o.flags)}(a)&&u_(u,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function gn(o){return 0!=(32&o.flags)}(a)&&u_(u,a,De(),a.stylesWithoutHost,!1),h_}function m0(o,a,u,h){return d_(o,a,u,h),h_(),m0}function f_(o,a,u){const h=De(),p=Wt(),y=o+20,b=p.firstCreatePass?function PA(o,a,u,h,p){const y=a.consts,b=Ks(y,h),C=La(a,o,8,"ng-container",b);return null!==b&&Kv(C,b,!0),Yo(a,u,C,Ks(y,p)),null!==a.queries&&a.queries.elementStart(a,C),C}(y,p,h,a,u):p.data[y];Nr(b,!0);const C=h[y]=h[11].createComment("");return xd(p,h,C,b),Ni(C,h),_a(b)&&(jv(p,h,b),Pd(p,b,h)),null!=u&&Fd(h,b),f_}function p_(){let o=Ln();const a=Wt();return uf()?df():(o=o.parent,Nr(o,!1)),a.firstCreatePass&&(Sc(a,o),Ec(o)&&a.queries.elementEnd(o)),p_}function h1(){return De()}function Ur(o){return!!o&&"function"==typeof o.then}function tc(o){return!!o&&"function"==typeof o.subscribe}const cs=tc;function rp(o,a,u,h){const p=De(),y=Wt(),b=Ln();return function sp(o,a,u,h,p,y,b,C){const D=_a(h),N=o.firstCreatePass&&qm(o),P=a[8],j=Vd(a);let Q=!0;if(3&h.type||C){const je=Yi(h,a),Xe=C?C(je):je,Ee=j.length,pt=C?jt=>C(dn(jt[h.index])):h.index;if(En(u)){let jt=null;if(!C&&D&&(jt=function iu(o,a,u,h){const p=o.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const b=p[y];if(b===u&&p[y+1]===h){const C=a[7],D=p[y+2];return C.length>D?C[D]:null}"string"==typeof b&&(y+=2)}return null}(o,a,p,h.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=y,jt.__ngLastListenerFn__=y,Q=!1;else{y=op(h,a,P,y,!1);const an=u.listen(Xe,p,y);j.push(y,an),N&&N.push(p,pt,Ee,Ee+1)}}else y=op(h,a,P,y,!0),Xe.addEventListener(p,y,b),j.push(y),N&&N.push(p,pt,Ee,b)}else y=op(h,a,P,y,!1);const he=h.outputs;let Le;if(Q&&null!==he&&(Le=he[p])){const je=Le.length;if(je)for(let Xe=0;Xe<je;Xe+=2){const us=a[Le[Xe]][Le[Xe+1]].subscribe(y),fu=j.length;j.push(y,us),N&&N.push(p,h.index,fu,-(fu+1))}}}(y,p,p[11],b,o,a,!!u,h),rp}function ru(o,a,u,h){try{return!1!==u(h)}catch(p){return PC(o,p),!1}}function op(o,a,u,h,p){return function y(b){if(b===Function)return h;const C=2&o.flags?Qi(o.index,a):a;0==(32&a[2])&&Ud(C);let D=ru(a,0,h,b),x=y.__ngNextListenerFn__;for(;x;)D=ru(a,0,x,b)&&D,x=x.__ngNextListenerFn__;return p&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function _0(o=1){return function tv(o){return(bt.lFrame.contextLView=function nv(o,a){for(;o>0;)a=a[15],o--;return a}(o,bt.lFrame.contextLView))[8]}(o)}function Jd(o,a){let u=null;const h=function sC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let p=0;p<a.length;p++){const y=a[p];if("*"!==y){if(null===h?Rv(o,y,!0):ui(h,y))return p}else u=p}return u}function g_(o){const a=De()[16][6];if(!a.projection){const h=a.projection=xa(o?o.length:1,null),p=h.slice();let y=a.child;for(;null!==y;){const b=o?Jd(y,o):0;null!==b&&(p[b]?p[b].projectionNext=y:h[b]=y,p[b]=y),y=y.next}}}function m_(o,a=0,u){const h=De(),p=Wt(),y=La(p,20+o,16,null,u||null);null===y.projection&&(y.projection=a),df(),64!=(64&y.flags)&&function Nd(o,a,u){Nv(a[11],0,a,u,US(o,u,a),ZE(u.parent||a[6],u,a))}(p,h,y)}function y0(o,a,u){return Ps(o,"",a,"",u),y0}function Ps(o,a,u,h,p){const y=De(),b=Jl(y,a,u,h);return b!==St&&Fr(Wt(),Bn(),y,o,b,y[11],p,!1),Ps}function y_(o,a,u,h,p){const y=o[u+1],b=null===a;let C=h?Zo(y):ql(y),D=!1;for(;0!==C&&(!1===D||b);){const N=o[C+1];FA(o[C],a)&&(D=!0,o[C+1]=h?cC(N):aC(N)),C=h?Zo(N):ql(N)}D&&(o[u+1]=h?aC(y):cC(y))}function FA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&xl(o,a)>=0}const hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m1(o){return o.substring(hi.key,hi.keyEnd)}function v_(o,a){const u=hi.textEnd;return u===a?-1:(a=hi.keyEnd=function C0(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,hi.key=a,u),su(o,a,u))}function su(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function ou(o,a,u){return fo(o,a,u,!1),ou}function T0(o,a){return fo(o,a,null,!0),T0}function b1(o){!function po(o,a,u,h){const p=Wt(),y=Ys(2);p.firstUpdatePass&&E1(p,null,y,h);const b=De();if(u!==St&&ir(b,y,u)){const C=p.data[yi()];if(up(C,h)&&!w1(p,y)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(u=Ne(D,u||"")),u_(p,C,b,u,h)}else!function Q2(o,a,u,h,p,y,b,C){p===St&&(p=gt);let D=0,x=0,N=0<p.length?p[0]:null,P=0<y.length?y[0]:null;for(;null!==N||null!==P;){const j=D<p.length?p[D+1]:void 0,Q=x<y.length?y[x+1]:void 0;let Le,he=null;N===P?(D+=2,x+=2,j!==Q&&(he=P,Le=Q)):null===P||null!==N&&N<P?(D+=2,he=N):(x+=2,he=P,Le=Q),null!==he&&I0(o,a,u,h,he,Le,b,C),N=D<p.length?p[D]:null,P=x<y.length?y[x]:null}}(p,C,b,b[11],b[y+1],b[y+1]=function WA(o,a,u){if(null==u||""===u)return gt;const h=[],p=yr(u);if(Array.isArray(p))for(let y=0;y<p.length;y++)o(h,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&o(h,y,p[y]);else"string"==typeof p&&a(h,p);return h}(o,a,u),h,y)}}(xi,ea,o,!0)}function ea(o,a){for(let u=function eh(o){return function E0(o){hi.key=0,hi.keyEnd=0,hi.value=0,hi.valueEnd=0,hi.textEnd=o.length}(o),v_(o,su(o,0,hi.textEnd))}(a);u>=0;u=v_(a,u))xi(o,m1(a),!0)}function fo(o,a,u,h){const p=De(),y=Wt(),b=Ys(2);y.firstUpdatePass&&E1(y,o,b,h),a!==St&&ir(p,b,a)&&I0(y,y.data[yi()],p,p[11],o,p[b+1]=function J2(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Te(yr(o)))),o}(a,u),h,b)}function w1(o,a){return a>=o.expandoStartIndex}function E1(o,a,u,h){const p=o.data;if(null===p[u+1]){const y=p[yi()],b=w1(o,u);up(y,h)&&null===a&&!b&&(a=!1),a=function jA(o,a,u,h){const p=function Ug(o){const a=bt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let y=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(u=cp(u=D0(null,o,a,u,h),a.attrs,h),y=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==p)if(u=D0(p,o,a,u,h),null===y){let D=function HA(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==ql(h))return o[Zo(h)]}(o,a,h);void 0!==D&&Array.isArray(D)&&(D=D0(null,o,a,D[1],h),D=cp(D,a.attrs,h),function GA(o,a,u,h){o[Zo(u?a.classBindings:a.styleBindings)]=h}(o,a,h,D))}else y=function $A(o,a,u){let h;const p=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<p;y++)h=cp(h,o[y].hostAttrs,u);return cp(h,a.attrs,u)}(o,a,h)}return void 0!==y&&(h?a.residualClasses=y:a.residualStyles=y),u}(p,y,a,h),function lp(o,a,u,h,p,y){let b=y?a.classBindings:a.styleBindings,C=Zo(b),D=ql(b);o[h]=u;let N,x=!1;if(Array.isArray(u)){const P=u;N=P[1],(null===N||xl(P,N)>0)&&(x=!0)}else N=u;if(p)if(0!==D){const j=Zo(o[C+1]);o[h+1]=Rm(j,C),0!==j&&(o[j+1]=lC(o[j+1],h)),o[C+1]=function E2(o,a){return 131071&o|a<<17}(o[C+1],h)}else o[h+1]=Rm(C,0),0!==C&&(o[C+1]=lC(o[C+1],h)),C=h;else o[h+1]=Rm(D,0),0===C?C=h:o[D+1]=lC(o[D+1],h),D=h;x&&(o[h+1]=aC(o[h+1])),y_(o,N,h,!0),y_(o,N,h,!1),function g1(o,a,u,h,p){const y=p?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof a&&xl(y,a)>=0&&(u[h+1]=cC(u[h+1]))}(a,N,o,h,y),b=Rm(C,D),y?a.classBindings=b:a.styleBindings=b}(p,y,a,u,b,h)}}function D0(o,a,u,h,p){let y=null;const b=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<b&&(y=a[C],h=cp(h,y.hostAttrs,p),y!==o);)C++;return null!==o&&(u.directiveStylingLast=C),h}function cp(o,a,u){const h=u?1:2;let p=-1;if(null!==a)for(let y=0;y<a.length;y++){const b=a[y];"number"==typeof b?p=b:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),xi(o,b,!!u||a[++y]))}return void 0===o?null:o}function I0(o,a,u,h,p,y,b,C){if(!(3&a.type))return;const D=o.data,x=D[C+1];b_(function $S(o){return 1==(1&o)}(x)?S0(D,a,u,p,ql(x),b):void 0)||(b_(y)||function GS(o){return 2==(2&o)}(x)&&(y=S0(D,null,u,p,C,b)),function ao(o,a,u,h,p){const y=En(o);if(a)p?y?o.addClass(u,h):u.classList.add(h):y?o.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:g.DashCase;if(null==p)y?o.removeStyle(u,h,b):u.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=g.Important),y?o.setStyle(u,h,p,b):u.style.setProperty(h,p,C?"important":"")}}}(h,b,dl(yi(),u),p,y))}function S0(o,a,u,h,p,y){const b=null===a;let C;for(;p>0;){const D=o[p],x=Array.isArray(D),N=x?D[1]:D,P=null===N;let j=u[p+1];j===St&&(j=P?gt:void 0);let Q=P?Al(j,h):N===h?j:void 0;if(x&&!b_(Q)&&(Q=Al(D,h)),b_(Q)&&(C=Q,b))return C;const he=o[p+1];p=b?Zo(he):ql(he)}if(null!==a){let D=y?a.residualClasses:a.residualStyles;null!=D&&(C=Al(D,h))}return C}function b_(o){return void 0!==o}function up(o,a){return 0!=(o.flags&(a?16:32))}function C1(o,a=""){const u=De(),h=Wt(),p=o+20,y=h.firstCreatePass?La(h,p,1,a,null):h.data[p],b=u[p]=Pa(u[11],a);xd(h,u,b,y),Nr(y,!1)}function A0(o){return w_("",o,""),A0}function w_(o,a,u){const h=De(),p=Jl(h,o,a,u);return p!==St&&ja(h,yi(),p),w_}function x0(o,a,u,h,p){const y=De(),b=function Kd(o,a,u,h,p,y){const C=Ql(o,Qr(),u,p);return Ys(2),C?a+te(u)+h+te(p)+y:St}(y,o,a,u,h,p);return b!==St&&ja(y,yi(),b),x0}function N0(o,a,u){const h=De();return ir(h,Lo(),a)&&Fr(Wt(),Bn(),h,o,a,h[11],u,!0),N0}const th=void 0;var nB=["en",[["a","p"],["AM","PM"],th],[["AM","PM"],th,th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",th,"{1} 'at' {0}",th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tB(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let dp={};function O0(o){const a=function mx(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=gx(a);if(u)return u;const h=a.split("-")[0];if(u=gx(h),u)return u;if("en"===h)return nB;throw new Error(`Missing locale data for the locale "${o}".`)}function px(o){return O0(o)[mt.PluralCase]}function gx(o){return o in dp||(dp[o]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[o]),dp[o]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const rB=["zero","one","two","few","many"],E_="en-US",C_={marker:"element"},T_={marker:"ICU"};var Xn=(()=>((Xn=Xn||{})[Xn.SHIFT=2]="SHIFT",Xn[Xn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Xn[Xn.COMMENT=2]="COMMENT",Xn))();let P1=E_;function F1(o,a,u){const h=a.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?xv(o,0,u):dn(u[p])}function L1(o,a,u,h,p){const y=a.insertBeforeIndex;if(Array.isArray(y)){let b=h,C=null;if(3&a.type||(C=b,b=p),null!==b&&0==(2&a.flags))for(let D=1;D<y.length;D++)$l(o,b,u[y[D]],C,!1)}}function B1(o,a){if(o.push(a),o.length>1)for(let u=o.length-2;u>=0;u--){const h=o[u];U1(h)||wx(h,a)&&null===Ex(h)&&Cx(h,a.index)}}function U1(o){return!(64&o.type)}function wx(o,a){return U1(a)||o.index>a.index}function Ex(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Cx(o,a){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=a:(YE(F1,L1),o.insertBeforeIndex=a)}function hp(o,a){const u=o.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Ix(o,a,u){const h=Um(o,u,64,null,null);return B1(a,h),h}function D_(o,a){const u=a[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function V1(o){return o>>>17}function j1(o){return(131070&o)>>>1}let fp=0,pp=0;function G1(o,a,u,h){const p=u[11];let b,y=null;for(let C=0;C<a.length;C++){const D=a[C];if("string"==typeof D){const x=a[++C];null===u[x]&&(u[x]=Pa(p,D))}else if("number"==typeof D)switch(1&D){case 0:const x=V1(D);let N,P;if(null===y&&(y=x,b=xm(p,h)),x===y?(N=h,P=b):(N=null,P=dn(u[x])),null!==P){const Le=j1(D);$l(p,P,u[Le],N,!1);const Xe=hp(o,Le);if(null!==Xe&&"object"==typeof Xe){const Ee=D_(Xe,u);null!==Ee&&G1(o,Xe.create[Ee],u,u[Xe.anchorIdx])}}break;case 1:const Q=a[++C],he=a[++C];Hm(p,dl(D>>>1,u),null,null,Q,he,null)}else switch(D){case T_:const x=a[++C],N=a[++C];null===u[N]&&Ni(u[N]=Hf(p,x),u);break;case C_:const P=a[++C],j=a[++C];null===u[j]&&Ni(u[j]=_n(p,P,null),u)}}}function $1(o,a,u,h,p){for(let y=0;y<u.length;y++){const b=u[y],C=u[++y];if(b&p){let D="";for(let x=y+1;x<=y+C;x++){const N=u[x];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=te(a[h-N]);else{const P=N>>>2;switch(3&N){case 1:const j=u[++x],Q=u[++x],he=o.data[P];"string"==typeof he?Hm(a[11],a[P],null,he,j,D,Q):Fr(o,he,a,j,D,a[11],Q,!1);break;case 0:const Le=a[P];null!==Le&&jf(a[11],Le,D);break;case 2:Mx(o,hp(o,P),a,D);break;case 3:W1(o,hp(o,P),h,a)}}}}else{const D=u[y+1];if(D>0&&3==(3&D)){const N=hp(o,D>>>2);a[N.currentCaseLViewIndex]<0&&W1(o,N,h,a)}}y+=C}}function W1(o,a,u,h){let p=h[a.currentCaseLViewIndex];if(null!==p){let y=fp;p<0&&(p=h[a.currentCaseLViewIndex]=~p,y=-1),$1(o,h,a.update[p],u,y)}}function Mx(o,a,u,h){const p=function Nx(o,a){let u=o.cases.indexOf(a);if(-1===u)switch(o.type){case 1:{const h=function _x(o,a){const u=px(a)(parseInt(o,10)),h=rB[u];return void 0!==h?h:"other"}(a,function bx(){return P1}());u=o.cases.indexOf(h),-1===u&&"other"!==h&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(a,h);if(D_(a,u)!==p&&(q1(o,a,u),u[a.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const b=u[a.anchorIdx];b&&G1(o,a.create[p],u,b)}}function q1(o,a,u){let h=D_(a,u);if(null!==h){const p=a.remove[h];for(let y=0;y<p.length;y++){const b=p[y];if(b>0){const C=dl(b,u);null!==C&&JE(u[11],C)}else q1(o,hp(o,~b),u)}}}function Ox(){const o=[];let u,h,a=-1;function y(C,D){a=0;const x=D_(C,D);h=null!==x?C.remove[x]:gt}function b(){if(a<h.length){const C=h[a++];return C>0?u[C]:(o.push(a,h),y(u[1].data[~C],u),b())}return 0===o.length?null:(h=o.pop(),a=o.pop(),b())}return function p(C,D){for(u=D;o.length;)o.pop();return y(C.value,D),b}}const R0=/\ufffd(\d+):?\d*\ufffd/gi,cB=/\ufffd(\d+)\ufffd/,Px=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uB=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dB=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hB=/\uE500/g;function Bx(o,a,u,h,p,y,b){const C=Zf(o,h,1,null);let D=C<<Xn.SHIFT,x=fl();a===x&&(x=null),null===x&&(D|=Xn.APPEND_EAGERLY),b&&(D|=Xn.COMMENT,function S(o){void 0===m&&(m=o())}(Ox)),p.push(D,null===y?"":y);const N=Um(o,C,b?32:1,null===y?"":y,null);B1(u,N);const P=N.index;return Nr(N,!1),null!==x&&a!==x&&function Dx(o,a){let u=o.insertBeforeIndex;null===u?(YE(F1,L1),u=o.insertBeforeIndex=[null,a]):(function _e(o,a,u){o!=a&&Ye(u,o,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(x,P),N}function fB(o,a,u,h,p,y,b){const C=b.match(R0),D=Bx(o,a,u,y,h,C?null:b,!1);C&&nh(p,b,D.index,null,0,null)}function nh(o,a,u,h,p,y){const b=o.length,C=b+1;o.push(null,null);const D=b+2,x=a.split(R0);let N=0;for(let P=0;P<x.length;P++){const j=x[P];if(1&P){const Q=p+parseInt(j,10);o.push(-1-Q),N|=Vx(Q)}else""!==j&&o.push(j)}return o.push(u<<2|(h?1:0)),h&&o.push(h,y),o[b]=N,o[C]=o.length-D,N}function Vx(o){return 1<<Math.min(o,31)}function Hx(o){let a,y,u="",h=0,p=!1;for(;null!==(a=uB.exec(o));)p?a[0]===`\ufffd/*${y}\ufffd`&&(h=a.index,p=!1):(u+=o.substring(h,a.index+a[0].length),y=a[1],p=!0);return u+=o.substr(h),u}function z1(o,a,u,h,p,y){let b=0;const C={type:p.type,currentCaseLViewIndex:Zf(o,a,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function mB(o,a,u){o.push(Vx(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,p,y),function Tx(o,a,u){const h=o.data[a];null===h?o.data[a]=u:h.value=u}(o,y,C);const D=p.values;for(let x=0;x<D.length;x++){const N=D[x],P=[];for(let j=0;j<N.length;j++){const Q=N[j];if("string"!=typeof Q){const he=P.push(Q)-1;N[j]=`\x3c!--\ufffd${he}\ufffd--\x3e`}}b=$x(o,C,a,u,h,p.cases[x],N.join(""),P)|b}b&&function qx(o,a,u){o.push(a,1,u<<2|3)}(u,b,y)}function gB(o){const a=[],u=[];let h=1,p=0;const y=Z1(o=o.replace(Px,function(b,C,D){return h="select"===D?0:1,p=parseInt(C.substr(1),10),""}));for(let b=0;b<y.length;){let C=y[b++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&a.push(C);const D=Z1(y[b++]);a.length>u.length&&u.push(D)}return{type:h,mainBinding:p,cases:a,values:u}}function Z1(o){if(!o)return[];let a=0;const u=[],h=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(o);){const C=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const D=o.substring(a,C);Px.test(D)?h.push(gB(D)):h.push(D),a=C+1}}else{if(0==u.length){const D=o.substring(a,C);h.push(D),a=C+1}u.push("{")}}const b=o.substring(a);return h.push(b),h}function $x(o,a,u,h,p,y,b,C){const D=[],x=[],N=[];a.cases.push(y),a.create.push(D),a.remove.push(x),a.update.push(N);const j=function Af(o){const a=new lm(o);return function md(){try{return!!(new window.DOMParser).parseFromString(Fl(""),"text/html")}catch(o){return!1}}()?new am(a):a}(Bu()).getInertBodyElement(b),Q=function Hc(o){return"content"in o&&function tr(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}(j)||j;return Q?K1(o,a,u,h,D,x,N,Q,p,C,0):0}function K1(o,a,u,h,p,y,b,C,D,x,N){let P=0,j=C.firstChild;for(;j;){const Q=Zf(o,u,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const he=j,Le=he.tagName.toLowerCase();if(Mf.hasOwnProperty(Le)){gp(p,C_,Le,D,Q),o.data[Q]=Le;const pt=he.attributes;for(let jt=0;jt<pt.length;jt++){const an=pt.item(jt),us=an.name.toLowerCase();an.value.match(R0)?dm.hasOwnProperty(us)&&nh(b,an.value,Q,an.name,0,Vc[us]?Bl:Nf[us]?xf:null):za(p,Q,an)}P=K1(o,a,u,h,p,y,b,j,Q,x,N+1)|P,Wx(y,Q,N)}break;case Node.TEXT_NODE:const je=j.textContent||"",Xe=je.match(R0);gp(p,null,Xe?"":je,D,Q),Wx(y,Q,N),Xe&&(P=nh(b,je,Q,null,0,null)|P);break;case Node.COMMENT_NODE:const Ee=cB.exec(j.textContent||"");if(Ee){const jt=x[parseInt(Ee[1],10)];gp(p,T_,"",D,Q),z1(o,u,h,D,jt,Q),S_(y,Q,N)}}j=j.nextSibling}return P}function Wx(o,a,u){0===u&&o.push(a)}function S_(o,a,u){0===u&&(o.push(~a),o.push(a))}function gp(o,a,u,h,p){null!==a&&o.push(a),o.push(u,p,function Sx(o,a,u){return o|a<<17|u<<1}(0,h,p))}function za(o,a,u){o.push(a<<1|1,u.name,u.value)}function Kx(o,a,u=-1){const h=Wt(),p=De(),y=20+o,b=Ks(h.consts,a),C=fl();h.firstCreatePass&&function Lx(o,a,u,h,p,y){const b=fl(),C=[],D=[],x=[[]];p=function Gx(o,a){if(function jx(o){return-1===o}(a))return Hx(o);{const u=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return Hx(o.substring(u,h))}}(p,y);const N=function Fx(o){return o.replace(hB," ")}(p).split(dB);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const Q=Z1(j);for(let he=0;he<Q.length;he++){let Le=Q[he];if(0==(1&he)){const je=Le;""!==je&&fB(o,b,x[0],C,D,u,je)}else{const je=Le;if("object"!=typeof je)throw new Error(`Unable to parse ICU expression in "${p}" message.`);z1(o,u,D,a,je,Bx(o,b,x[0],u,C,"",!0).index)}}}else{const Q=47===j.charCodeAt(0),Le=(j.charCodeAt(Q?1:0),20+Number.parseInt(j.substring(Q?2:1)));if(Q)x.shift(),Nr(fl(),!1);else{const je=Ix(o,x[0],Le);x.unshift([]),Nr(je,!0)}}}o.data[h]={create:C,update:D}}(h,null===C?0:C.index,p,y,b,u);const D=h.data[y],N=Gl(h,C===p[6]?null:C,p);(function xx(o,a,u,h){const p=o[11];for(let y=0;y<a.length;y++){const b=a[y++],C=a[y],D=(b&Xn.COMMENT)===Xn.COMMENT,x=(b&Xn.APPEND_EAGERLY)===Xn.APPEND_EAGERLY,N=b>>>Xn.SHIFT;let P=o[N];null===P&&(P=o[N]=D?p.createComment(C):Pa(p,C)),x&&null!==u&&$l(p,u,P,h,!1)}})(p,D.create,N,C&&8&C.type?p[C.index]:null),Bg(!0)}function P0(o,a,u){Kx(o,a,u),function Q1(){Bg(!1)}()}function F0(o){return function k0(o){o&&(fp|=1<<Math.min(pp,31)),pp++}(ir(De(),Lo(),o)),F0}function rh(o){!function Ax(o,a,u){if(pp>0){const h=o.data[u];$1(o,a,Array.isArray(h)?h:h.update,Qr()-pp-1,fp)}fp=0,pp=0}(Wt(),De(),o+20)}function L0(o,a,u,h,p){if(o=X(o),Array.isArray(o))for(let y=0;y<o.length;y++)L0(o[y],a,u,h,p);else{const y=Wt(),b=De();let C=Yc(o)?o:X(o.provide),D=Xf(o);const x=Ln(),N=1048575&x.providerIndexes,P=x.directiveStart,j=x.providerIndexes>>20;if(Yc(o)||!o.multi){const Q=new yl(D,p,Wa),he=B0(C,a,p?N:N+j,P);-1===he?(Ji(Uo(x,b),y,C),x_(y,o,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(Q),b.push(Q)):(u[he]=Q,b[he]=Q)}else{const Q=B0(C,a,N+j,P),he=B0(C,a,N,N+j),Le=Q>=0&&u[Q],je=he>=0&&u[he];if(p&&!je||!p&&!Le){Ji(Uo(x,b),y,C);const Xe=function J1(o,a,u,h,p){const y=new yl(o,u,Wa);return y.multi=[],y.index=a,y.componentProviders=0,Za(y,p,h&&!u),y}(p?U0:Jx,u.length,p,h,D);!p&&je&&(u[he].providerFactory=Xe),x_(y,o,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(Xe),b.push(Xe)}else x_(y,o,Q>-1?Q:he,Za(u[p?he:Q],D,!p&&h));!p&&h&&je&&u[he].componentProviders++}}}function x_(o,a,u,h){const p=Yc(a),y=function uA(o){return!!o.useClass}(a);if(p||y){const D=(y?X(a.useClass):a).prototype.ngOnDestroy;if(D){const x=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const N=x.indexOf(u);-1===N?x.push(u,[h,D]):x[N+1].push(h,D)}else x.push(u,D)}}}function Za(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function B0(o,a,u,h){for(let p=u;p<h;p++)if(a[p]===o)return p;return-1}function Jx(o,a,u,h){return M_(this.multi,[])}function U0(o,a,u,h){const p=this.multi;let y;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=Or(u,u[1],this.providerFactory.index,h);y=C.slice(0,b),M_(p,y);for(let D=b;D<C.length;D++)y.push(C[D])}else y=[],M_(p,y);return y}function M_(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function N_(o,a=[]){return u=>{u.providersResolver=(h,p)=>function Qx(o,a,u){const h=Wt();if(h.firstCreatePass){const p=Kr(o);L0(u,h.data,h.blueprint,p,!0),L0(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class V0{}class bB{resolveComponentFactory(a){throw function X1(o){const a=Error(`No component factory found for ${Te(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let j0=(()=>{class o{}return o.NULL=new bB,o})();function wB(){return lu(Ln(),De())}function lu(o,a){return new cu(Yi(o,a))}let cu=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=wB,o})();function nM(o){return o instanceof cu?o.nativeElement:o}class H0{}let CB=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function eT(){const o=De(),u=Qi(Ln().index,o);return function TB(o){return o[11]}(Zi(u)?u:o)}(),o})(),nc=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class G0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const mp=new G0("13.3.11"),sh={};function O_(o,a,u,h,p=!1){for(;null!==u;){const y=a[u.index];if(null!==y&&h.push(dn(y)),Zr(y))for(let C=10;C<y.length;C++){const D=y[C],x=D[1].firstChild;null!==x&&O_(D[1],D,x,h)}const b=u.type;if(8&b)O_(o,a,u.child,h);else if(32&b){const C=E(u,a);let D;for(;D=C();)h.push(D)}else if(16&b){const C=QE(a,u);if(Array.isArray(C))h.push(...C);else{const D=W(a[16]);O_(D[1],D,C,h,!0)}}u=p?u.projectionNext:u.next}return h}class _p{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return O_(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Zr(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(Hl(a,h),Qu(u,h))}this._attachedToViewContainer=!1}Sm(this._lView[1],this._lView)}onDestroy(a){bC(this._lView[1],this._lView,null,a)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Wm(o,a,u){const h=a[10];h.begin&&h.begin();try{Ba(o,a,o.template,u)}catch(p){throw PC(a,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sd(o,a){Md(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=a}}class iM extends _p{constructor(a){super(a),this._view=a}detectChanges(){Va(this._view)}checkNoChanges(){}get context(){return null}}class tT extends j0{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Xt(a);return new nT(u,this.ngModule)}}function $0(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class nT extends V0{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function km(o){return o.map(Pv).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return $0(this.componentDef.inputs)}get outputs(){return $0(this.componentDef.outputs)}create(a,u,h,p){const y=(p=p||this.ngModule)?function uu(o,a){return{get:(u,h,p)=>{const y=o.get(u,sh,p);return y!==sh||h===sh?y:a.get(u,h,p)}}}(a,p.injector):a,b=y.get(H0,Uu),C=y.get(nc,null),D=b.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",N=h?function jm(o,a,u){if(En(o))return o.selectRootElement(a,u===Kt.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(D,h,this.componentDef.encapsulation):_n(b.createRenderer(null,this.componentDef),x,function rM(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),P=this.componentDef.onPush?576:528,j=function ZC(o,a){return{components:[],scheduler:o||zc,clean:Yf,playerHandler:a||null,flags:0}}(),Q=Vm(0,null,null,1,0,null,null,null,null,null),he=zf(null,Q,j,P,null,null,b,D,C,y);let Le,je;gl(he);try{const Xe=function n0(o,a,u,h,p,y){const b=u[1];u[20]=o;const D=La(b,20,2,"#host",null),x=D.mergedAttrs=a.hostAttrs;null!==x&&(Kv(D,x,!0),null!==o&&(hn(p,o,x),null!==D.classes&&Ov(p,o,D.classes),null!==D.styles&&tC(p,o,D.styles)));const N=h.createRenderer(o,a),P=zf(u,yC(a),null,a.onPush?64:16,u[20],D,h,N,y||null,null);return b.firstCreatePass&&(Ji(Uo(D,u),b,a.type),$v(b,D),Wv(D,u.length,1)),Bd(u,P),u[20]=P}(N,this.componentDef,he,b,D);if(N)if(h)hn(D,N,["ng-version",mp.full]);else{const{attrs:Ee,classes:pt}=function oC(o){const a=[],u=[];let h=1,p=2;for(;h<o.length;){let y=o[h];if("string"==typeof y)2===p?""!==y&&a.push(y,o[++h]):8===p&&u.push(y);else{if(!lo(p))break;p=y}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Ee&&hn(D,N,Ee),pt&&pt.length>0&&Ov(D,N,pt.join(" "))}if(je=hl(Q,20),void 0!==u){const Ee=je.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const jt=u[pt];Ee.push(null!=jt?Array.from(jt):null)}}Le=function e_(o,a,u,h,p){const y=u[1],b=function nr(o,a,u){const h=Ln();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Kf(o,h,a,Zf(o,a,1,null),u));const p=Or(a,o,h.directiveStart,h);Ni(p,a);const y=Yi(h,a);return y&&Ni(y,a),p}(y,u,a);if(h.components.push(b),o[8]=b,p&&p.forEach(D=>D(b,a)),a.contentQueries){const D=Ln();a.contentQueries(1,b,D.directiveStart)}const C=Ln();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Bo(C.index),EC(u[1],C,0,C.directiveStart,C.directiveEnd,a),Gv(a,b)),b}(Xe,this.componentDef,he,j,[gA]),Zl(Q,he,null)}finally{Jr()}return new DB(this.componentType,Le,lu(je,he),he,je)}}class DB extends class Xx{}{constructor(a,u,h,p,y){super(),this.location=h,this._rootLView=p,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new iM(p),this.componentType=a}get injector(){return new Dl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class br{}class sM{}const yp=new Map;class lM extends br{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tT(this);const h=It(a);this._bootstrapComponents=ss(h.bootstrap),this._r3Injector=Hd(a,u,[{provide:br,useValue:this},{provide:j0,useValue:this.componentFactoryResolver}],Te(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Ha.THROW_IF_NOT_FOUND,h=yt.Default){return a===Ha||a===br||a===FC?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sT extends sM{constructor(a){super(),this.moduleType=a,null!==It(a)&&function SB(o){const a=new Set;!function u(h){const p=It(h,!0),y=p.id;null!==y&&(function oM(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${Te(a)} vs ${Te(a.name)}`)}(y,yp.get(y),h),yp.set(y,h));const b=ss(p.imports);for(const C of b)a.has(C)||(a.add(C),u(C))}(o)}(a)}create(a){return new lM(this.moduleType,a)}}function oT(o,a,u,h){return dM(De(),Hi(),o,a,u,h)}function aT(o,a,u,h,p){return function hM(o,a,u,h,p,y,b){const C=a+u;return Ql(o,C,p,y)?Jo(o,C+2,b?h.call(b,p,y):h(p,y)):vp(o,C+2)}(De(),Hi(),o,a,u,h,p)}function cM(o,a,u,h,p,y){return function fM(o,a,u,h,p,y,b,C){const D=a+u;return function zd(o,a,u,h,p){const y=Ql(o,a,u,h);return ir(o,a+2,p)||y}(o,D,p,y,b)?Jo(o,D+3,C?h.call(C,p,y,b):h(p,y,b)):vp(o,D+3)}(De(),Hi(),o,a,u,h,p,y)}function vp(o,a){const u=o[a];return u===St?void 0:u}function dM(o,a,u,h,p,y){const b=a+u;return ir(o,b,p)?Jo(o,b+1,y?h.call(y,p):h(p)):vp(o,b+1)}function lT(o,a){const u=Wt();let h;const p=o+20;u.firstCreatePass?(h=function RB(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const y=h.factory||(h.factory=ji(h.type)),b=Fi(Wa);try{const C=et(!1),D=y();return et(C),function r1(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,De(),p,D),D}finally{Fi(b)}}function mM(o,a,u){const h=o+20,p=De(),y=Ds(p,h);return function k_(o,a){return o[1].data[a].pure}(p,h)?dM(p,Hi(),a,y.transform,u,y):y.transform(u)}function oh(o){return a=>{setTimeout(o,void 0,a)}}const go=class BB extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var p,y,b;let C=a,D=u||(()=>null),x=h;if(a&&"object"==typeof a){const P=a;C=null===(p=P.next)||void 0===p?void 0:p.bind(P),D=null===(y=P.error)||void 0===y?void 0:y.bind(P),x=null===(b=P.complete)||void 0===b?void 0:b.bind(P)}this.__isAsync&&(D=oh(D),C&&(C=oh(C)),x&&(x=oh(x)));const N=super.subscribe({next:C,error:D,complete:x});return a instanceof ie.w0&&a.add(N),N}};function _M(){return this._results[Qo()]()}class W0{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qo(),h=W0.prototype;h[u]||(h[u]=_M)}get changes(){return this._changes||(this._changes=new go)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const p=Xi(a);(this._changesDetected=!function av(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],y=a[h];if(u&&(p=u(p),y=u(y)),y!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ah=(()=>{class o{}return o.__NG_ELEMENT_ID__=yM,o})();const cT=ah,uT=class extends cT{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=zf(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(u)),Zl(u,h,a),new _p(h)}};function yM(){return R_(Ln(),De())}function R_(o,a){return 4&o.type?new uT(a,o,lu(o,a)):null}let P_=(()=>{class o{}return o.__NG_ELEMENT_ID__=vM,o})();function vM(){return fT(Ln(),De())}const bM=P_,dT=class extends bM{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return lu(this._hostTNode,this._hostLView)}get injector(){return new Dl(this._hostTNode,this._hostLView)}get parentInjector(){const a=Vo(this._hostTNode,this._hostLView);if(vl(a)){const u=wl(a,this._hostLView),h=bl(a);return new Dl(u[1].data[h+8],u)}return new Dl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=hT(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const p=a.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(a,u,h,p,y){const b=a&&!function Nc(o){return"function"==typeof o}(a);let C;if(b)C=u;else{const P=u||{};C=P.index,h=P.injector,p=P.projectableNodes,y=P.ngModuleRef}const D=b?a:new nT(Xt(a)),x=h||this.parentInjector;if(!y&&null==D.ngModule){const j=(b?x:this.parentInjector).get(br,null);j&&(y=j)}const N=D.create(x,p,void 0,y);return this.insert(N.hostView,C),N}insert(a,u){const h=a._lView,p=h[1];if(function ju(o){return Zr(o[3])}(h)){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const P=h[3],j=new dT(P,P[6],P[3]);j.detach(j.indexOf(a))}}const y=this._adjustIndex(u),b=this._lContainer;!function zo(o,a,u,h){const p=10+h,y=u.length;h>0&&(u[p-1][4]=a),h<y-10?(a[4]=u[p],Oc(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function Dm(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=128}(p,h,b,y);const C=Nm(y,b),D=h[11],x=xm(D,b[7]);return null!==x&&function Id(o,a,u,h,p,y){h[0]=p,h[6]=a,Md(o,h,u,1,p,y)}(p,b[6],D,h,x,C),a.attachToViewContainerRef(),Oc(q0(b),y,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=hT(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=Hl(this._lContainer,u);h&&(Qu(q0(this._lContainer),u),Sm(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=Hl(this._lContainer,u);return h&&null!=Qu(q0(this._lContainer),u)?new _p(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function hT(o){return o[8]}function q0(o){return o[8]||(o[8]=[])}function fT(o,a){let u;const h=a[o.index];if(Zr(h))u=h;else{let p;if(8&o.type)p=dn(h);else{const y=a[11];p=y.createComment("");const b=Yi(o,a);$l(y,xm(y,b),p,function VS(o,a){return En(o)?o.nextSibling(a):a.nextSibling}(y,b),!1)}a[o.index]=u=qv(h,a,p,o),Bd(a,u)}return new dT(u,o,a)}class z0{constructor(a){this.queryList=a,this.matches=null}clone(){return new z0(this.queryList)}setDirty(){this.queryList.setDirty()}}class F_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,p=[];for(let y=0;y<h;y++){const b=u.getByIndex(y);p.push(this.queries[b.indexInDeclarationView].clone())}return new F_(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==OM(a,u).matches&&this.queries[u].setDirty()}}class Z0{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class L_{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(a,p);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new L_(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class pT{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new pT(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const y=h[p];this.matchTNodeWithReadOption(a,u,CM(u,y)),this.matchTNodeWithReadOption(a,u,xc(u,a,y,!1,!1))}else h===ah?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,xc(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===cu||p===P_||p===ah&&4&u.type)this.addMatch(u.index,-2);else{const y=xc(u,a,p,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function CM(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function jB(o,a,u,h){return-1===u?function VB(o,a){return 11&o.type?lu(o,a):4&o.type?R_(o,a):null}(a,o):-2===u?function TM(o,a,u){return u===cu?lu(a,o):u===ah?R_(a,o):u===P_?fT(a,o):void 0}(o,a,h):Or(o,o[1],u,a)}function DM(o,a,u,h){const p=a[19].queries[h];if(null===p.matches){const y=o.data,b=u.matches,C=[];for(let D=0;D<b.length;D+=2){const x=b[D];C.push(x<0?null:jB(a,y[x],b[D+1],u.metadata.read))}p.matches=C}return p.matches}function gT(o,a,u,h){const p=o.queries.getByIndex(u),y=p.matches;if(null!==y){const b=DM(o,a,p,u);for(let C=0;C<y.length;C+=2){const D=y[C];if(D>0)h.push(b[C/2]);else{const x=y[C+1],N=a[-D];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&gT(j[1],j,x,h)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const Q=P[j];gT(Q[1],Q,x,h)}}}}}return h}function IM(o){const a=De(),u=Wt(),h=Wu();Vg(h+1);const p=OM(u,h);if(o.dirty&&ya(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const y=p.crossesNgTemplate?gT(u,a,h,[]):DM(u,a,p,h);o.reset(y,nM),o.notifyOnChanges()}return!0}return!1}function SM(o,a,u){const h=Wt();h.firstCreatePass&&(NM(h,new Z0(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),MM(h,De(),a)}function AM(o,a,u,h){const p=Wt();if(p.firstCreatePass){const y=Ln();NM(p,new Z0(a,u,h),y.index),function GB(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}MM(p,De(),u)}function xM(){return function HB(o,a){return o[19].queries[a].queryList}(De(),Wu())}function MM(o,a,u){const h=new W0(4==(4&u));bC(o,a,h,h.destroy),null===a[19]&&(a[19]=new F_),a[19].queries.push(new z0(h))}function NM(o,a,u){null===o.queries&&(o.queries=new L_),o.queries.track(new pT(a,u))}function OM(o,a){return o.queries.getByIndex(a)}function kM(o,a){return R_(o,a)}function Cp(...o){}const vT=new kn("Application Initializer");let hh=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Cp,this.reject=Cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Ur(y))u.push(y);else if(cs(y)){const b=new Promise((C,D)=>{y.subscribe({complete:C,error:D})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(vi(vT,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const WM=new kn("AppId",{providedIn:"root",factory:function nb(){return`${ib()}${ib()}${ib()}`}});function ib(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bT=new kn("Platform Initializer"),wT=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ET=new kn("appBootstrapListener");let qM=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const rb=new kn("LocaleId",{providedIn:"root",factory:()=>tm(rb,yt.Optional|yt.SkipSelf)||function zM(){return"undefined"!=typeof $localize&&$localize.locale||E_}()}),ZM=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CT{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let YM=(()=>{class o{compileModuleSync(u){return new sT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=ss(It(u).declarations).reduce((b,C)=>{const D=Xt(C);return D&&b.push(new nT(D)),b},[]);return new CT(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const sb=(()=>Promise.resolve(0))();function H_(o){"undefined"==typeof Zone?sb.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class _o{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new go(!1),this.onMicrotaskEmpty=new go(!1),this.onStable=new go(!1),this.onError=new go(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function QM(){let o=zt.requestAnimationFrame,a=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function ST(o){const a=()=>{!function rU(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ab(o),o.isCheckStableRunning=!0,IT(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ab(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,y,b,C)=>{try{return lb(o),u.invokeTask(p,y,b,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&a(),cb(o)}},onInvoke:(u,h,p,y,b,C,D)=>{try{return lb(o),u.invoke(p,y,b,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),cb(o)}},onHasTask:(u,h,p,y)=>{u.hasTask(p,y),h===p&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,ab(o),IT(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,p,y)=>(u.handleError(p,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,p){const y=this._inner,b=y.scheduleEventTask("NgZoneEvent: "+p,a,ob,Cp,Cp);try{return y.runTask(b,u,h)}finally{y.cancelTask(b)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const ob={};function IT(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ab(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function lb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function cb(o){o._nesting--,IT(o)}class AT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new go,this.onMicrotaskEmpty=new go,this.onStable=new go,this.onError=new go}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,p){return a.apply(u,h)}}let ub=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),H_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())H_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(vi(_o))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),xT=(()=>{class o{constructor(){this._applications=new Map,OT.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return OT.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class MT{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function NT(o){OT=o}let OT=new MT,ph=null;const db=new kn("AllowMultipleToken"),kT=new kn("PlatformOnDestroy");class RT{constructor(a,u){this.name=a,this.token=u}}function PT(o,a,u=[]){const h=`Platform: ${a}`,p=new kn(h);return(y=[])=>{let b=FT();if(!b||b.injector.get(db,!1)){const C=[...u,...y,{provide:p,useValue:!0}];o?o(C):function eN(o){if(ph&&!ph.get(db,!1))throw new Ve(400,"");ph=o;const a=o.get(hb),u=o.get(bT,null);u&&u.forEach(h=>h())}(function aU(o=[],a){return Ha.create({name:a,providers:[{provide:Yv,useValue:"platform"},{provide:kT,useValue:()=>ph=null},...o]})}(C,h))}return function oU(o){const a=FT();if(!a)throw new Ve(401,"");return a}()}}function FT(){var o;return null!==(o=null==ph?void 0:ph.get(hb))&&void 0!==o?o:null}let hb=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const C=function lU(o,a){let u;return u="noop"===o?new AT:("zone.js"===o?void 0:o)||new _o({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),D=[{provide:_o,useValue:C}];return C.run(()=>{const x=Ha.create({providers:D,parent:this.injector,name:u.moduleType.name}),N=u.create(x),P=N.injector.get(rs,null);if(!P)throw new Ve(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:Q=>{P.handleError(Q)}});N.onDestroy(()=>{BT(this._modules,N),j.unsubscribe()})}),function cU(o,a,u){try{const h=u();return Ur(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(P,C,()=>{const j=N.injector.get(hh);return j.runInitializers(),j.donePromise.then(()=>(function vx(o){(function Lt(o,a){null==o&&Ye(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(P1=o.toLowerCase().replace(/_/g,"-"))}(N.injector.get(rb,E_)||E_),this._moduleDoBootstrap(N),N))})})}bootstrapModule(u,h=[]){const p=fb({},h);return function JM(o,a,u){const h=new sT(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(u){const h=u.injector.get(LT);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ve(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(kT,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(vi(Ha))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function fb(o,a){return Array.isArray(a)?a.reduce(fb,o):Object.assign(Object.assign({},o),a)}let LT=(()=>{class o{constructor(u,h,p,y){this._zone=u,this._injector=h,this._exceptionHandler=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new U.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new U.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),H_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,me.T)(b,C.pipe((0,Ae.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Ve(405,"");let p;p=u instanceof V0?u:this._injector.get(j0).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const y=function XM(o){return o.isBoundToModule}(p)?void 0:this._injector.get(br),C=p.create(Ha.NULL,[],h||p.selector,y),D=C.location.nativeElement,x=C.injector.get(ub,null),N=x&&C.injector.get(xT);return x&&N&&N.registerApplication(D,x),C.onDestroy(()=>{this.detachView(C.hostView),BT(this.components,C),N&&N.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;BT(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ET,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(vi(_o),vi(Ha),vi(rs),vi(hh))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function BT(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let tN=!0,nN=!1;function dU(){return nN=!0,tN}function iN(){if(nN)throw new Error("Cannot enable prod mode after platform setup.");tN=!1}let hU=(()=>{class o{}return o.__NG_ELEMENT_ID__=fU,o})();function fU(o){return function VT(o,a,u){if(Qh(o)&&!u){const h=Qi(o.index,a);return new _p(h,h)}return 47&o.type?new _p(a[16],a):null}(Ln(),De(),16==(16&o))}class lN{constructor(){}supports(a){return $a(a)}create(a){return new mU(a)}}const gU=(o,a)=>a;class mU{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||gU}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,p=0,y=null;for(;u||h;){const b=!h||u&&u.currentIndex<uN(h,p,y)?u:h,C=uN(b,p,y),D=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{y||(y=[]);const x=C-p,N=D-p;if(x!=N){for(let j=0;j<x;j++){const Q=j<y.length?y[j]:y[j]=0,he=Q+j;N<=he&&he<x&&(y[j]=Q+1)}y[b.previousIndex]=N-x}}C!==D&&a(b,C,D)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!$a(a))throw new Ve(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,y,b,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)y=a[C],b=this._trackByFn(C,y),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,y,b,C)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,b,C),h=!0),u=u._next}else p=0,function $2(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Qo()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,C=>{b=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,C,b,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,p){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,y,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,y,p)):a=this._addAfter(new _U(u,h),y,p),a}_verifyReinsertion(a,u,h,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?a=this._reinsertAfter(y,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,y=a._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const p=null===u?this._itHead:u._next;return a._next=p,a._prev=u,null===p?this._itTail=a:p._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new cN),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cN),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class _U{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yU{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class cN{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new yU,this.map.set(u,h)),h.add(a)}get(a,u){const p=this.map.get(a);return p?p.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uN(o,a,u){const h=o.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+a+p}class _b{constructor(){}supports(a){return a instanceof Map||i_(a)}create(){return new dN}}class dN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||i_(a)))throw new Ve(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,u);const y=p._prev,b=p._next;return y&&(y._next=b),b&&(b._prev=y),p._next=null,p._prev=null,p}const h=new hN(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class hN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new yb([new lN])}let yb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||WT()),deps:[[o,new ka,new Xs]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Ve(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:WT}),o})();function Tp(){return new Dp([new _b])}let Dp=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Tp()),deps:[[o,new ka,new Xs]]}}find(u){const h=this.factories.find(y=>y.supports(u));if(h)return h;throw new Ve(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:Tp}),o})();const gN=PT(null,"core",[]);let W_=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(vi(LT))},o.\u0275mod=pe({type:o}),o.\u0275inj=$t({}),o})()},3942:(tt,be,F)=>{F.d(be,{Z:()=>Ve});var l=F(2090),ie=F(4859),U=F(9681),me=F(1877);class Ae{constructor(te,Se){this._delegate=te,this.firebase=Se,(0,U._addComponent)(te,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(te,Se=U._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(te);return!rt.isInitialized()&&"EXPLICIT"===(null===(Je=rt.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Se})}_removeServiceInstance(te,Se=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(Se)}_addComponent(te){(0,U._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,U._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function Ne(){const Ue=function Te(Ue){const te={},Se={__esModule:!0,initializeApp:function Me(ze,H={}){const _e=U.initializeApp(ze,H);if((0,l.r3)(te,_e.name))return te[_e.name];const K=new Ue(_e,Se);return te[_e.name]=K,K},app:rt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function ye(ze){const H=ze.name,_e=H.replace("-compat","");if(U._registerComponent(ze)&&"PUBLIC"===ze.type){const K=(ee=rt())=>{if("function"!=typeof ee[_e])throw Ce.create("invalid-app-argument",{appName:H});return ee[_e]()};void 0!==ze.serviceProps&&(0,l.ZB)(K,ze.serviceProps),Se[_e]=K,Ue.prototype[_e]=function(...ee){return this._getService.bind(this,H).apply(this,ze.multipleInstances?ee:[])}}return"PUBLIC"===ze.type?Se[_e]:null},removeApp:function Je(ze){delete te[ze]},useAsService:function Be(ze,H){return"serverAuth"===H?null:H},modularAPIs:U}};function rt(ze){if(!(0,l.r3)(te,ze=ze||U._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:ze});return te[ze]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function de(){return Object.keys(te).map(ze=>te[ze])}}),rt.App=Ue,Se}(Ae);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function te(Se){(0,l.ZB)(Ue,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ue}(),q=new me.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=$;!function Oe(Ue){(0,U.registerVersion)("@firebase/app-compat","0.1.38",Ue)}()},9681:(tt,be,F)=>{F.r(be),F.d(be,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>ws,_DEFAULT_ENTRY_NAME:()=>Lt,_addComponent:()=>Sn,_addOrOverwriteComponent:()=>rn,_apps:()=>nn,_clearComponents:()=>pr,_components:()=>Yn,_getProvider:()=>$t,_registerComponent:()=>qi,_removeServiceInstance:()=>Ut,deleteApp:()=>yt,getApp:()=>ua,getApps:()=>qs,initializeApp:()=>Ws,onLog:()=>Fi,registerVersion:()=>Gn,setLogLevel:()=>nl});var l=F(5861),ie=F(4859),U=F(1877),me=F(2090),Ae=F(8766);class Ie{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ce(Qe){const we=Qe.getComponent();return"VERSION"===(null==we?void 0:we.type)}(Ze)){const Et=Ze.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Te="@firebase/app",$=new U.Yd("@firebase/app"),Lt="[DEFAULT]",Ye={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,Yn=new Map;function Sn(Qe,we){try{Qe.container.addComponent(we)}catch(Ze){$.debug(`Component ${we.name} failed to register with FirebaseApp ${Qe.name}`,Ze)}}function rn(Qe,we){Qe.container.addOrOverwriteComponent(we)}function qi(Qe){const we=Qe.name;if(Yn.has(we))return $.debug(`There were multiple attempts to register component ${we}.`),!1;Yn.set(we,Qe);for(const Ze of nn.values())Sn(Ze,Qe);return!0}function $t(Qe,we){const Ze=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Qe.container.getProvider(we)}function Ut(Qe,we,Ze=Lt){$t(Qe,we).clearInstance(Ze)}function pr(){Yn.clear()}const gr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mr{constructor(we,Ze,Et){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const ws="9.13.0";function Ws(Qe,we={}){let Ze=Qe;"object"!=typeof we&&(we={name:we});const Et=Object.assign({name:Lt,automaticDataCollectionEnabled:!1},we),wt=Et.name;if("string"!=typeof wt||!wt)throw gr.create("bad-app-name",{appName:String(wt)});if(Ze||(Ze=(0,me.aH)()),!Ze)throw gr.create("no-options");const Bt=nn.get(wt);if(Bt){if((0,me.vZ)(Ze,Bt.options)&&(0,me.vZ)(Et,Bt.config))return Bt;throw gr.create("duplicate-app",{appName:wt})}const V=new ie.H0(wt);for(const z of Yn.values())V.addComponent(z);const B=new mr(Ze,Et,V);return nn.set(wt,B),B}function ua(Qe=Lt){const we=nn.get(Qe);if(!we&&Qe===Lt)return Ws();if(!we)throw gr.create("no-app",{appName:Qe});return we}function qs(){return Array.from(nn.values())}function yt(Qe){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(Qe){const we=Qe.name;nn.has(we)&&(nn.delete(we),yield Promise.all(Qe.container.getProviders().map(Ze=>Ze.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Gn(Qe,we,Ze){var Et;let wt=null!==(Et=Ye[Qe])&&void 0!==Et?Et:Qe;Ze&&(wt+=`-${Ze}`);const Bt=wt.match(/\s|\//),V=we.match(/\s|\//);if(Bt||V){const B=[`Unable to register library "${wt}" with version "${we}":`];return Bt&&B.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Bt&&V&&B.push("and"),V&&B.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void $.warn(B.join(" "))}qi(new ie.wA(`${wt}-version`,()=>({library:wt,version:we}),"VERSION"))}function Fi(Qe,we){if(null!==Qe&&"function"!=typeof Qe)throw gr.create("invalid-log-argument");(0,U.Am)(Qe,we)}function nl(Qe){(0,U.Ub)(Qe)}const ii="firebase-heartbeat-store";let Es=null;function da(){return Es||(Es=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(Qe,we)=>{0===we&&Qe.createObjectStore(ii)}}).catch(Qe=>{throw gr.create("idb-open",{originalErrorMessage:Qe.message})})),Es}function at(){return(at=(0,l.Z)(function*(Qe){var we;try{return(yield da()).transaction(ii).objectStore(ii).get(_r(Qe))}catch(Ze){if(Ze instanceof me.ZR)$.warn(Ze.message);else{const Et=gr.create("idb-get",{originalErrorMessage:null===(we=Ze)||void 0===we?void 0:we.message});$.warn(Et.message)}}})).apply(this,arguments)}function vt(Qe,we){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(Qe,we){var Ze;try{const wt=(yield da()).transaction(ii,"readwrite");return yield wt.objectStore(ii).put(we,_r(Qe)),wt.done}catch(Et){if(Et instanceof me.ZR)$.warn(Et.message);else{const wt=gr.create("idb-set",{originalErrorMessage:null===(Ze=Et)||void 0===Ze?void 0:Ze.message});$.warn(wt.message)}}})).apply(this,arguments)}function _r(Qe){return`${Qe.name}!${Qe.options.appId}`}class Bi{constructor(we){this.container=we,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new fa(Ze),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var we=this;return(0,l.Z)(function*(){const Et=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Ui();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==wt&&!we._heartbeatsCache.heartbeats.some(Bt=>Bt.date===wt))return we._heartbeatsCache.heartbeats.push({date:wt,agent:Et}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Bt=>{const V=new Date(Bt.date).valueOf();return Date.now()-V<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,l.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const Ze=Ui(),{heartbeatsToSend:Et,unsentEntries:wt}=function gt(Qe,we=1024){const Ze=[];let Et=Qe.slice();for(const wt of Qe){const Bt=Ze.find(V=>V.agent===wt.agent);if(Bt){if(Bt.dates.push(wt.date),Vt(Ze)>we){Bt.dates.pop();break}}else if(Ze.push({agent:wt.agent,dates:[wt.date]}),Vt(Ze)>we){Ze.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:Et}}(we._heartbeatsCache.heartbeats),Bt=(0,me.L)(JSON.stringify({version:2,heartbeats:Et}));return we._heartbeatsCache.lastSentHeartbeatDate=Ze,wt.length>0?(we._heartbeatsCache.heartbeats=wt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),Bt})()}}function Ui(){return(new Date).toISOString().substring(0,10)}class fa{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,l.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function Kt(Qe){return at.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var Ze=this;return(0,l.Z)(function*(){var Et;if(yield Ze._canUseIndexedDBPromise){const Bt=yield Ze.read();return vt(Ze.app,{lastSentHeartbeatDate:null!==(Et=we.lastSentHeartbeatDate)&&void 0!==Et?Et:Bt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Ze=this;return(0,l.Z)(function*(){var Et;if(yield Ze._canUseIndexedDBPromise){const Bt=yield Ze.read();return vt(Ze.app,{lastSentHeartbeatDate:null!==(Et=we.lastSentHeartbeatDate)&&void 0!==Et?Et:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...we.heartbeats]})}})()}}function Vt(Qe){return(0,me.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function pa(Qe){qi(new ie.wA("platform-logger",we=>new Ie(we),"PRIVATE")),qi(new ie.wA("heartbeat",we=>new Bi(we),"PRIVATE")),Gn(Te,"0.8.3",Qe),Gn(Te,"0.8.3","esm2017"),Gn("fire-js","")}("")},4859:(tt,be,F)=>{F.d(be,{H0:()=>Te,wA:()=>U,zt:()=>Ae});var l=F(5861),ie=F(2090);class U{constructor($,q,X){this.name=$,this.instanceFactory=q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const me="[DEFAULT]";class Ae{constructor($,q){this.name=$,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const q=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(q)){const X=new ie.BH;if(this.instancesDeferred.set(q,X),this.isInitialized(q)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:q});He&&X.resolve(He)}catch(He){}}return this.instancesDeferred.get(q).promise}getImmediate($){var q;const X=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),He=null!==(q=null==$?void 0:$.optional)&&void 0!==q&&q;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Oe){if(He)return null;throw Oe}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function Ce(Ne){return"EAGER"===Ne.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:me})}catch(q){}for(const[q,X]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(q);try{const Oe=this.getOrInitializeService({instanceIdentifier:He});X.resolve(Oe)}catch(Oe){}}}}clearInstance($=me){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const q=Array.from($.instances.values());yield Promise.all([...q.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...q.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=me){return this.instances.has($)}getOptions($=me){return this.instancesOptions.get($)||{}}initialize($={}){const{options:q={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:X,options:q});for(const[Oe,Ve]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Oe)&&Ve.resolve(He);return He}onInit($,q){var X;const He=this.normalizeInstanceIdentifier(q),Oe=null!==(X=this.onInitCallbacks.get(He))&&void 0!==X?X:new Set;Oe.add($),this.onInitCallbacks.set(He,Oe);const Ve=this.instances.get(He);return Ve&&$(Ve,He),()=>{Oe.delete($)}}invokeOnInitCallbacks($,q){const X=this.onInitCallbacks.get(q);if(X)for(const He of X)try{He($,q)}catch(Oe){}}getOrInitializeService({instanceIdentifier:$,options:q={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=$,Ne===me?void 0:Ne),options:q}),this.instances.set($,X),this.instancesOptions.set($,q),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch(He){}var Ne;return X||null}normalizeInstanceIdentifier($=me){return this.component?this.component.multipleInstances?$:me:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor($){this.name=$,this.providers=new Map}addComponent($){const q=this.getProvider($.name);if(q.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);q.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const q=new Ae($,this);return this.providers.set($,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,be,F)=>{F.d(be,{Am:()=>Ne,Ub:()=>Te,Yd:()=>Ce,in:()=>ie});const l=[];var ie=(()=>{return($=ie||(ie={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ie;var $})();const U={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},me=ie.INFO,Ae={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Ie=($,q,...X)=>{if(q<$.logLevel)return;const He=(new Date).toISOString(),Oe=Ae[q];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Oe](`[${He}]  ${$.name}:`,...X)};class Ce{constructor(q){this.name=q,this._logLevel=me,this._logHandler=Ie,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in ie))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?U[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...q),this._logHandler(this,ie.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...q),this._logHandler(this,ie.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...q),this._logHandler(this,ie.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...q),this._logHandler(this,ie.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...q),this._logHandler(this,ie.ERROR,...q)}}function Te($){l.forEach(q=>{q.setLogLevel($)})}function Ne($,q){for(const X of l){let He=null;q&&q.level&&(He=U[q.level]),X.userLogHandler=null===$?null:(Oe,Ve,...Ue)=>{const te=Ue.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Je){return null}}).filter(Se=>Se).join(" ");Ve>=(null!=He?He:Oe.logLevel)&&$({level:ie[Ve].toLowerCase(),message:te,args:Ue,type:Oe.name})}}}},8766:(tt,be,F)=>{F.d(be,{Lj:()=>Me,X3:()=>rt});var l=F(5861);let U,me;const Ce=new WeakMap,Te=new WeakMap,Ne=new WeakMap,$=new WeakMap,q=new WeakMap;let Oe={get(H,_e,K){if(H instanceof IDBTransaction){if("done"===_e)return Te.get(H);if("objectStoreNames"===_e)return H.objectStoreNames||Ne.get(H);if("store"===_e)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Se(H[_e])},set:(H,_e,K)=>(H[_e]=K,!0),has:(H,_e)=>H instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in H};function te(H){return"function"==typeof H?function Ue(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(..._e){return H.apply(Je(this),_e),Se(Ce.get(this))}:function(..._e){return Se(H.apply(Je(this),_e))}:function(_e,...K){const ee=H.call(Je(this),_e,...K);return Ne.set(ee,_e.sort?_e.sort():[_e]),Se(ee)}}(H):(H instanceof IDBTransaction&&function He(H){if(Te.has(H))return;const _e=new Promise((K,ee)=>{const J=()=>{H.removeEventListener("complete",fe),H.removeEventListener("error",ae),H.removeEventListener("abort",ae)},fe=()=>{K(),J()},ae=()=>{ee(H.error||new DOMException("AbortError","AbortError")),J()};H.addEventListener("complete",fe),H.addEventListener("error",ae),H.addEventListener("abort",ae)});Te.set(H,_e)}(H),((H,_e)=>_e.some(K=>H instanceof K))(H,function Ae(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Oe):H)}function Se(H){if(H instanceof IDBRequest)return function X(H){const _e=new Promise((K,ee)=>{const J=()=>{H.removeEventListener("success",fe),H.removeEventListener("error",ae)},fe=()=>{K(Se(H.result)),J()},ae=()=>{ee(H.error),J()};H.addEventListener("success",fe),H.addEventListener("error",ae)});return _e.then(K=>{K instanceof IDBCursor&&Ce.set(K,H)}).catch(()=>{}),q.set(_e,H),_e}(H);if($.has(H))return $.get(H);const _e=te(H);return _e!==H&&($.set(H,_e),q.set(_e,H)),_e}const Je=H=>q.get(H);function rt(H,_e,{blocked:K,upgrade:ee,blocking:J,terminated:fe}={}){const ae=indexedDB.open(H,_e),Fe=Se(ae);return ee&&ae.addEventListener("upgradeneeded",dt=>{ee(Se(ae.result),dt.oldVersion,dt.newVersion,Se(ae.transaction))}),K&&ae.addEventListener("blocked",()=>K()),Fe.then(dt=>{fe&&dt.addEventListener("close",()=>fe()),J&&dt.addEventListener("versionchange",()=>J())}).catch(()=>{}),Fe}function Me(H,{blocked:_e}={}){const K=indexedDB.deleteDatabase(H);return _e&&K.addEventListener("blocked",()=>_e()),Se(K).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Be=new Map;function ze(H,_e){if(!(H instanceof IDBDatabase)||_e in H||"string"!=typeof _e)return;if(Be.get(_e))return Be.get(_e);const K=_e.replace(/FromIndex$/,""),ee=_e!==K,J=ye.includes(K);if(!(K in(ee?IDBIndex:IDBObjectStore).prototype)||!J&&!de.includes(K))return;const fe=function(){var ae=(0,l.Z)(function*(Fe,...dt){const Jt=this.transaction(Fe,J?"readwrite":"readonly");let Lt=Jt.store;return ee&&(Lt=Lt.index(dt.shift())),(yield Promise.all([Lt[K](...dt),J&&Jt.done]))[0]});return function(dt){return ae.apply(this,arguments)}}();return Be.set(_e,fe),fe}!function Ve(H){Oe=H(Oe)}(H=>sW(rW({},H),{get:(_e,K,ee)=>ze(_e,K)||H.get(_e,K,ee),has:(_e,K)=>!!ze(_e,K)||H.has(_e,K)}))},5861:(tt,be,F)=>{function l(U,me,Ae,Ie,Ce,Te,Ne){try{var $=U[Te](Ne),q=$.value}catch(X){return void Ae(X)}$.done?me(q):Promise.resolve(q).then(Ie,Ce)}function ie(U){return function(){var me=this,Ae=arguments;return new Promise(function(Ie,Ce){var Te=U.apply(me,Ae);function Ne(q){l(Te,Ie,Ce,Ne,$,"next",q)}function $(q){l(Te,Ie,Ce,Ne,$,"throw",q)}Ne(void 0)})}}F.d(be,{Z:()=>ie})}},tt=>{tt(tt.s=981)}]);